<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Challey â€” Specification</title>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
:root {
  --navy: #1E3A5F; --blue: #2D7DD2; --green: #28A745; --amber: #F4A261;
  --red: #E63946; --light-bg: #F8F9FA; --text: #333333; --text-light: #666666;
  --border: #DEE2E6; --white: #FFFFFF;
}
@page { size: letter; margin: 0.75in; }
html { font-size: 10.5pt; }
body { font-family: system-ui, 'Segoe UI', sans-serif; color: var(--text); line-height: 1.6; background: var(--white); }
@media print { body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } .cover { box-shadow: none !important; } .no-print { display: none !important; } }
.cover { background: linear-gradient(135deg, #1E3A5F 0%, #0F1F33 60%, #162D4A 100%); color: white; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; min-height: 100vh; position: relative; overflow: hidden; }
.cover::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(ellipse at 30% 20%, rgba(45,125,210,0.12) 0%, transparent 50%), radial-gradient(ellipse at 70% 80%, rgba(45,125,210,0.08) 0%, transparent 50%); pointer-events: none; }
.cover-content { position: relative; z-index: 1; max-width: 700px; }
.cover .brand-mark { font-size: 1.4rem; font-weight: 300; letter-spacing: 0.35em; text-transform: uppercase; color: rgba(255,255,255,0.7); margin-bottom: 60px; border: 1px solid rgba(255,255,255,0.2); display: inline-block; padding: 10px 28px; border-radius: 4px; }
.cover h1 { font-size: 3rem; color: white; margin-bottom: 20px; font-weight: 700; letter-spacing: -0.02em; }
.cover .subtitle { font-size: 1.3rem; color: rgba(255,255,255,0.8); font-weight: 300; margin-bottom: 60px; line-height: 1.5; }
.cover .divider-line { width: 80px; height: 2px; background: var(--blue); margin: 0 auto 40px; }
.cover .meta { font-size: 0.95rem; color: rgba(255,255,255,0.6); line-height: 2; }
.cover .confidential { position: absolute; bottom: 40px; left: 0; right: 0; text-align: center; font-size: 0.8rem; letter-spacing: 0.15em; text-transform: uppercase; color: rgba(255,255,255,0.35); }
.page-header { display: flex; justify-content: space-between; align-items: center; padding: 16px 56px; border-bottom: 2px solid var(--navy); font-size: 0.78rem; color: var(--text-light); text-transform: uppercase; letter-spacing: 0.08em; }
.page-header .logo-text { font-weight: 700; color: var(--navy); letter-spacing: 0.15em; }
.content { padding: 48px 56px; max-width: 900px; margin: 0 auto; }
h1 { font-size: 2.4rem; color: var(--navy); font-weight: 700; letter-spacing: -0.02em; line-height: 1.2; margin: 36px 0 16px; }
h2 { font-size: 1.6rem; color: var(--navy); font-weight: 700; letter-spacing: -0.01em; line-height: 1.3; margin: 32px 0 14px; border-bottom: 2px solid var(--blue); padding-bottom: 8px; }
h3 { font-size: 1.2rem; color: var(--navy); font-weight: 600; line-height: 1.3; margin: 24px 0 10px; }
h4 { font-size: 1.05rem; color: var(--navy); font-weight: 600; margin: 18px 0 8px; }
p { margin-bottom: 14px; line-height: 1.7; }
strong { color: var(--navy); }
ul, ol { margin-bottom: 16px; padding-left: 0; list-style: none; }
ul li, ol li { padding: 6px 0 6px 26px; position: relative; line-height: 1.6; }
ul li::before { content: '\25B6'; position: absolute; left: 0; color: var(--blue); font-size: 0.55rem; top: 12px; }
ol { counter-reset: item; }
ol li { counter-increment: item; }
ol li::before { content: counter(item); position: absolute; left: 0; width: 22px; height: 22px; background: var(--navy); color: #fff; border-radius: 50%; font-size: 0.7rem; font-weight: 700; display: flex; align-items: center; justify-content: center; top: 8px; }
table { width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.92rem; box-shadow: 0 1px 4px rgba(0,0,0,0.06); }
thead th { background: var(--navy); color: white; padding: 12px 16px; text-align: left; font-weight: 600; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.04em; border: 1px solid #15304D; }
tbody td { padding: 11px 16px; border: 1px solid var(--border); vertical-align: top; line-height: 1.5; }
tbody tr:nth-child(even) { background: #F8F9FA; }
tbody tr:hover { background: #EBF3FB; }
blockquote { border-left: 4px solid var(--blue); background: #EBF3FB; padding: 20px 24px; border-radius: 0 8px 8px 0; margin: 20px 0; }
blockquote p:last-child { margin-bottom: 0; }
code { background: rgba(45,125,210,0.08); padding: 2px 7px; border-radius: 4px; font-size: 0.88rem; color: var(--blue); font-weight: 500; }
pre { background: #1b2e4a; color: #e2e8f0; padding: 20px 24px; border-radius: 10px; overflow-x: auto; margin: 20px 0; box-shadow: 0 4px 12px rgba(26,43,74,0.12); }
pre code { background: none; padding: 0; color: #e2e8f0; font-size: 0.85rem; }
hr { border: none; height: 2px; background: linear-gradient(90deg, var(--blue), transparent); margin: 32px 0; }
a { color: var(--blue); text-decoration: none; font-weight: 500; }
a:hover { text-decoration: underline; }
img { max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); margin: 16px 0; }
.back-link { position: fixed; top: 16px; right: 20px; z-index: 100; background: var(--navy); color: white; padding: 8px 18px; border-radius: 6px; font-size: 0.82rem; font-weight: 600; text-decoration: none; box-shadow: 0 2px 8px rgba(0,0,0,0.2); transition: background 0.15s; }
.back-link:hover { background: #264E7A; text-decoration: none; color: white; }
</style>
</head>
<body>
<a class="back-link no-print" href="../..">&#8592; Dashboard</a>
<div class="cover">
  <div class="cover-content">
    <div class="brand-mark">Challey</div>
    <h1>Specification</h1>
    <div class="subtitle">Chore tracking app where parents assign chores with rewards and kids mark them complete to earn those rewards</div>
    <div class="divider-line"></div>
    <div class="meta">February 13, 2026<br>Crucible Product Development Pipeline</div>
  </div>
  <div class="confidential">Confidential</div>
</div>
<div class="page-header no-print">
  <span class="logo-text">Challey</span>
  <span>Specification</span>
</div>
<div class="content" id="content"></div>
<script>
  const md = "# Challey - Technical Specification\n\n## Phase 2: Specification Document\n\n**Project:** Challey\n**Domain:** challey.app\n**Client:** Maggie (age 13)\n**Technical Analyst:** TA Agent\n**Date:** February 12, 2026\n**Status:** Specification Complete\n**Source Documents:** discovery.md, challey.html (prototype v3.1)\n\n---\n\n## Table of Contents\n\n1. [Overview](#1-overview)\n2. [User Roles & Permissions](#2-user-roles--permissions)\n3. [Screen-by-Screen Specification](#3-screen-by-screen-specification)\n4. [Data Model](#4-data-model)\n5. [API Specification](#5-api-specification)\n6. [Business Logic & Rules Engine](#6-business-logic--rules-engine)\n7. [Integrations](#7-integrations)\n8. [Non-Functional Requirements](#8-non-functional-requirements)\n9. [Build Scope Summary](#9-build-scope-summary)\n\n---\n\n## 1. Overview\n\n### 1.1 Product Summary\n\nChalley is a family chore tracking and reward management mobile-first web application. Parents assign chores with point values to kids. Kids complete chores, submit photo proof, and earn points. Parents verify completed work and approve points. Kids redeem points for rewards from a family catalog or cash them out for real money. The app includes sibling interaction features (swaps, shout-outs, leaderboard), a family social feed (\"The Living Room\"), an animated companion mascot (\"Chal\"), and deep personalization (themes, dark mode).\n\n### 1.2 Core Loop\n\n```\nParent assigns chore (with points)\n  -> Kid marks \"Started it\" or \"Done!\"\n  -> Kid uploads photo proof + optional note\n  -> Kid submits for verification\n  -> Parent reviews (swipe-to-approve or redo)\n  -> Points awarded on approval\n  -> Kid spends points on rewards or cashes out\n```\n\n### 1.3 Target Users\n\n- **Primary:** Families with kids ages 8-17\n- **Client persona:** Maggie (13) -- teen who enjoys chores but lacks communication channel to parents\n- **Admin persona:** Dad (Mike) -- family admin who assigns chores and manages rewards\n\n### 1.4 Platform\n\n- **Phone-first** Progressive Web App (PWA)\n- Responsive design optimized for 375px viewport (iPhone SE/standard)\n- Desktop-accessible but mobile-primary\n\n### 1.5 Screen Count\n\n**Total: 68 screens/overlays (47 MVP, 2 MVP-LITE, 19 POST-MVP)**\n\n---\n\n## 2. User Roles & Permissions\n\n### 2.1 Role Definitions\n\n| Role | Auth Method | Description | Max per Family |\n|------|------------|-------------|----------------|\n| **Family Admin** | Social OAuth or Email/Password | Creates family, full control. First parent to sign up. | 1 |\n| **Parent/Guardian** | Social OAuth or Email/Password | Can assign chores, verify, manage rewards. Invited by Admin. | 9 (total adults capped at 10 with admin) |\n| **Kid** | Family Code + Member Code + 4-digit PIN | Completes chores, earns points, redeems rewards. | 10 |\n\n### 2.2 Permission Matrix\n\n| Action | Family Admin | Parent/Guardian | Kid |\n|--------|:-----------:|:---------------:|:---:|\n| Create family | Yes | No | No |\n| Invite adults | Yes | No | No |\n| Add/remove kids | Yes | Yes | No |\n| Create chores | Yes | Yes | No |\n| Assign chores to kids | Yes | Yes | No |\n| Verify/approve chores | Yes | Yes | No |\n| Request redo on chores | Yes | Yes | No |\n| Create rewards | Yes | Yes | No |\n| Fulfill rewards / hand cash | Yes | Yes | No |\n| Manage points economy (rate) | Yes | No | No |\n| View all kids' data | Yes | Yes | No |\n| Reset kid PIN | Yes | Yes | No |\n| Configure companion messages | Yes | Yes | No |\n| Give badges to kids | Yes | Yes | No |\n| Boost shout-outs | Yes | Yes | No |\n| Review swap requests (kid-to-parent) | Yes | Yes | No |\n| Pin posts in Living Room | Yes | Yes | No |\n| Mark chore as started | No | No | Yes |\n| Mark chore as done | No | No | Yes |\n| Upload photo proof | No | No | Yes |\n| Submit chore for verification | No | No | Yes |\n| Browse/redeem rewards | No | No | Yes |\n| Cash out points | No | No | Yes |\n| Initiate chore swap | No | No | Yes |\n| Send shout-outs | No | No | Yes |\n| Manage own wishlist | No | No | Yes |\n| Change theme/dark mode | No (own) | No (own) | Yes |\n| Toggle companion visibility | No | No | Yes |\n| Post in Living Room | Yes | Yes | Yes |\n| Comment on posts | Yes | Yes | Yes |\n| React to posts (like, emoji) | Yes | Yes | Yes |\n| View leaderboard | Yes | Yes | Yes |\n| Switch role (demo/prototype only) | N/A | N/A | N/A |\n\n### 2.3 Authentication Flows\n\n#### Parent Authentication **[MVP]**\n- **Social OAuth:** Sign in with Apple, Sign in with Google, Continue with Facebook\n- **Email/Password:** First name, last name, email, password (min 8 chars)\n- Session persists via JWT token with refresh rotation\n\n#### Kid Authentication **[MVP]**\n- **First-time join:** Enter Family Code + Member Code -> Set 4-digit PIN -> Confirm PIN\n- **Returning login:** Enter Family Code + Member Code -> Enter 4-digit PIN\n- **Forgot PIN:** Sends reset request to parent; parent resets from Settings\n- PIN stored as bcrypt hash; 5 failed attempts triggers lockout (parent notification)\n\n### 2.4 Family Code System **[MVP]**\n\n- **Family Code:** Auto-generated from family name (first 4 uppercase letters + 2 random digits). Example: `JOHN13`\n- **Member Code:** Auto-generated from kid name (first 3 uppercase letters + 2-digit sequence). Example: `MAG01`, `JAK01`, `LIL01`\n- Codes are unique across the platform\n- Family code displayed prominently in welcome screen and parent settings\n- Copy-to-clipboard functionality on all code displays\n\n---\n\n## 3. Screen-by-Screen Specification\n\n### 3.1 Onboarding Flow\n\n#### Screen: Splash **[MVP]**\n- **ID:** `splash`\n- **Route:** `/`\n- **Elements:**\n  - App logo (checkmark circle icon)\n  - App name \"Challey\" (48px heading)\n  - Tagline \"Chores. Points. Rewards.\"\n  - \"Get Started\" button (primary)\n- **Navigation:** \"Get Started\" -> Join/Create Family\n\n#### Screen: Join/Create Family **[MVP]**\n- **ID:** `join-family`\n- **Route:** `/welcome`\n- **Elements:**\n  - Back button -> Splash\n  - Header: \"Welcome to Challey\" / \"How would you like to get started?\"\n  - Two welcome cards:\n    1. \"Join a Family\" (family emoji, \"I have a family code and member code from my parent\") -> Join Family Code\n    2. \"Create a Family\" (house emoji, \"I'm a parent setting up Challey for the first time\") -> Create Family Auth\n\n#### Screen: Join Family Code Entry **[MVP]**\n- **ID:** `join-family-code`\n- **Route:** `/join`\n- **Elements:**\n  - Back button -> Join Family\n  - Header: \"Join Your Family\" / \"Enter the codes your parent gave you\"\n  - Input: Family Code (text, placeholder \"e.g., JOHN13\")\n  - Input: Your Member Code (text, placeholder \"e.g., MAG01\")\n  - \"Continue\" button (primary)\n- **Validation:**\n  - Both fields required\n  - Family code must match existing family\n  - Member code must match a kid in that family who has not yet set a PIN\n- **Navigation:** Continue -> Kid Set PIN (if valid)\n- **Error states:** Invalid code, already-claimed member code\n\n#### Screen: Kid Set PIN **[MVP]**\n- **ID:** `kid-set-pin`\n- **Route:** `/join/set-pin`\n- **Elements:**\n  - Back button -> Join Family Code\n  - Header: \"Set Your PIN\" / \"Create a 4-digit PIN to keep your account safe\"\n  - 4 PIN dots (unfilled/filled state)\n  - Numeric keypad (1-9, 0, backspace)\n- **Behavior:** Auto-advances to confirm screen when 4 digits entered\n\n#### Screen: Kid Confirm PIN **[MVP]**\n- **ID:** `kid-confirm-pin`\n- **Route:** `/join/confirm-pin`\n- **Elements:**\n  - Back button -> Kid Set PIN\n  - Header: \"Confirm Your PIN\" / \"Enter the same PIN again\"\n  - 4 PIN dots\n  - Numeric keypad\n- **Validation:** Must match PIN from set screen\n- **Error:** \"PINs don't match -- try again\" (clears confirm, stays on screen)\n- **Success:** Confetti animation, toast \"PIN set!\", navigate to Kid Chores after 800ms\n\n#### Screen: Kid Enter PIN (Returning) **[MVP]**\n- **ID:** `kid-enter-pin`\n- **Route:** `/login`\n- **Elements:**\n  - Back button -> Join Family\n  - Header: \"Welcome Back!\" / \"Enter your PIN\"\n  - Info card showing Family Code and Member Code\n  - 4 PIN dots\n  - Numeric keypad\n  - \"Forgot PIN?\" link -> Kid Forgot PIN\n- **Validation:** PIN must match stored hash\n- **Success:** Navigate to Kid Chores\n- **Error:** Shake animation on dots, clear PIN buffer\n\n#### Screen: Kid Forgot PIN **[MVP]**\n- **ID:** `kid-forgot-pin`\n- **Route:** `/login/forgot-pin`\n- **Elements:**\n  - Lock icon (secondary color)\n  - \"PIN Reset Requested\" heading\n  - Message: \"We just asked Dad to reset your PIN. Hang tight...\"\n  - Animated family pet emoji (bouncing)\n  - \"Try Again\" button (secondary) -> Kid Enter PIN\n- **Behavior:** Sends push notification to all parents in family; parent resets PIN from Settings\n\n#### Screen: Create Family Auth **[MVP]**\n- **ID:** `create-family-auth`\n- **Route:** `/create`\n- **Elements:**\n  - Back button -> Join Family\n  - Header: \"Create Your Account\" / \"Choose how to sign up\"\n  - Social auth buttons:\n    - Sign in with Apple (Apple button style)\n    - Sign in with Google (Google button style)\n    - Continue with Facebook (Facebook button style)\n  - Divider \"or\"\n  - \"Sign up with email\" button (outline) -> Manual Signup\n  - Footer: \"Already have an account? Log in\" link -> Kid Enter PIN\n- **All social buttons navigate to:** Create Family Role\n\n#### Screen: Manual Signup **[MVP]**\n- **ID:** `create-family-manual`\n- **Route:** `/create/signup`\n- **Elements:**\n  - Back button -> Create Family Auth\n  - Header: \"Create Account\" / \"Sign up with your email\"\n  - Input: First Name (text, required)\n  - Input: Last Name (text, required)\n  - Input: Email (email, required)\n  - Input: Create Password (password, min 8 chars)\n  - \"Continue\" button (primary) -> Create Family Role\n- **Validation:** All fields required, valid email format, password >= 8 chars\n\n#### Screen: Parent Role Selection **[MVP]**\n- **ID:** `create-family-role`\n- **Route:** `/create/role`\n- **Elements:**\n  - Back button -> Create Family Auth\n  - Header: \"What's Your Role?\" / \"How should we introduce you?\"\n  - 2x2 grid of role options (selectable, highlight on selection):\n    - Dad (man emoji)\n    - Mom (woman emoji)\n    - Guardian (shield emoji)\n    - Relative (family emoji)\n  - \"Continue\" button (primary) -> Create Family Name\n- **Behavior:** Selection stored as parent display role; affects how kids see parent name\n\n#### Screen: Create Family Name **[MVP]**\n- **ID:** `create-family-name`\n- **Route:** `/create/name`\n- **Elements:**\n  - Back button -> Create Family Auth\n  - Header: \"Name Your Family\" / \"This is how your family will appear\"\n  - Input: Family Name (text, e.g., \"The Johnson Family\")\n  - Code preview card: \"Your family code will be: JOHN13\" (auto-updates from input)\n  - \"Create Family\" button (primary) -> Pick Family Pet\n\n#### Screen: Pick Family Pet **[MVP]**\n- **ID:** `pick-family-pet`\n- **Route:** `/create/pet`\n- **Elements:**\n  - Back button -> Create Family Name\n  - Header: \"Choose Your Family Pet!\" / \"Every family needs a pet! Pick one and name them.\"\n  - 4x3 grid of pet options (12 choices): Dog, Cat, Octopus (default selected), Bunny, Hamster, Parrot, Turtle, Fox, Panda, Penguin, Lion, Frog\n  - Input: \"Name your pet\" (text, default \"Chal\")\n  - \"Meet [PetName]!\" button (primary, updates dynamically)\n- **Behavior:** Selected pet becomes the companion emoji throughout the app. Confetti on submit. Navigate to Welcome Family after 800ms.\n\n#### Screen: Welcome Family **[MVP]**\n- **ID:** `welcome-family`\n- **Route:** `/create/welcome`\n- **Elements:**\n  - Animated family pet emoji (celebrating)\n  - \"Welcome to Challey, [Family Name]!\" heading\n  - Family Code card (with copy button): \"JOHN13\"\n  - Member Code card (with copy button): \"MIKE01\"\n  - \"Share these codes with your family to join!\" message\n  - \"Go to Dashboard\" button (primary) -> Parent Dashboard Empty\n\n#### Screen: Parent Dashboard Empty State **[MVP]**\n- **ID:** `parent-dashboard-empty`\n- **Route:** `/parent/dashboard` (empty state)\n- **Elements:**\n  - Header: Family name, welcome message, quick stats (all zeros)\n  - Parent bottom navigation\n  - Empty state CTA card:\n    - Pet emoji icon\n    - \"Let's add your kids!\" heading\n    - \"Your family is set up. Now add your kids so they can start earning rewards!\" message\n    - \"Add Kids\" button (primary) -> Add Kids\n- **Bottom Nav (Parent):** Dashboard (active), Verify, Rewards, Living Room, Family\n\n#### Screen: Add Kids **[MVP]**\n- **ID:** `add-kids`\n- **Route:** `/parent/add-kids`\n- **Elements:**\n  - Back button -> Parent Dashboard Empty\n  - Header: \"Add Your Kids\" / \"Each kid gets a unique code\"\n  - Dynamic list of already-added kids (shows name, avatar, code)\n  - Input: Name or Nickname (text)\n  - Input: Birthday (date picker)\n  - Input: Age (number)\n  - \"Add Another Kid\" button (secondary, adds to list)\n  - \"Done\" button (primary) -> Add Kids Success\n- **Validation:** Name required, age 3-17\n- **Limit:** Up to 10 kids per family (per client feedback)\n\n#### Screen: Add Kids Success **[MVP]**\n- **ID:** `add-kids-success`\n- **Route:** `/parent/add-kids/success`\n- **Elements:**\n  - Success checkmark animation\n  - \"Kids Added!\" heading\n  - List of added kids with name, age, and member code (e.g., \"MAG01\")\n  - \"Share these codes with your kids!\" message\n  - \"Continue to Setup\" button (primary) -> Setup Chores\n\n#### Screen: Setup Chores **[MVP]**\n- **ID:** `setup-chores`\n- **Route:** `/parent/setup/chores`\n- **Elements:**\n  - Back button -> Add Kids Success\n  - Header: \"Set Up Chores\" / \"Pick some to get started\"\n  - Pet speech bubble: companion gives encouragement\n  - Collapsible chore categories with preset chores:\n    - Kitchen: Wash dishes (15 pts/15 min), Empty dishwasher (10/10), Wipe counters (10/10), Set the table (5/5)\n    - Bedroom: Make bed (5/5), Clean room (20/30), Put away laundry (15/15)\n    - Outdoor: Mow lawn (30/45), Take out trash (10/10), Walk the dog (15/20), Water plants (10/10)\n    - Living Areas: Vacuum (20/20), Sweep/mop (20/25), Dust furniture (15/15)\n  - Each chore is toggle-selectable (checkmark appears on selection)\n  - \"Add Custom Chore\" button (secondary)\n  - \"Continue\" button (primary) -> Setup Rewards\n\n#### Screen: Setup Rewards **[MVP]**\n- **ID:** `setup-rewards`\n- **Route:** `/parent/setup/rewards`\n- **Elements:**\n  - Back button -> Setup Chores\n  - Header: \"Set Up Rewards\" / \"What can kids earn?\"\n  - Pet speech bubble explaining points-to-dollar auto-calculation\n  - Collapsible reward categories with presets:\n    - Screen Time: 30min gaming (30 pts/$1.50), 1hr TV (50/$2.50), Movie night (80/$4.00)\n    - Food & Treats: Pick dinner (60/$3.00), Ice cream outing (40/$2.00)\n    - Cash: $1 cash (20/$1.00), $5 cash (100/$5.00), $10 cash (200/$10.00)\n  - Each reward is toggle-selectable\n  - \"Add Custom Reward\" button (secondary)\n  - \"Continue\" button (primary) -> Setup First Post\n\n#### Screen: Setup First Post **[MVP]**\n- **ID:** `setup-first-post`\n- **Route:** `/parent/setup/first-post`\n- **Elements:**\n  - Back button -> Setup Rewards\n  - Header: \"First Post!\" / \"Welcome your family\"\n  - Pet speech bubble: \"Post something in The Living Room -- this will be the first thing your kids see when they join!\"\n  - Post composer: textarea + camera icon + suggested posts\n  - Suggested quick-fill posts: \"Welcome to Challey, family!\", \"Let's earn some rewards!\", \"Who's ready to level up?\"\n  - \"Post & Finish Setup\" button (primary) -> Parent Dashboard\n\n---\n\n### 3.2 Kid View Screens\n\n#### Screen: Kid Chores **[MVP]**\n- **ID:** `kid-chores`\n- **Route:** `/kid/chores`\n- **Header Elements:**\n  - Role switcher pill (\"Switch to Parent\" -- dev/demo only, remove in production)\n  - Points badge showing current balance (e.g., \"135 pts\")\n  - Settings gear icon -> Kid Settings\n  - Notification bell with badge count -> Notifications Panel\n  - Title: \"My Chores\" / \"Let's get it done!\"\n- **Content Elements:**\n  - **Birthday Banner** (conditional, shows on kid's birthday) **[MVP]**:\n    - \"Happy Birthday, [Name]!\" heading\n    - \"Double points today!\" message\n    - \"Birthday Pass: Skip 1 chore free\" pill\n  - **Streak Card** (links to Board) **[MVP]**:\n    - \"[N] Day Streak!\" with fire emoji\n    - \"You're on fire! Keep it up to unlock special rewards\"\n  - **Tab bar:** To Do | In Progress | Done\n  - **To Do tab:** List of chore cards, each with:\n    - Chore name\n    - Points badge\n    - Due date and urgency indicator\n    - Action buttons: \"Started it\" (play icon), \"Done!\" (check icon), swap icon (rotate)\n    - Redo-requested chores shown with orange border, redo icon, parent's feedback note\n  - **In Progress tab:** Cards with \"Done!\" and \"Still on it\" buttons + swap icon\n  - **Done tab:** Cards showing approved (green badge) or \"Pending approval\" status\n- **Bottom Nav (Kid):** Chores (active), Rewards, Points, Board, Living Room\n\n#### Screen: Kid Chore Detail **[MVP]**\n- **ID:** `kid-chore-detail`\n- **Route:** `/kid/chores/:id`\n- **Elements:**\n  - Back button -> Kid Chores\n  - Header: \"Chore Details\" / \"Everything you need to know\"\n  - Points stat card (large number display)\n  - Detail card: chore name, full description, due date, time remaining\n  - \"Mark Complete\" button (primary, camera icon) -> Kid Chore Completion\n  - \"Request Swap\" button (secondary, rotate icon) -> Kid Swap Request\n\n#### Screen: Kid Chore Completion **[MVP]**\n- **ID:** `kid-chore-completion`\n- **Route:** `/kid/chores/:id/complete`\n- **Elements:**\n  - Back button -> Kid Chore Detail\n  - Header: \"Complete Chore\" / \"Upload proof photo\"\n  - Chore summary card (name + points)\n  - Photo upload area (dashed border, camera icon) **[REQUIRED per client feedback -- not optional]**\n  - Photo uploaded confirmation (image preview + \"Photo uploaded successfully\" checkmark)\n  - Input: \"Add a note (optional)\" textarea\n  - \"Submit for Verification\" button (success green)\n- **Behavior:** Photo proof is MANDATORY. Button disabled until photo uploaded. On submit: confetti, navigate to Kid Chores after 1500ms.\n\n#### Screen: Kid Rewards Shop **[MVP]**\n- **ID:** `kid-rewards`\n- **Route:** `/kid/rewards`\n- **Header:** \"Rewards Shop\" with points balance display\n- **Content:**\n  - Wishlist section header with \"View My Wishlist\" banner (links to wishlist, shows count)\n  - \"Add to Wishlist\" action link\n  - \"Available Rewards\" section with reward cards, each showing:\n    - Emoji icon, reward name, description\n    - Point cost + dollar equivalent (e.g., \"50 points ($2.50)\")\n    - Affordability indicator: \"You can get this!\" (green, if affordable) or \"15 points away!\" (nudge) or locked icon (not enough)\n    - Add/Remove cart button\n  - Floating cart bar (appears when items added):\n    - Item count, total points, remaining points\n    - \"Redeem All\" checkout button\n- **Bottom Nav (Kid):** Chores, Rewards (active), Points, Board, Living Room\n\n#### Screen: Kid Reward Detail **[MVP]**\n- **ID:** `kid-reward-detail`\n- **Route:** `/kid/rewards/:id`\n- **Elements:**\n  - Back button -> Kid Rewards\n  - Large emoji icon (80px)\n  - Reward name (24px heading)\n  - Full description\n  - Point cost (36px, accent color)\n  - Current points available\n  - \"Redeem Now\" button (primary) -> Kid Redeem Confirm\n  - \"Go Back\" button (secondary)\n\n#### Screen: Kid Redeem Confirm **[MVP]**\n- **ID:** `kid-redeem-confirm`\n- **Route:** `/kid/rewards/:id/confirm`\n- **Elements:**\n  - Back button -> Kid Rewards\n  - Large emoji icon\n  - \"Redeem [Reward Name]?\" heading\n  - Point cost display\n  - \"You'll have [X] points remaining\" message\n  - \"Dad will be notified to fulfill this reward\" note\n  - \"Redeem\" button (primary) -- triggers confetti + toast\n  - \"Cancel\" button (outline)\n\n#### Screen: Kid Wishlist **[MVP]**\n- **ID:** `kid-wishlist`\n- **Route:** `/kid/wishlist`\n- **Elements:**\n  - Back button -> Kid Rewards\n  - Header: \"My Wishlist\" / \"Things I'd love to have!\"\n  - Wishlist items, each with:\n    - Item name\n    - Status badge: \"Approved\" (green) or \"Pending\" (yellow)\n    - Description\n    - Occasion tag: Birthday, Christmas, Holiday, Anytime (colored pills)\n    - Approximate price\n  - \"Add a Wish\" button (primary) -> Kid Add Wish\n\n#### Screen: Kid Add Wish **[MVP]**\n- **ID:** `kid-add-wish`\n- **Route:** `/kid/wishlist/add`\n- **Elements:**\n  - Back button -> Kid Wishlist\n  - Header: \"Add a Wish\" / \"What do you want?\"\n  - Input: \"What do you want?\" (text, required)\n  - Input: \"Why do you want it?\" (textarea)\n  - Input: \"Approximate Price\" (text, e.g., \"$50\")\n  - Input: \"Link (optional)\" (URL)\n  - Occasion tag selector (multi-select chips): Birthday, Christmas, Holiday, Anytime\n  - \"Add to Wishlist\" button (primary)\n\n#### Screen: Kid Cash-Out Confirm **[MVP]**\n- **ID:** `kid-cashout-confirm`\n- **Route:** `/kid/cashout`\n- **Elements:**\n  - Back button -> Kid Points\n  - Header: \"Cash Out\" / \"Choose how much to cash out\"\n  - Money emoji (56px)\n  - \"You're cashing out\" heading\n  - Dynamic display: \"[X] pts ($[Y])\" (updates with slider)\n  - Range slider: 20-200 pts (step 10)\n  - Quick-select buttons: 40 pts, 100 pts, 200 pts\n  - \"Dad will be notified to confirm\" note\n  - \"Request Cash Out\" button (success green) -- confetti, navigate to pending\n  - \"Cancel\" button (outline)\n- **Conversion:** Points / points_per_dollar = dollar amount (default 20 pts = $1.00)\n\n#### Screen: Kid Cash-Out Pending **[MVP]**\n- **ID:** `kid-cashout-pending`\n- **Route:** `/kid/cashout/:id/pending`\n- **Elements:**\n  - Back button -> Kid Points\n  - Header: \"Cash-Out Status\" / \"[X] pts -> $[Y]\"\n  - Money emoji, \"Pending Cash!\" heading\n  - \"Waiting for Dad to confirm payment\" message\n  - 4-step status tracker:\n    1. Requested (completed, checkmark)\n    2. Waiting for Dad (active, spinner)\n    3. Dad confirms paid (pending)\n    4. You confirm received (pending)\n  - \"Back to Points\" button\n\n#### Screen: Kid Cash-Out Paid **[MVP]**\n- **ID:** `kid-cashout-paid`\n- **Route:** `/kid/cashout/:id/paid`\n- **Elements:**\n  - Back button -> Kid Points\n  - Header: \"Cash-Out Status\" / \"[X] pts -> $[Y]\"\n  - Party emoji, \"Dad sent your cash!\" heading (green)\n  - \"Confirm once you've received $[Y]\" message\n  - 4-step status tracker (steps 1-3 completed, step 4 active)\n  - \"Yes, I received $[Y]!\" button (success green, full width) -- confetti + toast + navigate to points\n  - \"Not yet -- check later\" button (outline)\n\n#### Screen: Kid Points **[MVP]**\n- **ID:** `kid-points`\n- **Route:** `/kid/points`\n- **Header:** \"My Points\" / \"Track your earnings\" with role switcher, settings, notifications\n- **Content:**\n  - Current balance stat card (large number)\n  - Cash-out CTA card (green gradient): \"Your points are worth $[X]\" / \"100 pts = $5.00\" / \"Cash Out\" button\n  - Pending cash-out status card (yellow, conditional): \"Pending Cash-Out: $5.00\" / \"Waiting for Dad to confirm\" / tap to check status\n  - Stat grid (2x2): Earned This Week, Earned This Month, Spent This Month, Day Streak\n  - \"Recent Activity\" section: transaction history cards showing:\n    - Earned entries (green +): chore name, emoji reactions, date\n    - Spent entries (red -): reward name, date\n- **Bottom Nav (Kid):** Chores, Rewards, Points (active), Board, Living Room\n\n#### Screen: Kid Board (Leaderboard) **[MVP]**\n- **ID:** `kid-board`\n- **Route:** `/kid/board`\n- **Header:** \"My Board\" / \"Your badges, rankings & more\"\n- **Content:**\n  - **My Swag section:** Profile avatar + collected badge icons\n  - **Spotlight card:** \"This Week's MVP: [Name]\" with crown, points earned\n  - **Family Rankings:** Ranked list of siblings with:\n    - Medal emoji (gold/silver/bronze)\n    - Avatar, name, streak info\n    - Weekly points\n    - Current kid highlighted with accent border\n    - Tap sibling -> Sibling Profile\n  - **\"Give a Shout-Out\" banner** (heart emoji, pink gradient) -> Kid Shoutout Select\n- **Bottom Nav (Kid):** Chores, Rewards, Points, Board (active), Living Room\n\n#### Screen: Sibling Profile **[MVP]**\n- **ID:** `sibling-profile`\n- **Route:** `/kid/board/sibling/:id`\n- **Elements:**\n  - Back button -> Kid Board\n  - Header: \"[Name]'s Profile\" / \"Your [relation]\"\n  - Profile header: large avatar, name, age\n  - Badges section: collected badge icons\n  - Stat grid (2x2): Day Streak, Points This Month, Chores Completed, Shout-Outs\n  - \"Give a Shout-Out\" button (pink gradient)\n\n#### Screen: Kid Living Room **[MVP]**\n- **ID:** `kid-living-room`\n- **Route:** `/kid/living-room`\n- **Header:** \"The Living Room\" / \"Your family's space\"\n- **Content:**\n  - **Year-End Recap banner** (conditional, end of year) **[POST-MVP]**: \"Your 2026 Wrapped is here!\" -> opens Year Recap overlay\n  - **Post feed** with multiple post types:\n    - **Pinned announcement** (parent post, thumbtack icon): text + reactions + comments\n    - **Shout-out post** (auto-generated, pink left border): badge display, quote, reactions\n    - **Chore proof post** (auto-generated, \"Chore Done\" badge): photo placeholder, caption with points, reactions\n    - **Manual photo post** (user-created): photo, caption, reactions\n    - **Streak milestone post** (auto-generated, orange left border, \"Milestone\" badge): streak count\n    - **Reward redeemed post** (auto-generated, \"Reward\" badge): reward emoji + name + point cost\n  - Each post has: avatar, author name, timestamp, type badge, reactions (like + comment count + emoji), expandable comments\n  - **Camera FAB** (floating action button, bottom right) for creating new posts\n- **Bottom Nav (Kid):** Chores, Rewards, Points, Board, Living Room (active)\n\n#### Screen: Kid Settings **[MVP]**\n- **ID:** `kid-settings`\n- **Route:** `/kid/settings`\n- **Elements:**\n  - Back button -> Kid Chores\n  - Header: \"My Settings\" / \"Make Challey yours!\"\n  - **My Profile card:**\n    - Large avatar with camera overlay for photo change\n    - Name, age, family name\n    - \"Change Profile Picture\" button\n  - **Appearance card:**\n    - Dark Mode toggle (syncs with parent settings independently)\n    - Color Theme grid (6 options): Ocean (default), Sunset, Forest, Midnight, Bubblegum, Arctic\n  - **Notifications card:**\n    - New chore alerts toggle (default on)\n    - Approval updates toggle (default on)\n    - Streak reminders toggle (default on)\n  - **Companion card:**\n    - Show/hide companion toggle with pet emoji + name\n    - Description text\n  - **Log Out** card (red text)\n  - **About** card: version number\n\n---\n\n### 3.3 Chore Swap Screens\n\n#### Screen: Kid Swap Request **[MVP]**\n- **ID:** `kid-swap-request`\n- **Route:** `/kid/chores/:id/swap`\n- **Elements:**\n  - Back button -> Kid Chore Detail\n  - Header: \"Request Swap\" / \"Choose swap type\"\n  - Current chore card (name + points)\n  - \"Choose Swap Type\" section header\n  - **Swap with Sibling card:** family emoji, description, sibling avatars, chevron -> Kid Swap Sibling Select\n  - **Request from Parent card:** parent emoji, description, chevron -> Kid Swap Parent\n\n#### Screen: Kid Swap Sibling Select **[MVP]**\n- **ID:** `kid-swap-sibling-select`\n- **Route:** `/kid/chores/:id/swap/sibling`\n- **Elements:**\n  - Back button -> Kid Swap Request\n  - Header: \"Swap with...\" / \"Choose a sibling\"\n  - Sibling cards (one per sibling): avatar, name, age, available chore count, chevron\n\n#### Screen: Kid Swap Sibling **[MVP]**\n- **ID:** `kid-swap-sibling`\n- **Route:** `/kid/chores/:id/swap/sibling/:siblingId`\n- **Elements:**\n  - Back button -> Kid Swap Sibling Select\n  - Header: \"Swap with [Name]\" / \"Choose a chore to trade\"\n  - \"Your Chore\" card (current chore + points)\n  - \"[Name]'s Available Chores\" section: selectable chore cards (highlight on selection)\n  - **Sweeten the Deal incentive section:**\n    - \"Offer Points Incentive\" toggle\n    - Points slider (0-20 pts, hidden until toggle on)\n    - Remaining points calculation display\n    - \"Points transfer to [Name] when swap is accepted\" note\n  - \"Propose Swap\" button (primary) -> Kid Swap Sibling Confirm\n\n#### Screen: Kid Swap Sibling Confirm **[MVP]**\n- **ID:** `kid-swap-sibling-confirm`\n- **Route:** `/kid/chores/:id/swap/sibling/:siblingId/confirm`\n- **Elements:**\n  - Back button -> Kid Swap Sibling\n  - Header: \"Confirm Swap\" / \"Review your proposal\"\n  - Swap summary: \"You give\" card (your chore) -> arrow -> \"You get\" card (their chore)\n  - Incentive line (conditional): \"+ [X] pts incentive\"\n  - \"Send to [Name]\" button (primary) -- confetti, navigate to sent\n\n#### Screen: Kid Swap Sibling Sent **[MVP]**\n- **ID:** `kid-swap-sibling-sent`\n- **Elements:** Success screen with checkmark, \"[Name] will see this next time he opens Challey\", incentive transfer note (conditional), \"Back to My Chores\" button\n\n#### Screen: Kid Swap Incoming **[MVP]**\n- **ID:** `kid-swap-incoming`\n- **Route:** `/kid/swaps/:id`\n- **Elements:**\n  - Back button -> Kid Chores\n  - Header: \"Incoming Swap\" / \"From [Name]\"\n  - Swap icon + \"[Name] wants to swap with you!\" heading\n  - \"She gives you\" card and \"She wants\" card\n  - Bonus points badge (conditional)\n  - Three action buttons: Decline (outline), Counter (secondary), Accept (success green)\n- **Accept behavior:** Confetti, navigate to Kid Swap Accepted\n- **Decline behavior:** Navigate to Kid Chores\n\n#### Screen: Kid Swap Counter **[MVP]**\n- **ID:** `kid-swap-counter`\n- **Elements:**\n  - Back button -> Kid Swap Incoming\n  - Header: \"Counter Offer\" / \"Propose something different to [Name]\"\n  - Original request card\n  - Two counter options:\n    1. \"Offer a Different Chore\" (shows chore list, selectable)\n    2. \"Offer a Favor\" (shows textarea for favor description + note about no points)\n  - \"Send Counter Offer\" / \"Send Favor Offer\" button\n\n#### Screen: Kid Swap Counter Sent **[MVP]**\n- **ID:** `kid-swap-counter-sent`\n- **Elements:** Success screen, \"[Name] will see your counter offer\"\n\n#### Screen: Kid Swap Counter Received **[MVP]**\n- **ID:** `kid-swap-counter-received`\n- **Elements:**\n  - Header: \"Counter Offer\" / \"[Name] has a different idea\"\n  - Original request card\n  - Counter offer card (special gradient border): chore-for-chore or favor\n  - Decline / Accept buttons\n\n#### Screen: Kid Swap Accepted **[MVP]**\n- **ID:** `kid-swap-accepted`\n- **Elements:** Success screen, chores swapped confirmation, \"Dad has been notified\", bonus points note (conditional), \"Go to My Chores\" button\n\n#### Screen: Kid Swap Parent **[MVP]**\n- **ID:** `kid-swap-parent`\n- **Route:** `/kid/chores/:id/swap/parent`\n- **Elements:**\n  - Back button -> Kid Swap Request\n  - Header: \"Request from Dad\" / \"Ask to change this chore\"\n  - Current chore card\n  - \"Choose an Existing Chore\" section: selectable chore cards from unassigned pool\n  - \"Or Suggest Something New\" section: chore name input, description textarea, suggested points input\n  - \"Send Request to Dad\" button\n\n#### Screen: Kid Swap Parent Confirm **[MVP]**\n- **ID:** `kid-swap-parent-confirm`\n- **Elements:** Summary (instead of / you'd rather do), optional reason textarea, \"Send to Dad\" button\n\n#### Screen: Kid Swap Parent Sent **[MVP]**\n- **ID:** `kid-swap-parent-sent`\n- **Elements:** Success screen, \"Request Sent to Dad! He'll review it and let you know.\"\n\n#### Screen: Parent Swap Review **[MVP]**\n- **ID:** `parent-swap-review`\n- **Route:** `/parent/swaps/:id`\n- **Elements:**\n  - Back button -> Parent Dashboard\n  - Header: \"Swap Request\" / \"From [Name]\"\n  - Request icon + \"[Name] is asking to change a chore\" heading\n  - Current chore card and requested chore card\n  - Reason quote card (if provided)\n  - Decline / Approve buttons\n  - Decline reason section (expandable): optional textarea + \"Send Decline\" button\n\n---\n\n### 3.4 Shout-Out Screens\n\n#### Screen: Kid Shoutout Select **[MVP]**\n- **ID:** `kid-shoutout-select`\n- **Route:** `/kid/shoutout`\n- **Header (pink gradient):** \"Give a Shout-Out\" / \"Who do you want to celebrate?\"\n- **Elements:**\n  - Heart emoji + description text\n  - Sibling cards (avatar, name, age, chevron) -- one per sibling\n\n#### Screen: Kid Shoutout Create **[MVP]**\n- **ID:** `kid-shoutout-create`\n- **Route:** `/kid/shoutout/:siblingId`\n- **Header (pink gradient):** \"Shout-Out for [Name]\" / \"Pick a badge and tell them why\"\n- **Elements:**\n  - **Badge grid** (6 options, selectable):\n    - Amazing Sibling (star), Kind Heart (heart), Best Helper (handshake), So Funny (laughing), Super Brave (lion), Team Player (lightning)\n  - \"What did they do?\" textarea\n  - **Gift Points section:**\n    - Toggle: \"Gift Points\" / \"Share some of your points\"\n    - Points slider (1-25 pts, hidden until toggle on)\n    - Remaining points display\n  - \"Preview Shout-Out\" button (pink gradient)\n\n#### Screen: Kid Shoutout Confirm **[MVP]**\n- **ID:** `kid-shoutout-confirm`\n- **Elements:**\n  - Preview card: heart emoji, \"Shout-Out from [Sender]\", \"To [Recipient]\", badge display, quoted note, gifted points (conditional)\n  - \"Dad and Mom will also see this and can reward you both with extra points!\" note\n  - \"Send Shout-Out\" button (pink gradient) -- confetti, navigate to sent\n\n#### Screen: Kid Shoutout Sent **[MVP]**\n- **ID:** `kid-shoutout-sent`\n- **Elements:** Success screen (pink gradient background), \"Dad will review and deliver your shout-out!\", gifted points note, \"Dad can boost it with extra points\" explanation, \"Back to Living Room\" button\n\n#### Screen: Kid Shoutout Received **[MVP]**\n- **ID:** `kid-shoutout-received`\n- **Route:** `/kid/shoutout/received/:id`\n- **Elements:**\n  - Header (pink gradient): \"Shout-Out!\" / \"Someone thinks you're awesome\"\n  - Received card: sender avatar + name, badge display, quoted note, gifted points\n  - Boost card (conditional, if parent boosted): \"Dad boosted this!\", parent's comment, bonus points for each kid\n  - \"Thank You!\" button (triggers confetti + toast)\n  - \"Give a Shout-Out Back\" button (pink gradient)\n\n#### Screen: Parent Shoutout Review **[MVP]**\n- **ID:** `parent-shoutout-review`\n- **Route:** `/parent/shoutout/:id`\n- **Header (pink gradient):** \"Sibling Shout-Out\" / \"Your kids are being kind\"\n- **Elements:**\n  - Received card: sender -> recipient, badge, note, gifted points\n  - **Boost section:**\n    - Rocket emoji + \"Boost This Shout-Out\" heading\n    - \"Reward both kids for being kind to each other\" description\n    - Bonus points selector (chips: 5, 10, 15, 25 pts -- per kid)\n    - Optional note textarea\n    - Preview: \"Both [Sender] and [Recipient] will receive +[X] pts each\"\n    - \"Boost & Deliver to [Recipient]\" button (pink gradient) -- confetti, navigate to dashboard\n  - \"Skip -- just view\" button (outline)\n\n---\n\n### 3.5 Parent View Screens\n\n#### Screen: Parent Dashboard **[MVP]**\n- **ID:** `parent-dashboard`\n- **Route:** `/parent/dashboard`\n- **Header:**\n  - Role switcher, settings gear, notification bell (with badge count)\n  - \"Family Dashboard\" title, family name subtitle\n  - Quick stats row: Active Chores, Pending Verifications, Completed This Week\n- **Content:**\n  - **Birthday Prep card** (conditional, 7 days before kid's birthday) **[MVP]**:\n    - \"[Name] turns [age] in [N] days!\" with date\n    - Toggleable prep options: Remove chores, Double points, Birthday badge, View wishlist\n    - \"Siblings will be prompted to prepare shout-outs\" note\n  - **Pending Verifications section:** Chore cards with name, kid, points, \"Waiting for review\" status. \"View All\" link -> Parent Verify.\n  - **Swap Requests section:** Purple-tinted cards for kid-to-parent swap requests. Tap -> Parent Swap Review.\n  - **Suggestion cards** (actionable notifications):\n    - Chore suggestions from kids (Accept/Not Now/Reject buttons)\n    - Reward suggestions from kids (Add Reward/Not Now buttons)\n  - **Rewards to Fulfill section:** Cards showing pending fulfillments:\n    - Cash-out requests (green, \"Hand Cash\" button)\n    - Reward redemptions (yellow for overdue, \"Mark as Given\" button)\n  - **Sibling Kindness section:** Shout-out summary cards with boost CTA\n  - **Kids Overview section:** Per-kid cards showing avatar, name, age, points, active chores, streak, completion progress bar\n  - \"Create New Chore\" button (primary)\n  - \"Wishlists\" + \"Give Badge\" buttons (side by side)\n  - Floating \"+\" FAB -> Create Chore\n- **Bottom Nav (Parent):** Dashboard (active), Verify, Rewards, Living Room, Family\n\n#### Screen: Parent Create Chore **[MVP]**\n- **ID:** `parent-create-chore`\n- **Route:** `/parent/chores/create`\n- **Elements:**\n  - Back button -> Parent Dashboard\n  - Header: \"Create Chore\" / \"Assign a new task\"\n  - Input: Chore Name (text, required)\n  - Input: Description (textarea)\n  - \"Assign To\" kid selector (multi-select chips): each kid name + \"All Kids\" option\n  - Input: Point Value (number, required)\n  - Input: Due Date (date picker)\n  - Select: Frequency (One-time, Daily, Weekly, Monthly)\n  - \"Create Chore\" button (primary)\n\n#### Screen: Parent Verify (Swipe Cards) **[MVP]**\n- **ID:** `parent-verify`\n- **Route:** `/parent/verify`\n- **Header:**\n  - Back button -> Parent Dashboard\n  - \"Approve All\" button (top right)\n  - Title: \"Verify Chores\" / \"[N] waiting for review\"\n- **Content:**\n  - **Swipe card stack** (Tinder-style):\n    - Each card shows: kid avatar + name, chore name, time since submission, points\n    - Photo proof image placeholder\n    - Kid's note (italic, in quote card)\n    - Emoji reaction bar (5 emojis: clap, fire, star, muscle, heart -- toggleable)\n    - \"Swipe right to approve / Swipe left to reject\" instruction\n  - Swipe right: Green \"APPROVED\" overlay, card flies off right\n  - Swipe left: Red \"REDO\" overlay, card flies off left, redo comment bar appears\n  - **Redo comment bar** (bottom, appears on reject): text input \"What needs fixing?\" + Send button\n  - **All caught up state:** Checkmark icon, \"All caught up!\" heading, \"No more chores to review\", \"Back to Dashboard\" button\n- **Touch handling:** Mouse/touch drag with deltaX threshold of 80px, rotation animation proportional to drag distance\n\n#### Screen: Parent Rewards Catalog **[MVP]**\n- **ID:** `parent-rewards`\n- **Route:** `/parent/rewards`\n- **Header:** \"Reward Catalog\" / \"Manage rewards\"\n- **Content:**\n  - Reward cards showing: emoji, name, description, point cost, dollar value, \"Edit\" link\n  - \"Add New Reward\" button (primary) -> Parent Create Reward\n- **Bottom Nav (Parent):** Dashboard, Verify, Rewards (active), Living Room, Family\n\n#### Screen: Parent Create Reward **[MVP]**\n- **ID:** `parent-create-reward`\n- **Route:** `/parent/rewards/create`\n- **Elements:**\n  - Back button -> Parent Rewards\n  - Header: \"Create Reward\" / \"Add something exciting!\"\n  - Input: Reward Name (text, required)\n  - Input: Description (textarea)\n  - Input: Dollar Value (number, with $ prefix)\n  - Auto-calculated point cost display: \"Based on your rate: [X] pts per $1.00\"\n  - Input: Icon/Emoji (text, max 2 chars)\n  - \"Available To\" kid selector (chips): All Kids, [Name] Only per kid\n  - \"Create Reward\" button (primary)\n\n#### Screen: Parent Wishlist Review **[MVP]**\n- **ID:** `parent-wishlist`\n- **Route:** `/parent/wishlists`\n- **Elements:**\n  - Back button -> Parent Dashboard\n  - Header: \"Kids' Wishlists\" / \"Review wishes & gift ideas\"\n  - Per-kid sections with wishlist items:\n    - Item name, status (Approved/Pending), description, occasion tag, price\n    - For approved: \"Add as Reward\" button\n    - For pending: Approve/Decline buttons\n\n#### Screen: Parent Give Badge **[MVP]**\n- **ID:** `parent-give-badge`\n- **Route:** `/parent/badges/give`\n- **Elements:**\n  - Back button -> Parent Dashboard\n  - Header: \"Give Badge\" / \"Reward outstanding behavior\"\n  - Kid selector (multi-select chips)\n  - Badge grid (8 options): Super Star, Hard Worker, Above & Beyond, Chore Master, On Fire, Royalty, Team Player, Kind Heart\n  - \"Why are you giving this badge?\" textarea\n  - Bonus Points input (number, optional)\n  - \"Award Badge\" button (primary)\n\n#### Screen: Parent Family Management **[MVP]**\n- **ID:** `parent-family`\n- **Route:** `/parent/family`\n- **Header:** \"Family Management\" / \"[Family Name]\"\n- **Content:**\n  - **Adults section:** Member cards with avatar, name, role, ADMIN badge (for admin)\n  - **Kids section:** Member cards with avatar, name (age), points + active chores summary\n  - \"Invite Family Member\" button (primary)\n  - \"Family Settings\" button (secondary) -> Parent Settings\n- **Bottom Nav (Parent):** Dashboard, Verify, Rewards, Living Room, Family (active)\n\n#### Screen: Parent Companion Config **[MVP]**\n- **ID:** `parent-companion-config`\n- **Route:** `/parent/settings/companion`\n- **Elements:**\n  - Back button -> Parent Settings\n  - Header: \"Chal Settings\" / \"Shape your kids' companion\"\n  - **Message Types** (toggleable):\n    - Motivation & Encouragement (default on)\n    - Chore Tips & Productivity (default on)\n    - Fun Facts & Learning (default on)\n    - Kindness Reminders (default on)\n    - Financial Literacy (default off) **[POST-MVP badge shown]**\n  - **Suggestion Mode** (radio selection):\n    - Encouraging: \"You're doing great! Keep it up!\" (default)\n    - Coaching: \"Try tackling the hardest chore first!\"\n    - Educational: \"Did you know doing chores builds discipline?\"\n  - **Custom Messages:** List of parent-created messages with add button\n  - **AI Suggestions** card (dimmed) **[POST-MVP]**: \"Coming soon: Chal will learn your family's patterns...\"\n\n#### Screen: Parent Settings **[MVP]**\n- **ID:** `parent-settings`\n- **Route:** `/parent/settings`\n- **Elements:**\n  - Back button -> Parent Dashboard\n  - Header: \"Settings\" / \"Customize your experience\"\n  - **Family Code card** (gradient): Large display of family code\n  - **My Profile section:** Avatar, name, email, role (Admin). Edit link.\n  - **My Kids section:** Per-kid rows with avatar, name, member code, PIN status toggle, \"Reset PIN\" action\n  - \"Add Kid\" button\n  - **Family Pet section:** Companion config link with pet emoji\n  - **Points Economy section:**\n    - \"Points per Dollar\" slider (5-50, step 5, default 20)\n    - Rate display + example calculation\n    - Quick presets: Easy (10), Standard (20), Hard (40)\n  - **Appearance section:**\n    - Dark Mode toggle\n    - Color Theme grid (6 options, same as kid settings)\n  - **Notifications section** (toggleable):\n    - Chore completions (default on)\n    - Reward redemptions (default on)\n    - Cash-out requests (default on)\n    - Weekly summaries (default off)\n  - **Management section:** Links to Manage Rewards, Family Members, Invite Parent/Guardian\n  - **Account section:** Change Password, Update Email, Log Out (red)\n  - Footer: \"Challey v3.0.0 / Made with care for families\"\n\n#### Screen: Parent Living Room **[MVP]**\n- **ID:** `parent-living-room`\n- **Route:** `/parent/living-room`\n- **Elements:** Same post feed as Kid Living Room but from parent perspective. Includes camera FAB. Parent bottom nav with Living Room active.\n\n---\n\n### 3.6 Overlays & Modals\n\n#### Overlay: Notifications Panel **[MVP]**\n- **ID:** `notifications-panel`\n- **Trigger:** Bell icon tap from any screen\n- **Elements:**\n  - \"Notifications\" heading with close button\n  - Notification list items (scrollable), each with:\n    - Type icon (color-coded): new chore, completion, reward, swap, kindness, points\n    - Title text\n    - Timestamp\n  - Actionable notifications have colored backgrounds (yellow for fulfillment, purple for swaps, pink for kindness)\n  - Tap on notification navigates to relevant screen\n\n#### Overlay: Companion Intro Modal **[MVP]**\n- **ID:** `companion-intro`\n- **Trigger:** First visit to Kid Chores screen\n- **Elements:**\n  - Semi-transparent backdrop\n  - Centered card with:\n    - Pet emoji (64px)\n    - \"Meet [PetName]!\" heading\n    - Description: \"I'm your personal companion! I'll cheer you on, give you tips, and celebrate your wins.\"\n    - \"Hey [PetName]! Let's go!\" button (primary)\n- **Behavior:** Dismisses intro, shows companion, displays welcome bubble\n\n#### Overlay: Year-End Recap (\"Challey Wrapped\") **[POST-MVP]**\n- **ID:** `kid-year-recap`\n- **Trigger:** Tap on wrapped banner in Living Room\n- **Elements:**\n  - Full-screen overlay with progress dots (8 slides)\n  - Tap right half -> next slide, tap left half -> previous\n  - Slides:\n    1. \"Your 2026 in Challey\" title\n    2. Total chores completed\n    3. Total points earned + percentile\n    4. Longest streak\n    5. Favorite chore (most completed)\n    6. Kindness stats (shout-outs given/received)\n    7. Family totals\n    8. \"Here's to an even better [year+1]!\" with close button\n\n#### Companion Widget **[MVP]**\n- **ID:** `companion`\n- **Position:** Fixed, bottom-right, above bottom nav\n- **Elements:**\n  - Pet emoji body (tappable, bouncing animation)\n  - Speech bubble (slides up on trigger): message text + dismiss X + \"~ [PetName]\" attribution\n  - Context menu (on body tap): Encourage me, Give me a tip, Fun fact, Hide Chal\n  - Pulse indicator (dot) when Chal has a new message\n- **Behavior:**\n  - Contextual messages on screen navigation (30% chance, 1500ms delay)\n  - Auto-pulse every 12 seconds when idle\n  - Celebration mode on confetti events (bounce animation + celebration message)\n  - Message categories: screen-specific, encouragements, tips, fun facts\n  - Parent-configurable message types and custom messages\n\n---\n\n### 3.7 POST-MVP Screens\n\n#### Screen: Education Hub **[POST-MVP]**\n- **ID:** `education-hub`\n- **Route:** `/kid/education`\n- **Elements:**\n  - Header with POST-MVP badge\n  - Connected Accounts section: Khan Academy, Google Classroom, Canvas LMS\n  - Connection status per service (connected/not connected + Connect button)\n  - Recent Education Points activity list\n  - Stats: Education This Week vs Chores This Week + Total\n\n#### Screen: Achievements **[POST-MVP]**\n- **ID:** `achievements`\n- **Route:** `/kid/achievements`\n- **Elements:**\n  - Header with POST-MVP badge\n  - \"Coming Soon!\" overlay with trophy icon and description\n\n---\n\n## 4. Data Model\n\n### 4.1 Entity Relationship Overview\n\n```\nFamily 1--* User (Admin/Parent/Kid)\nFamily 1--* Chore\nFamily 1--* Reward\nFamily 1--* Post (Living Room)\nFamily 1--1 FamilyPet\nUser(Kid) 1--* ChoreAssignment\nUser(Kid) 1--* PointsTransaction\nUser(Kid) 1--* WishlistItem\nUser(Kid) 1--* Badge\nUser(Kid) 1--* Notification\nChoreAssignment 1--* PhotoProof\nChoreAssignment 1--0..1 SwapRequest\nUser(Kid) 1--* Shoutout (as sender)\nUser(Kid) 1--* Shoutout (as receiver)\nUser(Kid) 1--* CashOutRequest\nReward 1--* RewardRedemption\nPost 1--* Comment\nPost 1--* Reaction\n```\n\n### 4.2 Table Definitions\n\n#### `families` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | Unique family ID |\n| name | varchar(100) | NOT NULL | Display name (e.g., \"The Johnson Family\") |\n| family_code | varchar(10) | UNIQUE, NOT NULL | Join code (e.g., \"JOHN13\") |\n| points_per_dollar | integer | NOT NULL, DEFAULT 20 | Economy rate |\n| pet_emoji | varchar(4) | DEFAULT 'ðŸ™' | Family pet emoji |\n| pet_name | varchar(50) | DEFAULT 'Chal' | Family pet name |\n| created_at | timestamptz | NOT NULL | |\n| updated_at | timestamptz | NOT NULL | |\n\n#### `users` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| role | enum | NOT NULL | 'admin', 'parent', 'kid' |\n| display_role | varchar(20) | | 'Dad', 'Mom', 'Guardian', 'Relative' (parents only) |\n| name | varchar(100) | NOT NULL | Display name |\n| email | varchar(255) | UNIQUE (nullable for kids) | Parent auth only |\n| password_hash | varchar(255) | | For email auth |\n| oauth_provider | varchar(20) | | 'apple', 'google', 'facebook' |\n| oauth_id | varchar(255) | | Provider user ID |\n| member_code | varchar(10) | UNIQUE, NOT NULL | e.g., \"MAG01\" |\n| pin_hash | varchar(255) | | Kid PIN (bcrypt) |\n| pin_attempts | integer | DEFAULT 0 | Failed PIN attempts |\n| birthday | date | | |\n| age | integer | | |\n| avatar_url | varchar(500) | | Profile photo URL |\n| theme | varchar(20) | DEFAULT 'ocean' | Kid's selected theme |\n| dark_mode | boolean | DEFAULT false | |\n| companion_visible | boolean | DEFAULT true | |\n| streak_current | integer | DEFAULT 0 | Current consecutive day streak |\n| streak_longest | integer | DEFAULT 0 | All-time longest streak |\n| streak_last_date | date | | Last date a chore was completed |\n| points_balance | integer | DEFAULT 0 | Current spendable points |\n| points_earned_total | integer | DEFAULT 0 | Lifetime earned |\n| points_spent_total | integer | DEFAULT 0 | Lifetime spent |\n| created_at | timestamptz | NOT NULL | |\n| updated_at | timestamptz | NOT NULL | |\n\n#### `chores` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| created_by | uuid | FK -> users.id, NOT NULL | Parent who created |\n| name | varchar(200) | NOT NULL | |\n| description | text | | |\n| points | integer | NOT NULL | Point value |\n| frequency | enum | DEFAULT 'one_time' | 'one_time', 'daily', 'weekly', 'monthly' |\n| category | varchar(50) | | 'kitchen', 'bedroom', 'outdoor', 'living_areas', 'custom' |\n| estimated_minutes | integer | | |\n| is_preset | boolean | DEFAULT false | From setup presets |\n| is_active | boolean | DEFAULT true | |\n| created_at | timestamptz | NOT NULL | |\n\n#### `chore_assignments` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| chore_id | uuid | FK -> chores.id, NOT NULL | |\n| assigned_to | uuid | FK -> users.id, NOT NULL | Kid |\n| assigned_by | uuid | FK -> users.id, NOT NULL | Parent |\n| status | enum | NOT NULL, DEFAULT 'assigned' | See state machine below |\n| due_date | date | | |\n| started_at | timestamptz | | When kid tapped \"Started it\" |\n| submitted_at | timestamptz | | When kid submitted for verification |\n| verified_at | timestamptz | | When parent approved/rejected |\n| verified_by | uuid | FK -> users.id | Parent who verified |\n| completion_note | text | | Kid's optional note |\n| redo_note | text | | Parent's redo feedback |\n| redo_count | integer | DEFAULT 0 | Number of redo requests |\n| is_birthday_double | boolean | DEFAULT false | Double points applied |\n| created_at | timestamptz | NOT NULL | |\n| updated_at | timestamptz | NOT NULL | |\n\n**Status enum values:** `assigned`, `in_progress`, `awaiting_verification`, `approved`, `redo_requested`\n\n#### `photo_proofs` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| chore_assignment_id | uuid | FK -> chore_assignments.id, NOT NULL | |\n| uploaded_by | uuid | FK -> users.id, NOT NULL | |\n| image_url | varchar(500) | NOT NULL | Cloud storage URL |\n| thumbnail_url | varchar(500) | | Resized thumbnail |\n| created_at | timestamptz | NOT NULL | |\n\n#### `rewards` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| created_by | uuid | FK -> users.id, NOT NULL | |\n| name | varchar(200) | NOT NULL | |\n| description | text | | |\n| emoji | varchar(4) | | Display icon |\n| dollar_value | decimal(8,2) | NOT NULL | Real-world value |\n| point_cost | integer | NOT NULL | Auto-calculated from dollar_value * points_per_dollar |\n| category | varchar(50) | | 'screen_time', 'food_treats', 'cash', 'custom' |\n| available_to | jsonb | DEFAULT '[]' | Empty = all kids, or array of user IDs |\n| is_active | boolean | DEFAULT true | |\n| is_preset | boolean | DEFAULT false | |\n| created_at | timestamptz | NOT NULL | |\n\n#### `reward_redemptions` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| reward_id | uuid | FK -> rewards.id, NOT NULL | |\n| redeemed_by | uuid | FK -> users.id, NOT NULL | Kid |\n| points_spent | integer | NOT NULL | |\n| status | enum | NOT NULL, DEFAULT 'pending' | 'pending', 'fulfilled' |\n| fulfilled_at | timestamptz | | When parent marked as given |\n| fulfilled_by | uuid | FK -> users.id | Parent who fulfilled |\n| created_at | timestamptz | NOT NULL | |\n\n#### `cash_out_requests` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| user_id | uuid | FK -> users.id, NOT NULL | Kid |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| points_amount | integer | NOT NULL | |\n| dollar_amount | decimal(8,2) | NOT NULL | |\n| status | enum | NOT NULL, DEFAULT 'requested' | See state machine |\n| confirmed_by_parent | uuid | FK -> users.id | |\n| parent_confirmed_at | timestamptz | | |\n| kid_confirmed_at | timestamptz | | |\n| created_at | timestamptz | NOT NULL | |\n\n**Status enum values:** `requested`, `parent_approved`, `parent_paid`, `kid_confirmed`, `cancelled`\n\n#### `points_transactions` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| user_id | uuid | FK -> users.id, NOT NULL | |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| type | enum | NOT NULL | 'chore_earned', 'reward_spent', 'cashout_spent', 'shoutout_gifted', 'shoutout_received', 'boost_received', 'swap_incentive_sent', 'swap_incentive_received', 'birthday_bonus', 'badge_bonus' |\n| amount | integer | NOT NULL | Positive for earned, negative for spent |\n| reference_id | uuid | | FK to related entity |\n| reference_type | varchar(50) | | 'chore_assignment', 'reward_redemption', 'cash_out_request', 'shoutout', 'badge', 'swap_request' |\n| description | varchar(500) | | Human-readable description |\n| created_at | timestamptz | NOT NULL | |\n\n#### `swap_requests` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| requester_id | uuid | FK -> users.id, NOT NULL | Kid requesting |\n| chore_assignment_id | uuid | FK -> chore_assignments.id, NOT NULL | Original chore |\n| swap_type | enum | NOT NULL | 'sibling', 'parent' |\n| target_user_id | uuid | FK -> users.id | Sibling or parent |\n| target_chore_id | uuid | FK -> chore_assignments.id | Sibling's chore being offered |\n| suggested_chore_name | varchar(200) | | For parent requests (new chore suggestion) |\n| suggested_chore_desc | text | | |\n| suggested_chore_pts | integer | | |\n| incentive_points | integer | DEFAULT 0 | Points offered as sweetener |\n| reason | text | | Kid's reason for swap |\n| counter_type | enum | | 'chore', 'favor' |\n| counter_chore_id | uuid | FK -> chore_assignments.id | Counter offer chore |\n| counter_favor_text | text | | Favor description |\n| status | enum | NOT NULL, DEFAULT 'pending' | 'pending', 'counter_offered', 'accepted', 'declined', 'cancelled' |\n| reviewed_by | uuid | FK -> users.id | Parent who reviewed (for parent swaps) |\n| decline_reason | text | | |\n| created_at | timestamptz | NOT NULL | |\n| updated_at | timestamptz | NOT NULL | |\n\n#### `shoutouts` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| sender_id | uuid | FK -> users.id, NOT NULL | Kid sending |\n| receiver_id | uuid | FK -> users.id, NOT NULL | Kid receiving |\n| badge_name | varchar(50) | NOT NULL | e.g., 'Amazing Sibling' |\n| badge_emoji | varchar(4) | NOT NULL | e.g., star emoji |\n| note | text | | Sender's message |\n| gifted_points | integer | DEFAULT 0 | Points transferred from sender to receiver |\n| boost_points | integer | DEFAULT 0 | Bonus from parent (per kid) |\n| boost_note | text | | Parent's boost comment |\n| boosted_by | uuid | FK -> users.id | Parent who boosted |\n| status | enum | DEFAULT 'pending_review' | 'pending_review', 'delivered', 'delivered_with_boost' |\n| created_at | timestamptz | NOT NULL | |\n\n#### `badges` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| user_id | uuid | FK -> users.id, NOT NULL | Kid who received |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| badge_name | varchar(50) | NOT NULL | |\n| badge_emoji | varchar(4) | NOT NULL | |\n| source | enum | NOT NULL | 'parent_given', 'shoutout', 'milestone', 'birthday' |\n| given_by | uuid | FK -> users.id | Parent or sibling |\n| reason | text | | |\n| bonus_points | integer | DEFAULT 0 | |\n| created_at | timestamptz | NOT NULL | |\n\n#### `wishlist_items` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| user_id | uuid | FK -> users.id, NOT NULL | Kid |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| name | varchar(200) | NOT NULL | |\n| description | text | | Why they want it |\n| price_estimate | varchar(20) | | e.g., \"$50\" |\n| link | varchar(500) | | Product URL |\n| occasion | varchar(20) | | 'birthday', 'christmas', 'holiday', 'anytime' |\n| status | enum | DEFAULT 'pending' | 'pending', 'approved', 'declined' |\n| reviewed_by | uuid | FK -> users.id | Parent who reviewed |\n| created_at | timestamptz | NOT NULL | |\n\n#### `posts` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| author_id | uuid | FK -> users.id, NOT NULL | |\n| type | enum | NOT NULL | 'manual', 'chore_complete', 'shoutout', 'streak_milestone', 'reward_redeemed', 'announcement' |\n| caption | text | | Post text |\n| image_url | varchar(500) | | Photo URL |\n| reference_id | uuid | | FK to related entity |\n| reference_type | varchar(50) | | |\n| is_pinned | boolean | DEFAULT false | |\n| like_count | integer | DEFAULT 0 | |\n| comment_count | integer | DEFAULT 0 | |\n| created_at | timestamptz | NOT NULL | |\n\n#### `comments` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| post_id | uuid | FK -> posts.id, NOT NULL | |\n| author_id | uuid | FK -> users.id, NOT NULL | |\n| text | text | NOT NULL | |\n| created_at | timestamptz | NOT NULL | |\n\n#### `reactions` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| post_id | uuid | FK -> posts.id | |\n| chore_assignment_id | uuid | FK -> chore_assignments.id | For verification emoji reactions |\n| user_id | uuid | FK -> users.id, NOT NULL | |\n| emoji | varchar(4) | NOT NULL | |\n| created_at | timestamptz | NOT NULL | |\n\n**Unique constraint:** (post_id, user_id, emoji) and (chore_assignment_id, user_id, emoji)\n\n#### `notifications` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| user_id | uuid | FK -> users.id, NOT NULL | Recipient |\n| family_id | uuid | FK -> families.id, NOT NULL | |\n| type | enum | NOT NULL | 'chore_assigned', 'chore_submitted', 'chore_approved', 'chore_redo', 'reward_redeemed', 'cashout_requested', 'cashout_approved', 'cashout_paid', 'swap_requested', 'swap_accepted', 'swap_declined', 'shoutout_received', 'shoutout_boost', 'badge_received', 'birthday_reminder', 'streak_milestone', 'pin_reset' |\n| title | varchar(500) | NOT NULL | |\n| reference_id | uuid | | |\n| reference_type | varchar(50) | | |\n| is_read | boolean | DEFAULT false | |\n| is_actionable | boolean | DEFAULT false | |\n| created_at | timestamptz | NOT NULL | |\n\n#### `companion_config` **[MVP]**\n\n| Column | Type | Constraints | Description |\n|--------|------|-------------|-------------|\n| id | uuid | PK | |\n| family_id | uuid | FK -> families.id, UNIQUE, NOT NULL | |\n| motivation_enabled | boolean | DEFAULT true | |\n| tips_enabled | boolean | DEFAULT true | |\n| fun_facts_enabled | boolean | DEFAULT true | |\n| kindness_enabled | boolean | DEFAULT true | |\n| financial_enabled | boolean | DEFAULT false | POST-MVP |\n| suggestion_mode | enum | DEFAULT 'encouraging' | 'encouraging', 'coaching', 'educational' |\n| custom_messages | jsonb | DEFAULT '[]' | Array of custom message strings |\n| updated_at | timestamptz | NOT NULL | |\n\n### 4.3 Indexes\n\n- `users`: (family_id), (family_code, member_code), (email)\n- `chore_assignments`: (assigned_to, status), (chore_id), (family_id, status)\n- `points_transactions`: (user_id, created_at DESC), (family_id, created_at DESC)\n- `posts`: (family_id, created_at DESC), (family_id, is_pinned)\n- `notifications`: (user_id, is_read, created_at DESC)\n- `swap_requests`: (family_id, status)\n- `reward_redemptions`: (redeemed_by, status)\n- `cash_out_requests`: (user_id, status)\n\n---\n\n## 5. API Specification\n\n### 5.1 Authentication Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| POST | `/api/auth/signup` | Email/password registration | **MVP** |\n| POST | `/api/auth/login` | Email/password login | **MVP** |\n| POST | `/api/auth/oauth` | Social OAuth flow | **MVP** |\n| POST | `/api/auth/kid/join` | Validate family+member code | **MVP** |\n| POST | `/api/auth/kid/set-pin` | Set 4-digit PIN | **MVP** |\n| POST | `/api/auth/kid/login` | PIN login | **MVP** |\n| POST | `/api/auth/kid/forgot-pin` | Request PIN reset | **MVP** |\n| POST | `/api/auth/kid/reset-pin` | Parent resets kid PIN | **MVP** |\n| POST | `/api/auth/refresh` | Refresh JWT token | **MVP** |\n| POST | `/api/auth/logout` | Invalidate session | **MVP** |\n\n### 5.2 Family Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| POST | `/api/families` | Create family | **MVP** |\n| GET | `/api/families/:id` | Get family details | **MVP** |\n| PATCH | `/api/families/:id` | Update family settings | **MVP** |\n| POST | `/api/families/:id/members` | Add kid to family | **MVP** |\n| GET | `/api/families/:id/members` | List family members | **MVP** |\n| DELETE | `/api/families/:id/members/:userId` | Remove member | **MVP** |\n| POST | `/api/families/:id/invite` | Generate invite for adult | **MVP** |\n| PATCH | `/api/families/:id/economy` | Update points_per_dollar | **MVP** |\n| PATCH | `/api/families/:id/pet` | Update pet emoji/name | **MVP** |\n\n### 5.3 Chore Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| POST | `/api/chores` | Create chore | **MVP** |\n| GET | `/api/chores` | List family chores | **MVP** |\n| GET | `/api/chores/:id` | Get chore details | **MVP** |\n| PATCH | `/api/chores/:id` | Update chore | **MVP** |\n| DELETE | `/api/chores/:id` | Deactivate chore | **MVP** |\n| POST | `/api/chores/:id/assign` | Assign chore to kid(s) | **MVP** |\n| GET | `/api/chore-assignments` | List assignments (filterable by status, kid) | **MVP** |\n| PATCH | `/api/chore-assignments/:id/start` | Kid marks \"Started it\" | **MVP** |\n| POST | `/api/chore-assignments/:id/submit` | Kid submits for verification | **MVP** |\n| POST | `/api/chore-assignments/:id/approve` | Parent approves | **MVP** |\n| POST | `/api/chore-assignments/:id/redo` | Parent requests redo | **MVP** |\n| POST | `/api/chore-assignments/:id/photo` | Upload photo proof | **MVP** |\n| POST | `/api/chore-assignments/approve-all` | Batch approve all pending | **MVP** |\n\n### 5.4 Reward Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| POST | `/api/rewards` | Create reward | **MVP** |\n| GET | `/api/rewards` | List family rewards | **MVP** |\n| PATCH | `/api/rewards/:id` | Update reward | **MVP** |\n| DELETE | `/api/rewards/:id` | Deactivate reward | **MVP** |\n| POST | `/api/rewards/:id/redeem` | Kid redeems reward | **MVP** |\n| POST | `/api/rewards/redeem-batch` | Kid redeems cart (multiple) | **MVP** |\n| GET | `/api/reward-redemptions` | List redemptions | **MVP** |\n| PATCH | `/api/reward-redemptions/:id/fulfill` | Parent marks as fulfilled | **MVP** |\n\n### 5.5 Cash-Out Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| POST | `/api/cashouts` | Kid requests cash-out | **MVP** |\n| GET | `/api/cashouts` | List cash-out requests | **MVP** |\n| PATCH | `/api/cashouts/:id/approve` | Parent approves | **MVP** |\n| PATCH | `/api/cashouts/:id/paid` | Parent marks as paid | **MVP** |\n| PATCH | `/api/cashouts/:id/confirm` | Kid confirms received | **MVP** |\n\n### 5.6 Swap Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| POST | `/api/swaps` | Create swap request | **MVP** |\n| GET | `/api/swaps` | List swap requests | **MVP** |\n| POST | `/api/swaps/:id/counter` | Counter offer | **MVP** |\n| PATCH | `/api/swaps/:id/accept` | Accept swap | **MVP** |\n| PATCH | `/api/swaps/:id/decline` | Decline swap | **MVP** |\n| PATCH | `/api/swaps/:id/parent-approve` | Parent approves (kid-to-parent type) | **MVP** |\n| PATCH | `/api/swaps/:id/parent-decline` | Parent declines (kid-to-parent type) | **MVP** |\n\n### 5.7 Shoutout Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| POST | `/api/shoutouts` | Send shout-out | **MVP** |\n| GET | `/api/shoutouts` | List shout-outs | **MVP** |\n| POST | `/api/shoutouts/:id/boost` | Parent boosts | **MVP** |\n| POST | `/api/shoutouts/:id/thank` | Recipient says thank you | **MVP** |\n\n### 5.8 Badge Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| POST | `/api/badges` | Parent gives badge | **MVP** |\n| GET | `/api/badges` | List user badges | **MVP** |\n\n### 5.9 Wishlist Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| POST | `/api/wishlists` | Kid adds wish | **MVP** |\n| GET | `/api/wishlists` | List wishes (by kid or family) | **MVP** |\n| PATCH | `/api/wishlists/:id/approve` | Parent approves | **MVP** |\n| PATCH | `/api/wishlists/:id/decline` | Parent declines | **MVP** |\n\n### 5.10 Social / Living Room Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| POST | `/api/posts` | Create post | **MVP** |\n| GET | `/api/posts` | List family posts (paginated) | **MVP** |\n| PATCH | `/api/posts/:id/pin` | Toggle pin | **MVP** |\n| POST | `/api/posts/:id/like` | Toggle like | **MVP** |\n| POST | `/api/posts/:id/comments` | Add comment | **MVP** |\n| GET | `/api/posts/:id/comments` | List comments | **MVP** |\n\n### 5.11 Notification Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| GET | `/api/notifications` | List notifications | **MVP** |\n| PATCH | `/api/notifications/:id/read` | Mark as read | **MVP** |\n| PATCH | `/api/notifications/read-all` | Mark all as read | **MVP** |\n\n### 5.12 Points & Stats Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| GET | `/api/points/transactions` | List point transactions | **MVP** |\n| GET | `/api/points/summary` | Get points summary (week, month, streak) | **MVP** |\n| GET | `/api/stats/leaderboard` | Family leaderboard | **MVP** |\n| GET | `/api/stats/kid/:id` | Kid stats (completion %, streaks, etc.) | **MVP** |\n\n### 5.13 Companion Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| GET | `/api/companion/config` | Get companion configuration | **MVP** |\n| PATCH | `/api/companion/config` | Update companion configuration | **MVP** |\n| GET | `/api/companion/message` | Get contextual message for screen | **MVP** |\n\n### 5.14 User Settings Endpoints\n\n| Method | Endpoint | Description | Scope |\n|--------|----------|-------------|-------|\n| PATCH | `/api/users/:id/profile` | Update profile (name, avatar) | **MVP** |\n| PATCH | `/api/users/:id/theme` | Update theme/dark mode | **MVP** |\n| PATCH | `/api/users/:id/notifications` | Update notification preferences | **MVP** |\n| PATCH | `/api/users/:id/password` | Change password | **MVP** |\n| POST | `/api/users/:id/avatar` | Upload avatar photo | **MVP** |\n\n---\n\n## 6. Business Logic & Rules Engine\n\n### 6.1 Chore State Machine\n\n```\n                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚  ASSIGNED    â”‚ (Parent creates/assigns)\n                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜\n                           â”‚ Kid taps \"Started it\"\n                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”\n                    â”‚ IN_PROGRESS  â”‚\n                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜\n                           â”‚ Kid taps \"Done!\" + uploads photo + submits\n                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                    â”‚ AWAITING_VERIFICATION â”‚\n                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                           â”‚\n              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n              â”‚                        â”‚\n       Parent approves          Parent requests redo\n              â”‚                        â”‚\n       â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”\n       â”‚  APPROVED    â”‚        â”‚  REDO_REQUESTED  â”‚\n       â”‚ (+points)    â”‚        â”‚ (back to To Do)  â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                       â”‚ Kid resubmits\n                               â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                               â”‚ AWAITING_VERIFICATIONâ”‚\n                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**Key rules:**\n- Photo proof is REQUIRED before submission (per client feedback -- overrides discovery POST-MVP tag)\n- No auto-approve -- all chores require parent verification\n- On redo: parent's note is displayed to kid, chore returns to \"To Do\" tab with orange highlight\n- On approval: points credited immediately, post auto-generated in Living Room\n- \"Started it\" is optional -- kid can go directly to \"Done!\"\n- Redo count tracked per assignment (no limit on redos)\n\n### 6.2 Points Economy\n\n**Earning Points:**\n- Chore approval: `chore.points` credited to kid (doubled on birthday)\n- Shoutout received: `shoutout.gifted_points` from sibling\n- Boost received: `shoutout.boost_points` from parent (both sender and receiver get this)\n- Badge bonus: `badge.bonus_points` from parent\n- Swap incentive received: `swap_request.incentive_points` from requesting sibling\n\n**Spending Points:**\n- Reward redemption: `reward.point_cost` deducted\n- Cash-out: `cash_out_request.points_amount` deducted\n- Shoutout gifted: `shoutout.gifted_points` deducted from sender\n- Swap incentive sent: `swap_request.incentive_points` deducted from requester\n\n**Points-to-Dollar Conversion:**\n- Rate: `family.points_per_dollar` (configurable, default 20)\n- Formula: `dollar_amount = points / points_per_dollar`\n- Example at 20 pts/$1: 100 pts = $5.00\n- Configurable presets: Easy (10), Standard (20), Hard (40)\n- When rate changes, existing reward point costs auto-recalculate: `reward.point_cost = reward.dollar_value * family.points_per_dollar`\n\n**Point Balance:**\n- `points_balance` can never go negative\n- All point operations wrapped in database transactions\n- Reward redemption validates balance >= total cart cost before processing\n\n### 6.3 Cash-Out State Machine\n\n```\nKid requests cash-out (points deducted immediately)\n  -> REQUESTED\n  -> Parent reviews\n  -> PARENT_APPROVED\n  -> Parent hands cash / transfers money\n  -> PARENT_PAID\n  -> Kid confirms receipt\n  -> KID_CONFIRMED (complete)\n```\n\n**Rules:**\n- Points deducted at request time (not on parent approval)\n- If parent declines: points refunded, status -> CANCELLED\n- Parent notification on request; kid notification on each status change\n- 4-step status tracker visible to kid throughout\n\n### 6.4 Swap Rules\n\n**Sibling-to-Sibling:**\n1. Kid selects own chore to swap\n2. Kid selects sibling and one of sibling's chores\n3. Optional: offer incentive points (0-20 pts from own balance)\n4. Proposal sent to sibling\n5. Sibling can: Accept (chores swap, incentive transfers), Decline (nothing happens), Counter (offer different chore or favor)\n6. On acceptance: parent notified, post auto-generated\n7. Counter offers loop back to original requester for accept/decline\n8. Favors are text-only promises -- not tracked by the system\n\n**Kid-to-Parent:**\n1. Kid selects own chore to swap\n2. Kid picks from existing unassigned chores OR suggests a new chore (name, description, points)\n3. Optional reason text\n4. Request sent to parent(s)\n5. Parent can: Approve (original chore unassigned/reassigned, new chore assigned) or Decline (with optional reason)\n\n### 6.5 Shoutout Rules\n\n1. Kid selects sibling\n2. Kid picks badge (6 predefined options)\n3. Kid writes note (optional but encouraged)\n4. Kid optionally gifts points (1-25 from own balance)\n5. Shoutout sent to parent for review (NOT directly to recipient)\n6. Parent can:\n   - Boost with bonus points (5/10/15/25 per kid) + optional note -> deliver to recipient\n   - Skip/just view -> deliver without boost\n7. Recipient receives notification with shoutout + boost (if any)\n8. Both sender and receiver get boost points (if parent boosted)\n9. Auto-posted to Living Room\n10. Recipient can tap \"Thank You!\" (confetti + toast)\n\n### 6.6 Streak Logic\n\n- A \"day\" counts if the kid completes and gets at least one chore approved that day\n- Streak increments at end-of-day processing\n- Streak breaks if no approved chore for a calendar day\n- Milestones posted to Living Room: 3-day, 7-day, 14-day, 30-day, 60-day, 100-day, 365-day\n- Streak displayed on kid's chore screen, board, and parent dashboard\n\n### 6.7 Birthday Logic\n\n- Birthday detected from `user.birthday` field\n- 7 days before: Birthday prep card appears on parent dashboard\n- On birthday:\n  - Birthday banner on kid's chore screen\n  - Double points for all chores completed that day (`is_birthday_double = true`)\n  - Birthday Pass: skip one chore free (one-use coupon, auto-generated)\n  - Siblings prompted for birthday shout-outs\n  - Birthday badge auto-awarded\n\n### 6.8 Reward Cart Logic\n\n- Kids can add multiple rewards to a cart before checkout\n- Cart tracks items and running total\n- Cart validates: total_cost <= points_balance\n- Items that exceed remaining budget after cart additions are disabled\n- \"Redeem All\" processes batch redemption in single transaction\n- Each item creates a separate `reward_redemption` record\n- Parent notified for each item (or single batch notification)\n\n### 6.9 Leaderboard Logic\n\n- Rankings based on points earned in current week (Monday-Sunday)\n- Spotlight: \"This Week's MVP\" = kid with most weekly points\n- Tiebreaker: longest active streak, then most chores completed\n- Rankings visible to all family members (kids and parents)\n\n### 6.10 Living Room Auto-Post Rules\n\nPosts auto-generated for:\n1. **Chore approved** -> \"Chore Done\" post with photo proof and points\n2. **Shoutout delivered** -> Shoutout post with badge and note\n3. **Streak milestone hit** -> Milestone post with streak count\n4. **Reward redeemed** -> Reward post with emoji and points spent\n\nParents can create manual posts (announcements) and pin them.\nAll family members can create manual photo posts.\nAll posts support likes, comments, and emoji reactions.\n\n### 6.11 Notification Rules\n\n**To Kids:**\n- New chore assigned\n- Chore approved (with emoji reactions from parent)\n- Redo requested (with parent's note)\n- Swap request received (from sibling)\n- Swap accepted/declined/counter-offered\n- Shoutout received (with boost if applicable)\n- Badge received\n- Cash-out status changes\n- Streak reminders (configurable)\n\n**To Parents:**\n- Chore submitted for verification\n- Reward redeemed (needs fulfillment)\n- Cash-out requested\n- Swap request from kid (kid-to-parent type)\n- Sibling swap completed (info only)\n- Shoutout pending review (for boost opportunity)\n- Birthday upcoming (7 days)\n- Wishlist item submitted\n- PIN reset requested\n\n---\n\n## 7. Integrations\n\n### 7.1 Google Classroom **[MVP-LITE]**\n\n**Scope:** Basic integration -- read assignment completion data from Google Classroom. Award points for completed schoolwork.\n\n**Implementation:**\n- OAuth 2.0 with Google Classroom API scopes\n- Parent connects their Google account and selects kid's Classroom courses\n- Poll or webhook for assignment submissions\n- Award configurable points per completed assignment\n- Display in kid's points history as \"Education\" type\n\n**MVP-LITE limitations:**\n- Read-only (no writing to Classroom)\n- Manual point award (parent reviews) rather than automatic\n- Single classroom per kid initially\n\n### 7.2 Push Notifications **[MVP]**\n\n- Web Push API (Service Worker + Push API)\n- Firebase Cloud Messaging (FCM) as delivery provider\n- Notification preferences stored per user\n- Critical notifications (chore assigned, approved, redo) bypass quiet hours\n- Non-critical (streak reminders, weekly summary) respect user preferences\n\n### 7.3 Image Upload / Cloud Storage **[MVP]**\n\n- Photo proof and avatar uploads to Supabase Storage (or S3-compatible)\n- Client-side image compression before upload (max 2MB)\n- Thumbnail generation on upload (200x200 for feeds, 800x800 for detail)\n- Supported formats: JPEG, PNG, HEIC (converted to JPEG)\n\n### 7.4 Future Integrations **[POST-MVP]**\n\n- **Khan Academy:** API integration for learning progress tracking\n- **Canvas LMS:** OAuth integration for school assignment completion\n- **Microsoft Teams for Education:** Graph API for assignment data\n- **Edlink:** Universal LMS connector\n- **AI Companion:** Personalized messages based on family behavior patterns\n\n---\n\n## 8. Non-Functional Requirements\n\n### 8.1 Performance\n\n| Metric | Target |\n|--------|--------|\n| Time to interactive (TTI) | < 3 seconds on 4G |\n| API response time (p95) | < 500ms |\n| Image upload + processing | < 5 seconds |\n| Swipe gesture responsiveness | < 16ms frame budget |\n| Living Room feed load | < 2 seconds for 20 posts |\n\n### 8.2 Security\n\n- All API calls over HTTPS\n- JWT access tokens (15 min TTL) with refresh tokens (30 day TTL)\n- Kid PINs stored as bcrypt hashes (cost factor 12)\n- Parent passwords stored as bcrypt hashes (cost factor 12)\n- Row-level security (RLS) in Supabase: all queries scoped to family_id\n- COPPA considerations:\n  - No direct data collection from children under 13 without parental consent\n  - Parent account required to create family and add kids\n  - Kids authenticate via parent-generated codes (no personal email/phone needed)\n  - Photo uploads stored in family-scoped buckets\n  - No third-party analytics tracking for kid users\n- OAuth state parameter for CSRF protection\n- Rate limiting: 100 requests/minute per user, 10 failed PIN attempts triggers lockout\n\n### 8.3 Accessibility\n\n- WCAG 2.1 Level AA compliance target\n- Color contrast ratio >= 4.5:1 for all text\n- Touch targets >= 44x44px\n- Screen reader support for all interactive elements\n- Keyboard navigation support (desktop)\n- Reduced motion support (prefers-reduced-motion media query)\n\n### 8.4 Scalability\n\n- Target: 10,000 families in year 1\n- Database: Supabase (PostgreSQL) with connection pooling\n- File storage: Supabase Storage with CDN\n- Stateless API servers (horizontal scaling ready)\n- Database indexes on all frequently queried columns (see 4.3)\n\n### 8.5 Reliability\n\n- 99.9% uptime target\n- Graceful degradation: app usable offline for viewing cached data\n- Optimistic UI updates for common actions (like, comment, mark started)\n- Retry logic for failed API calls (3 attempts with exponential backoff)\n\n### 8.6 Browser/Device Support\n\n- iOS Safari 15+\n- Chrome 90+ (Android & Desktop)\n- Firefox 90+\n- Edge 90+\n- PWA installable on iOS and Android\n- Minimum viewport: 320px width\n\n### 8.7 Theming Requirements\n\n| Theme | Primary | Secondary | Accent |\n|-------|---------|-----------|--------|\n| Ocean (default) | #1B2A4A | #2E86AB | #F18F01 |\n| Sunset | #2D1B69 | #FF6B35 | #FFD700 |\n| Forest | #1B3A2D | #4A8C6F | #F5A623 |\n| Midnight | #0D1117 | #58A6FF | #39D353 |\n| Bubblegum | #8B1A4A | #FF69B4 | #FFE066 |\n| Arctic | #2C3E50 | #74B9FF | #FFFFFF |\n\n**Dark mode overrides:**\n- `--bg-light`: #1a1d23\n- `--bg-card`: #1E2A3A\n- `--text`: #E8F4F8\n- `--text-secondary`: #a0a0a0\n- `--border`: #333\n\n- Theme and dark mode stored per user (kid and parent have independent settings)\n- Theme applied via CSS custom properties on `:root` element\n- Dark mode applied via `data-dark=\"true\"` attribute\n\n---\n\n## 9. Build Scope Summary\n\n### 9.1 Feature Tagging Table\n\n| Feature | Tag | Notes |\n|---------|-----|-------|\n| **Onboarding & Auth** | | |\n| Splash screen | MVP | |\n| Join/Create family flow | MVP | |\n| Social OAuth (Apple, Google, Facebook) | MVP | |\n| Email/password signup | MVP | |\n| Kid PIN authentication | MVP | 4-digit, bcrypt hashed |\n| Family code system | MVP | Auto-generated codes |\n| Family pet selection | MVP | 12 options |\n| First-time setup wizard (chores, rewards, post) | MVP | Preset categories |\n| **Kid Chore Management** | | |\n| Chore list with tabs (To Do / In Progress / Done) | MVP | |\n| Chore detail view | MVP | |\n| Mark started / mark done | MVP | |\n| Photo proof upload (mandatory) | MVP | Client override: was POST-MVP in discovery |\n| Submit for verification | MVP | |\n| Redo handling with parent notes | MVP | |\n| Birthday banner + double points | MVP | |\n| Streak tracking + display | MVP | |\n| **Reward System** | | |\n| Reward catalog browsing | MVP | |\n| Reward cart (multi-item) | MVP | |\n| Single reward detail + redeem | MVP | |\n| Redeem confirmation flow | MVP | |\n| Kid wishlist (add, view, occasion tags) | MVP | |\n| Parent wishlist review (approve/decline) | MVP | |\n| **Cash-Out System** | | |\n| Cash-out request (slider selection) | MVP | |\n| 4-step status tracking | MVP | Request -> Approve -> Paid -> Confirmed |\n| Parent cash fulfillment | MVP | |\n| **Points & Leaderboard** | | |\n| Points balance + history | MVP | |\n| Points economy (configurable rate) | MVP | Default 20 pts/$1 |\n| Family leaderboard / rankings | MVP | Weekly reset |\n| Sibling profile view | MVP | |\n| Badge display (\"My Swag\") | MVP | |\n| Weekly MVP spotlight | MVP | |\n| **Chore Swaps** | | |\n| Sibling-to-sibling swap | MVP | With incentive points |\n| Counter offers (chore or favor) | MVP | |\n| Kid-to-parent swap request | MVP | Existing or suggested chore |\n| Parent swap review/approval | MVP | |\n| **Shout-Outs** | | |\n| Send shout-out (badge + note + points) | MVP | |\n| Parent review + boost | MVP | |\n| Receive shout-out | MVP | |\n| Thank you response | MVP | |\n| **Living Room (Social Feed)** | | |\n| Manual posts (text + photo) | MVP | |\n| Auto-generated posts (chore, shoutout, streak, reward) | MVP | |\n| Pinned announcements | MVP | |\n| Likes + comments | MVP | |\n| Camera FAB | MVP | |\n| **Companion (Chal)** | | |\n| Animated companion widget | MVP | Configurable pet |\n| Intro modal | MVP | |\n| Contextual messages (per-screen) | MVP | |\n| Menu (encourage, tip, fun fact, hide) | MVP | |\n| Parent companion config (message types, mode, custom messages) | MVP | |\n| Celebration mode (on confetti events) | MVP | |\n| **Settings** | | |\n| Kid settings (profile, theme, dark mode, notifications, companion) | MVP | |\n| Parent settings (profile, kids, pet, economy, theme, notifications, management, account) | MVP | |\n| 6 color themes + dark mode | MVP | Per-user independent |\n| **Notifications** | | |\n| Notification panel (in-app) | MVP | |\n| Push notifications (Web Push + FCM) | MVP | |\n| Notification preferences | MVP | |\n| **Parent Dashboard** | | |\n| Family overview (stats, kids, progress) | MVP | |\n| Pending verifications | MVP | |\n| Swipe-to-approve verification cards | MVP | |\n| Approve All batch action | MVP | |\n| Rewards to fulfill | MVP | |\n| Birthday prep card | MVP | 7 days before |\n| Suggestion cards (from kids) | MVP | |\n| Sibling kindness section | MVP | |\n| **Parent Chore Management** | | |\n| Create chore (custom + frequency) | MVP | |\n| Assign to kid(s) or all | MVP | |\n| Reward catalog management | MVP | |\n| Create reward (auto-points from dollars) | MVP | |\n| Give badge to kid | MVP | |\n| Family member management | MVP | |\n| **Google Classroom** | MVP-LITE | Read-only, manual award |\n| **Year-End Recap (\"Challey Wrapped\")** | POST-MVP | 8-slide overlay |\n| **Education Hub** | POST-MVP | Multi-LMS integration |\n| **Achievements System** | POST-MVP | Badges, milestones, gamification |\n| **Khan Academy Integration** | POST-MVP | |\n| **Canvas LMS Integration** | POST-MVP | |\n| **Microsoft Teams Integration** | POST-MVP | |\n| **AI Companion Suggestions** | POST-MVP | Personalized behavior-based |\n| **Financial Literacy Messages** | POST-MVP | Companion content type |\n| **Recurring Chore Auto-Generation** | POST-MVP | Auto-create daily/weekly assignments |\n\n### 9.2 Screen Count Summary\n\n| Category | MVP | MVP-LITE | POST-MVP | Total |\n|----------|:---:|:--------:|:--------:|:-----:|\n| Onboarding (splash through setup) | 17 | 0 | 0 | 17 |\n| Kid Chore Flow | 3 | 0 | 0 | 3 |\n| Kid Swap Flow | 13 | 0 | 0 | 13 |\n| Kid Shoutout Flow | 5 | 0 | 0 | 5 |\n| Kid Rewards + Points | 9 | 0 | 0 | 9 |\n| Kid Living Room + Settings | 2 | 0 | 0 | 2 |\n| Kid Board | 2 | 0 | 0 | 2 |\n| Parent Dashboard + Verify | 2 | 0 | 0 | 2 |\n| Parent Management | 7 | 0 | 0 | 7 |\n| Overlays/Modals | 3 | 0 | 1 | 4 |\n| POST-MVP Screens | 0 | 0 | 2 | 2 |\n| Google Classroom (in Education Hub) | 0 | 1 | 0 | 1 |\n| **Subtotal** | **63** | **1** | **3** | **67** |\n\n*Note: The companion widget is not counted as a screen -- it is a persistent floating element.*\n\n### 9.3 Data Entity Count\n\n| Entity | MVP | POST-MVP |\n|--------|:---:|:--------:|\n| families | Yes | |\n| users | Yes | |\n| chores | Yes | |\n| chore_assignments | Yes | |\n| photo_proofs | Yes | |\n| rewards | Yes | |\n| reward_redemptions | Yes | |\n| cash_out_requests | Yes | |\n| points_transactions | Yes | |\n| swap_requests | Yes | |\n| shoutouts | Yes | |\n| badges | Yes | |\n| wishlist_items | Yes | |\n| posts | Yes | |\n| comments | Yes | |\n| reactions | Yes | |\n| notifications | Yes | |\n| companion_config | Yes | |\n| education_connections | | Yes |\n| education_points | | Yes |\n| achievements | | Yes |\n| **Total** | **18** | **3** |\n\n### 9.4 API Endpoint Count\n\n| Category | MVP | MVP-LITE | POST-MVP |\n|----------|:---:|:--------:|:--------:|\n| Authentication | 10 | 0 | 0 |\n| Family | 9 | 0 | 0 |\n| Chores | 13 | 0 | 0 |\n| Rewards | 8 | 0 | 0 |\n| Cash-Out | 5 | 0 | 0 |\n| Swaps | 7 | 0 | 0 |\n| Shoutouts | 4 | 0 | 0 |\n| Badges | 2 | 0 | 0 |\n| Wishlists | 4 | 0 | 0 |\n| Social/Living Room | 6 | 0 | 0 |\n| Notifications | 3 | 0 | 0 |\n| Points & Stats | 4 | 0 | 0 |\n| Companion | 3 | 0 | 0 |\n| User Settings | 5 | 0 | 0 |\n| Education | 0 | 2 | 4 |\n| **Total** | **83** | **2** | **4** |\n\n---\n\n## Document Status\n\n**Status:** COMPLETE\n**Ready for:** Feedback Agent Review (Mode 4)\n**Next Agent:** Feedback Agent -> Solutions Architect + Technical Advisor\n";
  document.getElementById('content').innerHTML = marked.parse(md);
</script>
</body>
</html>