<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CremoLogix v2 - Loan Officer Portal</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html, body { height: 100%; overflow: hidden; font-family: 'Segoe UI', system-ui, sans-serif; }
  #demo-bar { height: 40px; background: #0A2540; color: #fff; display: flex; align-items: center; justify-content: space-between; padding: 0 16px; font-size: 14px; z-index: 100; position: relative; }
  #demo-bar .left { display: flex; align-items: center; min-width: 0; flex-shrink: 1; }
  #demo-bar .title { font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  #demo-bar .back-btn { background: rgba(255,255,255,.12); border: 1px solid rgba(255,255,255,.25); color: #fff; height: 28px; padding: 0 12px; border-radius: 4px; cursor: pointer; font-size: 13px; font-family: inherit; display: flex; align-items: center; gap: 6px; transition: background .15s; text-decoration: none; margin-right: 12px; flex-shrink: 0; white-space: nowrap; }
  #demo-bar .back-btn:hover { background: rgba(255,255,255,.22); }
  #demo-bar .indicator { position: absolute; left: 50%; transform: translateX(-50%); opacity: .85; font-size: 13px; }
  #demo-bar .nav-btns { display: flex; gap: 6px; }
  #demo-bar .nav-btns button { background: rgba(255,255,255,.12); border: 1px solid rgba(255,255,255,.25); color: #fff; width: 32px; height: 28px; border-radius: 4px; cursor: pointer; font-size: 16px; display: flex; align-items: center; justify-content: center; transition: background .15s; }
  #demo-bar .nav-btns button:hover { background: rgba(255,255,255,.22); }
  #demo-bar .nav-btns button:disabled { opacity: .35; cursor: default; }
  #frame-wrap { position: relative; height: calc(100vh - 40px); background: #f0f0f0; }
  #app-frame { width: 100%; height: 100%; border: none; display: block; }
  #fade-overlay { position: absolute; inset: 0; background: #fff; opacity: 0; pointer-events: none; transition: opacity .18s ease; }
  #fade-overlay.active { opacity: 1; }
  #navigator { position: fixed; bottom: 16px; right: 16px; z-index: 200; width: 280px; background: #0A2540; color: #fff; border-radius: 10px; box-shadow: 0 8px 30px rgba(0,0,0,.35); overflow: hidden; transition: transform .25s ease, opacity .25s ease; transform-origin: bottom right; max-height: 70vh; display: flex; flex-direction: column; }
  #navigator.collapsed { transform: scale(0); opacity: 0; pointer-events: none; }
  #nav-header { padding: 12px 14px 8px; border-bottom: 1px solid rgba(255,255,255,.12); font-size: 11px; text-transform: uppercase; letter-spacing: 1.2px; opacity: .7; flex-shrink: 0; }
  #nav-list { list-style: none; padding: 6px 0; overflow-y: auto; flex: 1; }
  #nav-list li button { width: 100%; background: none; border: none; color: #fff; text-align: left; padding: 9px 14px 9px 42px; cursor: pointer; font-size: 13px; font-family: inherit; transition: background .12s; display: block; position: relative; }
  #nav-list li button:hover { background: rgba(255,255,255,.08); }
  #nav-list li button.active { background: #006D77; font-weight: 600; }
  #nav-list li button .icon { position: absolute; left: 14px; top: 50%; transform: translateY(-50%); width: 20px; text-align: center; font-size: 14px; }
  #nav-list li button .num { position: absolute; right: 14px; top: 50%; transform: translateY(-50%); font-size: 11px; opacity: .5; }
  #nav-toggle { position: fixed; bottom: 16px; right: 16px; z-index: 201; width: 44px; height: 44px; border-radius: 50%; background: #0A2540; color: #fff; border: 2px solid rgba(255,255,255,.2); font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 16px rgba(0,0,0,.3); transition: background .15s; }
  #nav-toggle:hover { background: #006D77; }
</style>
</head>
<body>
<div id="demo-bar">
  <div class="left">
    <a class="back-btn" href="../cremologix-v2.html">&larr; All Portals</a>
    <span class="title">Loan Officer Portal</span>
  </div>
  <span class="indicator" id="screen-indicator"></span>
  <div class="nav-btns">
    <button id="btn-prev" title="Previous">&larr;</button>
    <button id="btn-next" title="Next">&rarr;</button>
  </div>
</div>
<div id="frame-wrap">
  <iframe id="app-frame"></iframe>
  <div id="fade-overlay"></div>
</div>
<div id="navigator" class="collapsed">
  <div id="nav-header">Loan Officer Screens</div>
  <ul id="nav-list"></ul>
</div>
<button id="nav-toggle" title="Toggle navigator (Esc)">&#9776;</button>
<script>
const CSS_BASE = `* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', system-ui, sans-serif; background: #F5F7FA; color: #1A1A2E; min-height: 100vh; }
.container { max-width: 1400px; margin: 0 auto; padding: 32px; }
.card { background: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); padding: 24px; margin-bottom: 20px; }
.stats-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 24px; }
.stat-card { background: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); display: flex; align-items: center; gap: 16px; }
.stat-icon { width: 48px; height: 48px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
.stat-icon.blue { background: rgba(10,37,64,0.1); color: #0A2540; }
.stat-icon.amber { background: rgba(244,162,97,0.15); color: #F4A261; }
.stat-icon.green { background: rgba(42,157,143,0.15); color: #2A9D8F; }
.stat-icon.purple { background: rgba(111,66,193,0.1); color: #6F42C1; }
.stat-value { font-size: 28px; font-weight: 700; color: #0A2540; }
.stat-label { font-size: 12px; color: #6C757D; margin-top: 4px; }
.badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 500; }
.badge.green { background: rgba(42,157,143,0.15); color: #2A9D8F; }
.badge.amber { background: rgba(244,162,97,0.15); color: #F4A261; }
.badge.red { background: rgba(230,57,70,0.15); color: #E63946; }
.badge.gray { background: #e9ecef; color: #6C757D; }
.badge.blue { background: rgba(10,37,64,0.08); color: #0A2540; }
.btn { padding: 10px 20px; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; border: none; font-family: inherit; transition: all 0.2s; }
.btn-primary { background: #0A2540; color: #fff; }
.btn-primary:hover { background: #081d33; }
.btn-success { background: #2A9D8F; color: #fff; }
.btn-warning { background: #F4A261; color: #fff; }
.btn-danger { background: #E63946; color: #fff; }
.btn-outline { background: none; border: 1px solid #dee2e6; color: #6C757D; }
.btn-outline:hover { border-color: #0A2540; color: #0A2540; }
.btn-sm { padding: 6px 14px; font-size: 12px; }
table { width: 100%; border-collapse: collapse; }
thead th { background: #F8F9FA; padding: 12px 16px; text-align: left; font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; color: #6C757D; border-bottom: 1px solid #e9ecef; }
tbody td { padding: 14px 16px; border-top: 1px solid #f1f3f5; font-size: 14px; }
tbody tr { transition: background 0.15s; cursor: pointer; }
tbody tr:hover { background: #F8FAFB; }
.gauge { width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 700; position: relative; }
.gauge::before { content: ''; position: absolute; inset: 4px; border-radius: 50%; background: #fff; }
.gauge .gv { position: relative; z-index: 1; }
.g-grn { background: conic-gradient(#2A9D8F calc(var(--p) * 3.6deg), #e9ecef 0); }
.g-grn .gv { color: #2A9D8F; }
.g-ylw { background: conic-gradient(#F4A261 calc(var(--p) * 3.6deg), #e9ecef 0); }
.g-ylw .gv { color: #F4A261; }
.g-red { background: conic-gradient(#E63946 calc(var(--p) * 3.6deg), #e9ecef 0); }
.g-red .gv { color: #E63946; }
.sla-ok { background: rgba(42,157,143,0.15); color: #2A9D8F; }
.sla-warn { background: rgba(244,162,97,0.15); color: #F4A261; }
.sla-breach { background: rgba(230,57,70,0.15); color: #E63946; }
.filters { display: flex; gap: 8px; margin-bottom: 16px; flex-wrap: wrap; }
.filter-btn { padding: 8px 16px; border-radius: 6px; font-size: 13px; background: #fff; border: 1px solid #dee2e6; color: #6C757D; cursor: pointer; font-family: inherit; }
.filter-btn.active { background: #0A2540; color: #fff; border-color: #0A2540; }
select.filter { padding: 8px 14px; border: 1px solid #dee2e6; border-radius: 6px; font-size: 13px; font-family: inherit; background: #fff; }
h2.section-title { font-size: 22px; font-weight: 600; color: #0A2540; margin-bottom: 20px; }
h3.card-title { font-size: 18px; font-weight: 600; margin-bottom: 16px; color: #0A2540; }
`;

const SCREEN_1_HTML = `<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Pipeline Dashboard</title>
<style>${CSS_BASE}
.welcome h2 { font-size: 24px; font-weight: 600; color: #0A2540; }
.welcome .date { font-size: 14px; color: #6C757D; margin-top: 4px; }
.funnel { margin-bottom: 24px; }
.funnel-stage { display: flex; align-items: center; margin-bottom: 4px; }
.funnel-label { width: 140px; font-size: 13px; font-weight: 600; color: #0A2540; text-align: right; padding-right: 16px; }
.funnel-bar-wrap { flex: 1; position: relative; }
.funnel-bar { height: 40px; border-radius: 4px; display: flex; align-items: center; padding-left: 14px; font-size: 14px; font-weight: 700; color: #fff; transition: width 0.4s; }
.funnel-bar.s1 { background: #0A2540; }
.funnel-bar.s2 { background: #1B4965; }
.funnel-bar.s3 { background: #2A9D8F; }
.funnel-bar.s4 { background: #52B788; }
.funnel-bar.s5 { background: #74C69D; }
.funnel-drop { width: 140px; text-align: left; padding-left: 12px; font-size: 12px; color: #6C757D; }
.funnel-drop .pct { color: #E63946; font-weight: 600; }
.activity-feed { max-height: 300px; overflow-y: auto; }
.activity-item { display: flex; gap: 12px; padding: 12px 0; border-bottom: 1px solid #f1f3f5; }
.activity-item:last-child { border-bottom: none; }
.activity-dot { width: 10px; height: 10px; border-radius: 50%; margin-top: 5px; flex-shrink: 0; }
.activity-dot.green { background: #2A9D8F; }
.activity-dot.blue { background: #0A2540; }
.activity-dot.amber { background: #F4A261; }
.activity-dot.red { background: #E63946; }
.activity-text { font-size: 13px; color: #495057; line-height: 1.5; }
.activity-text strong { color: #0A2540; }
.activity-time { font-size: 11px; color: #ADB5BD; margin-top: 2px; }
</style></head><body>
<div class="container">
  <div class="welcome" style="margin-bottom:24px">
    <h2>Welcome back, Marcus</h2>
    <div class="date">Thursday, February 12, 2026</div>
  </div>
  <div class="stats-row">
    <div class="stat-card"><div class="stat-icon blue">&#128203;</div><div><div class="stat-value">24</div><div class="stat-label">Active Applications</div></div></div>
    <div class="stat-card"><div class="stat-icon amber">&#9203;</div><div><div class="stat-value">9</div><div class="stat-label">In Underwriting</div></div></div>
    <div class="stat-card"><div class="stat-icon green">&#128176;</div><div><div class="stat-value">$1.8M</div><div class="stat-label">Funded This Month</div></div></div>
    <div class="stat-card"><div class="stat-icon purple">&#128200;</div><div><div class="stat-value">68%</div><div class="stat-label">Conversion Rate</div></div></div>
  </div>

  <div class="card">
    <h3 class="card-title">Pipeline Funnel</h3>
    <div class="funnel">
      <div class="funnel-stage">
        <div class="funnel-label">Leads</div>
        <div class="funnel-bar-wrap"><div class="funnel-bar s1" style="width:100%">52</div></div>
        <div class="funnel-drop"></div>
      </div>
      <div class="funnel-stage">
        <div class="funnel-label">Applications</div>
        <div class="funnel-bar-wrap"><div class="funnel-bar s2" style="width:73%">38</div></div>
        <div class="funnel-drop"><span class="pct">-26.9%</span> drop</div>
      </div>
      <div class="funnel-stage">
        <div class="funnel-label">Underwriting</div>
        <div class="funnel-bar-wrap"><div class="funnel-bar s3" style="width:46%">24</div></div>
        <div class="funnel-drop"><span class="pct">-36.8%</span> drop</div>
      </div>
      <div class="funnel-stage">
        <div class="funnel-label">Approved</div>
        <div class="funnel-bar-wrap"><div class="funnel-bar s4" style="width:35%">18</div></div>
        <div class="funnel-drop"><span class="pct">-25.0%</span> drop</div>
      </div>
      <div class="funnel-stage">
        <div class="funnel-label">Funded</div>
        <div class="funnel-bar-wrap"><div class="funnel-bar s5" style="width:25%">13</div></div>
        <div class="funnel-drop"><span class="pct">-27.8%</span> drop</div>
      </div>
    </div>
  </div>

  <div class="card">
    <h3 class="card-title">Recent Activity</h3>
    <div class="activity-feed">
      <div class="activity-item"><div class="activity-dot green"></div><div><div class="activity-text"><strong>Chen's Auto Repair</strong> approved by underwriting &mdash; $125,000</div><div class="activity-time">12 min ago</div></div></div>
      <div class="activity-item"><div class="activity-dot blue"></div><div><div class="activity-text">New application received from <strong>Sandra Williams</strong> via broker Pacific Lending Group</div><div class="activity-time">45 min ago</div></div></div>
      <div class="activity-item"><div class="activity-dot amber"></div><div><div class="activity-text"><strong>Thompson Construction</strong> &mdash; missing bank statement flagged, borrower notified</div><div class="activity-time">1 hr ago</div></div></div>
      <div class="activity-item"><div class="activity-dot green"></div><div><div class="activity-text"><strong>Parker's Pet Grooming</strong> funded &mdash; $65,000 disbursed</div><div class="activity-time">2 hrs ago</div></div></div>
      <div class="activity-item"><div class="activity-dot red"></div><div><div class="activity-text"><strong>Kim's Tech Solutions</strong> SLA breached &mdash; 18 days in underwriting queue</div><div class="activity-time">3 hrs ago</div></div></div>
      <div class="activity-item"><div class="activity-dot blue"></div><div><div class="activity-text">Broker <strong>Ray Nakamura</strong> submitted 2 new deals totaling $340,000</div><div class="activity-time">4 hrs ago</div></div></div>
      <div class="activity-item"><div class="activity-dot green"></div><div><div class="activity-text"><strong>Gonzalez Bakery</strong> documents received &mdash; package now complete</div><div class="activity-time">Yesterday</div></div></div>
    </div>
  </div>
</div>
</body></html>`;

const SCREEN_2_HTML = `<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Application Pipeline</title>
<style>${CSS_BASE}
.controls-bar { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; flex-wrap: wrap; gap: 12px; }
.source-direct { background: rgba(10,37,64,0.08); color: #0A2540; }
.source-broker { background: rgba(42,157,143,0.15); color: #2A9D8F; }
.source-referral { background: rgba(111,66,193,0.1); color: #6F42C1; }
</style></head><body>
<div class="container">
  <div class="card">
    <h2 class="section-title">Application Pipeline</h2>
    <div class="controls-bar">
      <div class="filters">
        <button class="filter-btn active">All Stages</button>
        <button class="filter-btn">Application</button>
        <button class="filter-btn">Underwriting</button>
        <button class="filter-btn">Approved</button>
        <button class="filter-btn">Funded</button>
      </div>
      <div style="display:flex;gap:8px">
        <select class="filter"><option>All Sources</option><option>Direct</option><option>Broker</option><option>Referral</option></select>
        <select class="filter"><option>Sort: Urgency</option><option>Sort: Amount</option><option>Sort: Days in Stage</option></select>
      </div>
    </div>
    <table>
      <thead><tr>
        <th>Borrower</th><th>Business</th><th>Amount</th><th>Stage</th><th>Deal Health</th><th>Days in Stage</th><th>SLA</th><th>Source</th>
      </tr></thead>
      <tbody>
        <tr>
          <td><strong>James &amp; Tanya Richardson</strong></td><td>Richardson's Kitchen &amp; Catering</td><td><strong>$185,000</strong></td>
          <td><span class="badge amber">Underwriting</span></td>
          <td><div class="gauge g-ylw" style="--p:74"><span class="gv">74</span></div></td>
          <td>12</td><td><span class="badge sla-ok">On Track</span></td><td><span class="badge source-direct">Direct</span></td>
        </tr>
        <tr>
          <td><strong>Michael Chen</strong></td><td>Chen's Auto Repair</td><td><strong>$125,000</strong></td>
          <td><span class="badge green">Approved</span></td>
          <td><div class="gauge g-grn" style="--p:82"><span class="gv">82</span></div></td>
          <td>2</td><td><span class="badge sla-ok">On Track</span></td><td><span class="badge source-referral">Referral</span></td>
        </tr>
        <tr>
          <td><strong>Sandra Williams</strong></td><td>Williams Event Planning</td><td><strong>$210,000</strong></td>
          <td><span class="badge blue">Application</span></td>
          <td><div class="gauge g-ylw" style="--p:65"><span class="gv">65</span></div></td>
          <td>3</td><td><span class="badge sla-ok">On Track</span></td><td><span class="badge source-broker">Broker</span></td>
        </tr>
        <tr>
          <td><strong>David Thompson</strong></td><td>Thompson Construction LLC</td><td><strong>$275,000</strong></td>
          <td><span class="badge amber">Underwriting</span></td>
          <td><div class="gauge g-ylw" style="--p:68"><span class="gv">68</span></div></td>
          <td>14</td><td><span class="badge sla-warn">Approaching</span></td><td><span class="badge source-direct">Direct</span></td>
        </tr>
        <tr>
          <td><strong>Angela Parker</strong></td><td>Parker's Pet Grooming</td><td><strong>$65,000</strong></td>
          <td><span class="badge green" style="background:rgba(116,198,157,0.15);color:#52B788">Funded</span></td>
          <td><div class="gauge g-grn" style="--p:85"><span class="gv">85</span></div></td>
          <td>1</td><td><span class="badge sla-ok">Complete</span></td><td><span class="badge source-direct">Direct</span></td>
        </tr>
        <tr>
          <td><strong>Robert Kim</strong></td><td>Kim's Tech Solutions</td><td><strong>$210,000</strong></td>
          <td><span class="badge amber">Underwriting</span></td>
          <td><div class="gauge g-red" style="--p:42"><span class="gv">42</span></div></td>
          <td>18</td><td><span class="badge sla-breach">Breached</span></td><td><span class="badge source-broker">Broker</span></td>
        </tr>
        <tr>
          <td><strong>Maria Gonzalez</strong></td><td>Gonzalez Bakery</td><td><strong>$88,000</strong></td>
          <td><span class="badge amber">Underwriting</span></td>
          <td><div class="gauge g-ylw" style="--p:71"><span class="gv">71</span></div></td>
          <td>9</td><td><span class="badge sla-ok">On Track</span></td><td><span class="badge source-referral">Referral</span></td>
        </tr>
        <tr>
          <td><strong>Kevin O'Brien</strong></td><td>O'Brien HVAC Services</td><td><strong>$145,000</strong></td>
          <td><span class="badge amber">Underwriting</span></td>
          <td><div class="gauge g-grn" style="--p:79"><span class="gv">79</span></div></td>
          <td>6</td><td><span class="badge sla-ok">On Track</span></td><td><span class="badge source-direct">Direct</span></td>
        </tr>
        <tr>
          <td><strong>Patricia Nguyen</strong></td><td>Nguyen Dry Cleaners</td><td><strong>$72,000</strong></td>
          <td><span class="badge blue">Application</span></td>
          <td><div class="gauge g-grn" style="--p:76"><span class="gv">76</span></div></td>
          <td>4</td><td><span class="badge sla-ok">On Track</span></td><td><span class="badge source-direct">Direct</span></td>
        </tr>
        <tr>
          <td><strong>Ray Nakamura</strong></td><td>Nakamura Sushi Bar</td><td><strong>$195,000</strong></td>
          <td><span class="badge blue">Application</span></td>
          <td><div class="gauge g-ylw" style="--p:62"><span class="gv">62</span></div></td>
          <td>1</td><td><span class="badge sla-ok">On Track</span></td><td><span class="badge source-broker">Broker</span></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</body></html>`;

const SCREEN_3_HTML = `<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Borrower Assist</title>
<style>${CSS_BASE}
.borrower-header { background: linear-gradient(135deg, #0A2540, #006D77); color: #fff; padding: 28px 32px; border-radius: 8px; margin-bottom: 24px; display: flex; justify-content: space-between; align-items: center; }
.borrower-header h1 { font-size: 24px; font-weight: 600; }
.borrower-header .contact { font-size: 14px; opacity: 0.9; margin-top: 6px; }
.borrower-header .status-pill { background: rgba(255,255,255,0.2); padding: 6px 16px; border-radius: 20px; font-size: 13px; font-weight: 600; }
.two-col { display: grid; grid-template-columns: 1fr 380px; gap: 24px; }
.checklist-item { display: flex; align-items: center; justify-content: space-between; padding: 14px 16px; border-bottom: 1px solid #f1f3f5; }
.checklist-item:last-child { border-bottom: none; }
.checklist-item .name { font-size: 14px; font-weight: 500; color: #0A2540; }
.checklist-item .status-received { color: #2A9D8F; font-weight: 600; font-size: 13px; }
.checklist-item .status-pending { color: #F4A261; font-weight: 600; font-size: 13px; }
.checklist-item .status-missing { color: #E63946; font-weight: 600; font-size: 13px; }
.upload-zone { border: 2px dashed #dee2e6; border-radius: 8px; padding: 32px; text-align: center; color: #6C757D; margin: 16px 0; font-size: 14px; cursor: pointer; transition: border-color 0.2s; }
.upload-zone:hover { border-color: #2A9D8F; }
.comm-item { padding: 14px 0; border-bottom: 1px solid #f1f3f5; }
.comm-item:last-child { border-bottom: none; }
.comm-item .type { font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px; }
.comm-item .type.email { color: #0A2540; }
.comm-item .type.call { color: #2A9D8F; }
.comm-item .type.sms { color: #6F42C1; }
.comm-item .msg { font-size: 13px; color: #495057; line-height: 1.5; }
.comm-item .time { font-size: 11px; color: #ADB5BD; margin-top: 4px; }
.notes-area textarea { width: 100%; padding: 12px; border: 1px solid #dee2e6; border-radius: 6px; font-family: inherit; font-size: 14px; min-height: 100px; margin-bottom: 8px; }
</style></head><body>
<div class="container">
  <div class="borrower-header">
    <div>
      <h1>James &amp; Tanya Richardson</h1>
      <div class="contact">james.richardson@email.com &bull; (503) 555-0147 &bull; Portland, OR</div>
    </div>
    <div class="status-pill">In Underwriting &mdash; Day 12</div>
  </div>
  <div class="two-col">
    <div>
      <div class="card">
        <h3 class="card-title">Required Documents Checklist</h3>
        <div class="checklist-item"><span class="name">Personal Tax Returns (2024)</span><span class="status-received">&#10003; Received</span></div>
        <div class="checklist-item"><span class="name">Business Tax Returns (2025 partial)</span><span class="status-received">&#10003; Received</span></div>
        <div class="checklist-item"><span class="name">Bank Statements (3 months)</span><span class="status-received">&#10003; Received</span></div>
        <div class="checklist-item"><span class="name">W-2 Statements (Both members)</span><span class="status-received">&#10003; Received</span></div>
        <div class="checklist-item"><span class="name">Equipment Purchase Quote</span><span class="status-received">&#10003; Received</span></div>
        <div class="checklist-item"><span class="name">Lease Agreement</span><span class="status-received">&#10003; Received</span></div>
        <div class="checklist-item"><span class="name">Contractor Estimate (Leasehold)</span><span class="status-pending">&#9679; Pending</span></div>
        <div class="checklist-item"><span class="name">Business Formation Documents</span><span class="status-received">&#10003; Received</span></div>
        <div class="checklist-item"><span class="name">Insurance Certificate</span><span class="status-missing">&#10007; Missing</span></div>
        <div class="checklist-item"><span class="name">Personal Financial Statement</span><span class="status-pending">&#9679; Pending</span></div>
      </div>
      <div class="card">
        <h3 class="card-title">Upload on Behalf of Borrower</h3>
        <div class="upload-zone">&#128206; Drag files here or click to browse<br><span style="font-size:12px;color:#ADB5BD">PDF, JPG, PNG up to 25MB each</span></div>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button class="btn btn-primary btn-sm">Upload Files</button>
          <button class="btn btn-outline btn-sm">Send Reminder to Borrower</button>
        </div>
      </div>
    </div>
    <div>
      <div class="card">
        <h3 class="card-title">LO Notes</h3>
        <div class="notes-area">
          <textarea placeholder="Add internal notes about this borrower..."></textarea>
          <button class="btn btn-primary btn-sm" style="width:100%">Save Note</button>
        </div>
        <div style="margin-top:16px;padding-top:12px;border-top:1px solid #e9ecef">
          <div style="font-size:13px;color:#495057;margin-bottom:8px"><strong style="color:#0A2540">Feb 12:</strong> Borrower confirmed contractor estimate arriving Friday. Insurance cert requested from agent.</div>
          <div style="font-size:13px;color:#495057;margin-bottom:8px"><strong style="color:#0A2540">Feb 10:</strong> Spoke with Tanya &mdash; they have a signed contract with PGE for quarterly catering. Strong revenue pipeline.</div>
          <div style="font-size:13px;color:#495057"><strong style="color:#0A2540">Feb 8:</strong> Initial intake complete. Both borrowers very responsive. Good communication.</div>
        </div>
      </div>
      <div class="card">
        <h3 class="card-title">Communication Log</h3>
        <div class="comm-item"><div class="type email">EMAIL</div><div class="msg">Sent document request reminder for contractor estimate and insurance certificate</div><div class="time">Today, 10:15 AM</div></div>
        <div class="comm-item"><div class="type call">PHONE CALL</div><div class="msg">Discussed timeline with Tanya. Confirmed all documents expected by Friday.</div><div class="time">Yesterday, 3:30 PM</div></div>
        <div class="comm-item"><div class="type sms">SMS</div><div class="msg">Hi James, just confirming we received your bank statements. Thank you!</div><div class="time">Feb 10, 11:00 AM</div></div>
        <div class="comm-item"><div class="type email">EMAIL</div><div class="msg">Welcome email sent with application confirmation and document checklist</div><div class="time">Feb 8, 9:00 AM</div></div>
      </div>
    </div>
  </div>
</div>
</body></html>`;

const SCREEN_4_HTML = `<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Deal Intake</title>
<style>${CSS_BASE}
.intake-header { background: #fff; padding: 24px 32px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); margin-bottom: 24px; display: flex; justify-content: space-between; align-items: center; }
.intake-header h1 { font-size: 24px; font-weight: 600; color: #0A2540; }
.intake-header .sub { font-size: 13px; color: #6C757D; margin-top: 4px; }
.normalizer-badge { background: linear-gradient(135deg, #0A2540, #2A9D8F); color: #fff; padding: 8px 18px; border-radius: 20px; font-size: 12px; font-weight: 600; letter-spacing: 0.5px; }
.source-selector { display: flex; gap: 10px; margin-bottom: 24px; flex-wrap: wrap; }
.source-btn { padding: 14px 22px; border: 2px solid #dee2e6; border-radius: 8px; background: #fff; font-size: 14px; font-weight: 500; cursor: pointer; font-family: inherit; transition: all 0.2s; display: flex; align-items: center; gap: 8px; }
.source-btn.active { border-color: #0A2540; background: rgba(10,37,64,0.04); color: #0A2540; }
.source-btn:hover { border-color: #0A2540; }
.form-section { background: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); padding: 24px; margin-bottom: 20px; }
.form-section h3 { font-size: 16px; font-weight: 600; color: #0A2540; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid #e9ecef; }
.form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.form-group { display: flex; flex-direction: column; }
.form-group label { font-size: 12px; font-weight: 600; color: #6C757D; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 6px; }
.form-group input, .form-group select, .form-group textarea { padding: 10px 14px; border: 1px solid #dee2e6; border-radius: 6px; font-size: 14px; font-family: inherit; }
.form-group textarea { min-height: 80px; }
.form-group.full { grid-column: 1 / -1; }
.upload-zone { border: 2px dashed #dee2e6; border-radius: 8px; padding: 32px; text-align: center; color: #6C757D; font-size: 14px; cursor: pointer; }
.upload-zone:hover { border-color: #2A9D8F; }
</style></head><body>
<div class="container">
  <div class="intake-header">
    <div>
      <h1>New Deal Intake</h1>
      <div class="sub">Universal intake form &mdash; all channels normalized into one standard format</div>
    </div>
    <div class="normalizer-badge">&#9889; The Normalizer</div>
  </div>

  <div class="card" style="padding:20px">
    <h3 style="font-size:14px;font-weight:600;color:#0A2540;margin-bottom:12px">Deal Source</h3>
    <div class="source-selector">
      <button class="source-btn">&#128231; Email</button>
      <button class="source-btn active">&#128222; Phone</button>
      <button class="source-btn">&#128694; Walk-in</button>
      <button class="source-btn">&#128101; Referral</button>
      <button class="source-btn">&#129309; Broker</button>
      <button class="source-btn">&#127919; Partner</button>
    </div>
  </div>

  <div class="form-section">
    <h3>Borrower Information</h3>
    <div class="form-grid">
      <div class="form-group"><label>First Name</label><input type="text" value="Sandra" /></div>
      <div class="form-group"><label>Last Name</label><input type="text" value="Williams" /></div>
      <div class="form-group"><label>Email</label><input type="email" value="sandra.williams@email.com" /></div>
      <div class="form-group"><label>Phone</label><input type="tel" value="(503) 555-0283" /></div>
      <div class="form-group"><label>Address</label><input type="text" value="2847 NE Broadway St" /></div>
      <div class="form-group"><label>City / State / Zip</label><input type="text" value="Portland, OR 97232" /></div>
    </div>
  </div>

  <div class="form-section">
    <h3>Business Information</h3>
    <div class="form-grid">
      <div class="form-group"><label>Business Name</label><input type="text" value="Williams Event Planning LLC" /></div>
      <div class="form-group"><label>Entity Type</label><select><option>LLC</option><option selected>LLC</option><option>S-Corp</option><option>Sole Prop</option></select></div>
      <div class="form-group"><label>Industry</label><input type="text" value="Event Planning &amp; Management" /></div>
      <div class="form-group"><label>Years in Business</label><input type="text" value="3 years" /></div>
      <div class="form-group"><label>Annual Revenue</label><input type="text" value="$320,000" /></div>
      <div class="form-group"><label>Number of Employees</label><input type="text" value="6" /></div>
    </div>
  </div>

  <div class="form-section">
    <h3>Loan Request Details</h3>
    <div class="form-grid">
      <div class="form-group"><label>Amount Requested</label><input type="text" value="$210,000" /></div>
      <div class="form-group"><label>Loan Purpose</label><select><option selected>Equipment Purchase</option><option>Working Capital</option><option>Expansion</option><option>Refinance</option></select></div>
      <div class="form-group full"><label>Purpose Details</label><textarea>Purchase of event staging equipment, lighting rigs, and a cargo van for transportation. Currently renting equipment which costs ~$3,200/mo.</textarea></div>
    </div>
  </div>

  <div class="form-section">
    <h3>Documents</h3>
    <div class="upload-zone">&#128206; Drag files here or click to browse<br><span style="font-size:12px;color:#ADB5BD">PDF, JPG, PNG up to 25MB each</span></div>
  </div>

  <div class="form-section">
    <h3>Assignment</h3>
    <div class="form-grid">
      <div class="form-group"><label>Assign To</label><select><option selected>Marcus Rivera (Self)</option><option>Jennifer Park</option><option>Anthony Davis</option></select></div>
      <div class="form-group"><label>Priority</label><select><option>Low</option><option selected>Medium</option><option>High</option></select></div>
    </div>
  </div>

  <div style="display:flex;gap:12px;margin-top:8px">
    <button class="btn btn-primary">Submit Deal</button>
    <button class="btn btn-outline">Save as Draft</button>
    <button class="btn btn-outline">Cancel</button>
  </div>
</div>
</body></html>`;

const SCREEN_5_HTML = `<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Broker Management</title>
<style>${CSS_BASE}
.broker-profile { background: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); padding: 24px; margin-bottom: 20px; display: none; }
.broker-profile.visible { display: block; }
.profile-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px; }
.profile-header h3 { font-size: 20px; font-weight: 600; color: #0A2540; }
.profile-header .company { font-size: 14px; color: #6C757D; margin-top: 4px; }
.tier-badge { padding: 6px 16px; border-radius: 20px; font-size: 13px; font-weight: 600; }
.tier-gold { background: rgba(244,162,97,0.15); color: #E76F51; }
.tier-silver { background: rgba(173,181,189,0.2); color: #6C757D; }
.tier-platinum { background: rgba(111,66,193,0.1); color: #6F42C1; }
.metric-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 20px; }
.metric-box { text-align: center; background: #F8F9FA; padding: 16px; border-radius: 8px; }
.metric-box .val { font-size: 22px; font-weight: 700; color: #0A2540; }
.metric-box .lbl { font-size: 11px; color: #6C757D; margin-top: 4px; text-transform: uppercase; }
</style></head><body>
<div class="container">
  <div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
      <h2 class="section-title" style="margin-bottom:0">Broker Relationships</h2>
      <button class="btn btn-primary btn-sm">+ Add New Broker</button>
    </div>
    <table>
      <thead><tr>
        <th>Broker Name</th><th>Company</th><th>Active Deals</th><th>Funded Deals</th><th>Total Volume</th><th>Avg Deal Size</th><th>Last Submission</th><th>Tier</th>
      </tr></thead>
      <tbody>
        <tr>
          <td><strong>Ray Nakamura</strong></td><td>Pacific Lending Group</td><td>4</td><td>12</td><td><strong>$1.92M</strong></td><td>$160,000</td><td>Today</td>
          <td><span class="tier-badge tier-gold">Gold</span></td>
        </tr>
        <tr>
          <td><strong>Diana Cruz</strong></td><td>Western Capital Brokers</td><td>2</td><td>8</td><td><strong>$1.14M</strong></td><td>$142,500</td><td>Feb 10</td>
          <td><span class="tier-badge tier-gold">Gold</span></td>
        </tr>
        <tr>
          <td><strong>Tom Bradley</strong></td><td>Bradley Financial Services</td><td>3</td><td>15</td><td><strong>$2.85M</strong></td><td>$190,000</td><td>Feb 8</td>
          <td><span class="tier-badge tier-platinum">Platinum</span></td>
        </tr>
        <tr>
          <td><strong>Sarah Patel</strong></td><td>Patel &amp; Associates</td><td>1</td><td>5</td><td><strong>$620K</strong></td><td>$124,000</td><td>Feb 5</td>
          <td><span class="tier-badge tier-silver">Silver</span></td>
        </tr>
        <tr>
          <td><strong>Marcus Lee</strong></td><td>Cascade Business Lending</td><td>2</td><td>3</td><td><strong>$410K</strong></td><td>$136,667</td><td>Feb 3</td>
          <td><span class="tier-badge tier-silver">Silver</span></td>
        </tr>
        <tr>
          <td><strong>Jennifer Okafor</strong></td><td>Okafor Capital Solutions</td><td>1</td><td>7</td><td><strong>$980K</strong></td><td>$140,000</td><td>Jan 28</td>
          <td><span class="tier-badge tier-gold">Gold</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="card">
    <div class="profile-header">
      <div>
        <h3>Tom Bradley</h3>
        <div class="company">Bradley Financial Services &bull; Portland, OR &bull; Active since Mar 2024</div>
      </div>
      <span class="tier-badge tier-platinum">Platinum Tier</span>
    </div>
    <div class="metric-row">
      <div class="metric-box"><div class="val">15</div><div class="lbl">Funded Deals</div></div>
      <div class="metric-box"><div class="val">$2.85M</div><div class="lbl">Total Volume</div></div>
      <div class="metric-box"><div class="val">87%</div><div class="lbl">Approval Rate</div></div>
      <div class="metric-box"><div class="val">4.2 days</div><div class="lbl">Avg Submission to Intake</div></div>
    </div>
    <h3 class="card-title" style="margin-top:16px">Recent Deal History</h3>
    <table>
      <thead><tr><th>Date</th><th>Borrower</th><th>Amount</th><th>Status</th><th>Days to Fund</th></tr></thead>
      <tbody>
        <tr><td>Feb 8</td><td><strong>Nakamura Sushi Bar</strong></td><td>$195,000</td><td><span class="badge amber">In Review</span></td><td>&mdash;</td></tr>
        <tr><td>Jan 22</td><td><strong>West Side Fitness</strong></td><td>$240,000</td><td><span class="badge green">Funded</span></td><td>18</td></tr>
        <tr><td>Jan 15</td><td><strong>Metro Dental Group</strong></td><td>$185,000</td><td><span class="badge green">Funded</span></td><td>22</td></tr>
        <tr><td>Dec 20</td><td><strong>Portland Print Co</strong></td><td>$110,000</td><td><span class="badge green">Funded</span></td><td>15</td></tr>
        <tr><td>Dec 5</td><td><strong>River City Yoga</strong></td><td>$78,000</td><td><span class="badge red">Denied</span></td><td>&mdash;</td></tr>
      </tbody>
    </table>
  </div>
</div>
</body></html>`;

const SCREEN_6_HTML = `<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Reports &amp; Analytics</title>
<style>${CSS_BASE}
.perf-cards { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 24px; }
.perf-card { background: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); text-align: center; }
.perf-card .value { font-size: 32px; font-weight: 700; color: #0A2540; }
.perf-card .label { font-size: 12px; color: #6C757D; margin-top: 4px; }
.perf-card .sub { font-size: 11px; margin-top: 6px; }
.perf-card .sub.up { color: #2A9D8F; }
.perf-card .sub.down { color: #E63946; }
.chart-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 24px; }
.bar-chart { display: flex; align-items: flex-end; gap: 8px; height: 160px; padding-top: 8px; }
.bar-col { display: flex; flex-direction: column; align-items: center; flex: 1; }
.bar-fill { width: 100%; border-radius: 4px 4px 0 0; transition: height 0.3s; }
.bar-label { font-size: 10px; color: #6C757D; margin-top: 6px; }
.bar-value { font-size: 10px; font-weight: 600; color: #0A2540; margin-bottom: 4px; }
.pie-chart { width: 180px; height: 180px; border-radius: 50%; margin: 0 auto 16px; position: relative; }
.pie-chart::before { content: ''; position: absolute; inset: 30px; border-radius: 50%; background: #fff; z-index: 1; }
.pie-center { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 2; font-size: 14px; font-weight: 700; color: #0A2540; }
.pie-legend { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; font-size: 12px; }
.pie-legend span { display: flex; align-items: center; gap: 6px; }
.pie-legend .dot { width: 10px; height: 10px; border-radius: 50%; }
.duration-bars { display: flex; flex-direction: column; gap: 12px; }
.dur-row { display: flex; align-items: center; gap: 12px; }
.dur-label { width: 120px; font-size: 13px; font-weight: 500; color: #0A2540; text-align: right; }
.dur-bar-wrap { flex: 1; background: #F1F3F5; border-radius: 4px; height: 24px; position: relative; }
.dur-bar { height: 100%; border-radius: 4px; display: flex; align-items: center; padding-left: 8px; font-size: 11px; color: #fff; font-weight: 600; }
.dur-bar.teal { background: #2A9D8F; }
.dur-bar.navy { background: #0A2540; }
.dur-bar.amber { background: #F4A261; }
.leaderboard { counter-reset: rank; }
.lb-row { display: flex; align-items: center; gap: 16px; padding: 14px 0; border-bottom: 1px solid #f1f3f5; }
.lb-row:last-child { border-bottom: none; }
.lb-rank { width: 28px; height: 28px; border-radius: 50%; background: #F8F9FA; display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 700; color: #0A2540; }
.lb-rank.gold { background: rgba(244,162,97,0.2); color: #E76F51; }
.lb-name { flex: 1; font-size: 14px; font-weight: 500; color: #0A2540; }
.lb-name.me { color: #2A9D8F; font-weight: 700; }
.lb-stat { font-size: 14px; font-weight: 600; color: #0A2540; width: 80px; text-align: right; }
</style></head><body>
<div class="container">
  <h2 class="section-title">Reports &amp; Analytics</h2>
  <div class="perf-cards">
    <div class="perf-card"><div class="value">68%</div><div class="label">Conversion Rate</div><div class="sub up">+5% vs last month</div></div>
    <div class="perf-card"><div class="value">14.2</div><div class="label">Avg Processing Days</div><div class="sub up">-1.8 days vs last month</div></div>
    <div class="perf-card"><div class="value">4.7/5</div><div class="label">Borrower Satisfaction</div><div class="sub up">+0.3 vs last month</div></div>
    <div class="perf-card">
      <div class="value">$1.8M</div><div class="label">Monthly Target: $2.5M</div>
      <div style="background:#e9ecef;border-radius:4px;height:8px;margin-top:8px;overflow:hidden"><div style="background:#2A9D8F;height:100%;width:72%;border-radius:4px"></div></div>
      <div class="sub" style="color:#6C757D">72% of target</div>
    </div>
  </div>

  <div class="chart-row">
    <div class="card">
      <h3 class="card-title">Monthly Origination Volume</h3>
      <div class="bar-chart">
        <div class="bar-col"><div class="bar-value">$1.1M</div><div class="bar-fill" style="height:44%;background:#0A2540"></div><div class="bar-label">Sep</div></div>
        <div class="bar-col"><div class="bar-value">$1.4M</div><div class="bar-fill" style="height:56%;background:#0A2540"></div><div class="bar-label">Oct</div></div>
        <div class="bar-col"><div class="bar-value">$1.2M</div><div class="bar-fill" style="height:48%;background:#0A2540"></div><div class="bar-label">Nov</div></div>
        <div class="bar-col"><div class="bar-value">$1.9M</div><div class="bar-fill" style="height:76%;background:#0A2540"></div><div class="bar-label">Dec</div></div>
        <div class="bar-col"><div class="bar-value">$2.1M</div><div class="bar-fill" style="height:84%;background:#2A9D8F"></div><div class="bar-label">Jan</div></div>
        <div class="bar-col"><div class="bar-value">$1.8M</div><div class="bar-fill" style="height:72%;background:#2A9D8F"></div><div class="bar-label">Feb*</div></div>
      </div>
      <div style="font-size:11px;color:#ADB5BD;margin-top:8px;text-align:right">*Feb 2026 month-to-date</div>
    </div>
    <div class="card">
      <h3 class="card-title">Source Breakdown</h3>
      <div class="pie-chart" style="background:conic-gradient(#0A2540 0deg 158deg, #2A9D8F 158deg 252deg, #6F42C1 252deg 324deg, #F4A261 324deg 360deg)">
        <div class="pie-center">24 deals</div>
      </div>
      <div class="pie-legend">
        <span><span class="dot" style="background:#0A2540"></span>Direct (44%)</span>
        <span><span class="dot" style="background:#2A9D8F"></span>Broker (26%)</span>
        <span><span class="dot" style="background:#6F42C1"></span>Referral (20%)</span>
        <span><span class="dot" style="background:#F4A261"></span>Other (10%)</span>
      </div>
    </div>
  </div>

  <div class="chart-row">
    <div class="card">
      <h3 class="card-title">Stage Duration Analysis</h3>
      <div class="duration-bars">
        <div class="dur-row"><div class="dur-label">Lead to App</div><div class="dur-bar-wrap"><div class="dur-bar teal" style="width:30%">2.1 days</div></div></div>
        <div class="dur-row"><div class="dur-label">Application</div><div class="dur-bar-wrap"><div class="dur-bar navy" style="width:50%">3.5 days</div></div></div>
        <div class="dur-row"><div class="dur-label">Underwriting</div><div class="dur-bar-wrap"><div class="dur-bar amber" style="width:85%">6.0 days</div></div></div>
        <div class="dur-row"><div class="dur-label">Approval</div><div class="dur-bar-wrap"><div class="dur-bar teal" style="width:25%">1.8 days</div></div></div>
        <div class="dur-row"><div class="dur-label">Funding</div><div class="dur-bar-wrap"><div class="dur-bar navy" style="width:15%">0.8 days</div></div></div>
      </div>
    </div>
    <div class="card">
      <h3 class="card-title">LO Leaderboard &mdash; February</h3>
      <div class="leaderboard">
        <div class="lb-row"><div class="lb-rank gold">1</div><div class="lb-name">Jennifer Park</div><div class="lb-stat">$2.3M</div></div>
        <div class="lb-row"><div class="lb-rank gold">2</div><div class="lb-name me">Marcus Rivera (You)</div><div class="lb-stat">$1.8M</div></div>
        <div class="lb-row"><div class="lb-rank">3</div><div class="lb-name">Anthony Davis</div><div class="lb-stat">$1.6M</div></div>
        <div class="lb-row"><div class="lb-rank">4</div><div class="lb-name">Samantha Torres</div><div class="lb-stat">$1.4M</div></div>
        <div class="lb-row"><div class="lb-rank">5</div><div class="lb-name">Brian Kowalski</div><div class="lb-stat">$1.1M</div></div>
      </div>
    </div>
  </div>
</div>
</body></html>`;

const SCREEN_7_HTML = `<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Task Center</title>
<style>${CSS_BASE}
.task-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.task-stats { display: flex; gap: 16px; }
.task-stat { background: #fff; padding: 10px 18px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); font-size: 13px; }
.task-stat strong { color: #0A2540; font-size: 18px; margin-right: 6px; }
.task-stat.overdue strong { color: #E63946; }
.category-label { font-size: 14px; font-weight: 600; color: #0A2540; margin: 20px 0 12px; padding-bottom: 8px; border-bottom: 2px solid #e9ecef; }
.task-item { background: #fff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); padding: 16px 20px; margin-bottom: 10px; display: flex; align-items: center; gap: 16px; }
.task-item.overdue { border-left: 4px solid #E63946; }
.task-item.today { border-left: 4px solid #F4A261; }
.task-item.upcoming { border-left: 4px solid #2A9D8F; }
.task-priority { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
.task-priority.high { background: #E63946; }
.task-priority.med { background: #F4A261; }
.task-priority.low { background: #2A9D8F; }
.task-content { flex: 1; }
.task-desc { font-size: 14px; font-weight: 500; color: #0A2540; margin-bottom: 4px; }
.task-meta { font-size: 12px; color: #6C757D; }
.task-meta .borrower { color: #2A9D8F; font-weight: 500; }
.task-due { font-size: 12px; font-weight: 600; min-width: 80px; text-align: right; }
.task-due.overdue { color: #E63946; }
.task-due.today { color: #F4A261; }
.task-due.upcoming { color: #6C757D; }
.task-actions { display: flex; gap: 6px; }
.task-actions button { padding: 5px 12px; border-radius: 6px; font-size: 11px; font-weight: 500; border: 1px solid #dee2e6; background: #fff; cursor: pointer; font-family: inherit; transition: all 0.15s; }
.task-actions button:hover { border-color: #0A2540; }
.task-actions button.complete { background: #2A9D8F; color: #fff; border-color: #2A9D8F; }
.task-actions button.snooze { color: #F4A261; border-color: #F4A261; }
.task-actions button.delegate { color: #6C757D; }
</style></head><body>
<div class="container">
  <div class="task-header">
    <h2 class="section-title" style="margin-bottom:0">Task Center</h2>
    <div class="task-stats">
      <div class="task-stat overdue"><strong>3</strong> Overdue</div>
      <div class="task-stat"><strong>5</strong> Due Today</div>
      <div class="task-stat"><strong>8</strong> Upcoming</div>
    </div>
  </div>

  <div class="filters">
    <button class="filter-btn active">All Tasks</button>
    <button class="filter-btn">Follow-ups</button>
    <button class="filter-btn">Doc Requests</button>
    <button class="filter-btn">Broker Responses</button>
    <button class="filter-btn">Internal</button>
  </div>

  <div class="category-label" style="color:#E63946">&#9888; Overdue</div>
  <div class="task-item overdue">
    <div class="task-priority high"></div>
    <div class="task-content"><div class="task-desc">Follow up on missing insurance certificate</div><div class="task-meta"><span class="borrower">Richardson's Kitchen</span> &bull; Follow-up</div></div>
    <div class="task-due overdue">2 days overdue</div>
    <div class="task-actions"><button class="complete">Complete</button><button class="snooze">Snooze</button><button class="delegate">Delegate</button></div>
  </div>
  <div class="task-item overdue">
    <div class="task-priority high"></div>
    <div class="task-content"><div class="task-desc">Respond to broker Ray Nakamura re: Sushi Bar deal terms</div><div class="task-meta"><span class="borrower">Nakamura Sushi Bar</span> &bull; Broker Response</div></div>
    <div class="task-due overdue">1 day overdue</div>
    <div class="task-actions"><button class="complete">Complete</button><button class="snooze">Snooze</button><button class="delegate">Delegate</button></div>
  </div>
  <div class="task-item overdue">
    <div class="task-priority med"></div>
    <div class="task-content"><div class="task-desc">Request updated financial statement from Robert Kim</div><div class="task-meta"><span class="borrower">Kim's Tech Solutions</span> &bull; Doc Request</div></div>
    <div class="task-due overdue">1 day overdue</div>
    <div class="task-actions"><button class="complete">Complete</button><button class="snooze">Snooze</button><button class="delegate">Delegate</button></div>
  </div>

  <div class="category-label" style="color:#F4A261">&#128337; Due Today</div>
  <div class="task-item today">
    <div class="task-priority high"></div>
    <div class="task-content"><div class="task-desc">Call Sandra Williams &mdash; confirm application details</div><div class="task-meta"><span class="borrower">Williams Event Planning</span> &bull; Follow-up</div></div>
    <div class="task-due today">Due today</div>
    <div class="task-actions"><button class="complete">Complete</button><button class="snooze">Snooze</button><button class="delegate">Delegate</button></div>
  </div>
  <div class="task-item today">
    <div class="task-priority med"></div>
    <div class="task-content"><div class="task-desc">Review Thompson Construction docs package &mdash; completeness check</div><div class="task-meta"><span class="borrower">Thompson Construction</span> &bull; Internal</div></div>
    <div class="task-due today">Due today</div>
    <div class="task-actions"><button class="complete">Complete</button><button class="snooze">Snooze</button><button class="delegate">Delegate</button></div>
  </div>
  <div class="task-item today">
    <div class="task-priority med"></div>
    <div class="task-content"><div class="task-desc">Send welcome package to Patricia Nguyen</div><div class="task-meta"><span class="borrower">Nguyen Dry Cleaners</span> &bull; Follow-up</div></div>
    <div class="task-due today">Due today</div>
    <div class="task-actions"><button class="complete">Complete</button><button class="snooze">Snooze</button><button class="delegate">Delegate</button></div>
  </div>
  <div class="task-item today">
    <div class="task-priority low"></div>
    <div class="task-content"><div class="task-desc">Update broker Diana Cruz on Western Capital deals status</div><div class="task-meta"><span class="borrower">Western Capital Brokers</span> &bull; Broker Response</div></div>
    <div class="task-due today">Due today</div>
    <div class="task-actions"><button class="complete">Complete</button><button class="snooze">Snooze</button><button class="delegate">Delegate</button></div>
  </div>
  <div class="task-item today">
    <div class="task-priority low"></div>
    <div class="task-content"><div class="task-desc">Submit monthly pipeline report to management</div><div class="task-meta">Internal &bull; Recurring</div></div>
    <div class="task-due today">Due today</div>
    <div class="task-actions"><button class="complete">Complete</button><button class="snooze">Snooze</button><button class="delegate">Delegate</button></div>
  </div>

  <div class="category-label" style="color:#2A9D8F">&#128197; Upcoming</div>
  <div class="task-item upcoming">
    <div class="task-priority low"></div>
    <div class="task-content"><div class="task-desc">Follow up with Gonzalez Bakery on underwriting questions</div><div class="task-meta"><span class="borrower">Gonzalez Bakery</span> &bull; Follow-up</div></div>
    <div class="task-due upcoming">Tomorrow</div>
    <div class="task-actions"><button class="complete">Complete</button><button class="snooze">Snooze</button><button class="delegate">Delegate</button></div>
  </div>
  <div class="task-item upcoming">
    <div class="task-priority low"></div>
    <div class="task-content"><div class="task-desc">Schedule quarterly review with broker Tom Bradley</div><div class="task-meta"><span class="borrower">Bradley Financial</span> &bull; Broker Response</div></div>
    <div class="task-due upcoming">Feb 14</div>
    <div class="task-actions"><button class="complete">Complete</button><button class="snooze">Snooze</button><button class="delegate">Delegate</button></div>
  </div>
</div>
</body></html>`;

const SCREEN_8_HTML = `<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Settings &amp; Templates</title>
<style>${CSS_BASE}
.settings-grid { display: grid; grid-template-columns: 1fr 380px; gap: 24px; }
.template-card { background: #fff; border: 1px solid #e9ecef; border-radius: 8px; padding: 20px; margin-bottom: 16px; }
.template-card .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
.template-card .header h4 { font-size: 15px; font-weight: 600; color: #0A2540; }
.template-card .preview { background: #F8F9FA; border-radius: 6px; padding: 14px; font-size: 13px; color: #495057; line-height: 1.6; max-height: 120px; overflow: hidden; position: relative; }
.template-card .preview::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 30px; background: linear-gradient(transparent, #F8F9FA); }
.template-card .actions { display: flex; gap: 8px; margin-top: 12px; }
.setting-section { background: #fff; padding: 24px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); margin-bottom: 20px; }
.setting-section h3 { font-size: 16px; font-weight: 600; margin-bottom: 16px; color: #0A2540; }
.setting-item { display: flex; align-items: center; justify-content: space-between; padding: 14px 0; border-bottom: 1px solid #f1f3f5; }
.setting-item:last-child { border-bottom: none; }
.setting-item .label { font-size: 14px; font-weight: 500; color: #0A2540; }
.setting-item .desc { font-size: 12px; color: #6C757D; margin-top: 4px; }
.toggle { width: 48px; height: 24px; background: #dee2e6; border-radius: 24px; position: relative; cursor: pointer; transition: background 0.2s; flex-shrink: 0; }
.toggle.on { background: #2A9D8F; }
.toggle::after { content: ''; position: absolute; top: 3px; left: 3px; width: 18px; height: 18px; background: #fff; border-radius: 50%; transition: left 0.2s; }
.toggle.on::after { left: 27px; }
.profile-card { background: #fff; padding: 24px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); margin-bottom: 20px; text-align: center; }
.profile-avatar { width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, #0A2540, #2A9D8F); margin: 0 auto 12px; display: flex; align-items: center; justify-content: center; font-size: 28px; font-weight: 700; color: #fff; }
.profile-name { font-size: 18px; font-weight: 600; color: #0A2540; }
.profile-role { font-size: 13px; color: #6C757D; margin-top: 4px; }
.cal-status { display: flex; align-items: center; gap: 8px; padding: 12px; background: #F8F9FA; border-radius: 6px; font-size: 13px; margin-top: 12px; }
.cal-dot { width: 8px; height: 8px; border-radius: 50%; }
.cal-dot.connected { background: #2A9D8F; }
.cal-dot.disconnected { background: #E63946; }
</style></head><body>
<div class="container">
  <h2 class="section-title">Settings &amp; Templates</h2>
  <div class="settings-grid">
    <div>
      <div class="card">
        <h3 class="card-title">Email Templates</h3>

        <div class="template-card">
          <div class="header"><h4>Welcome &amp; Application Confirmation</h4><span class="badge green">Active</span></div>
          <div class="preview">Dear {borrower_name},<br><br>Thank you for choosing CremoLogix for your business financing needs. We have received your application for {loan_amount} and are excited to help you achieve your business goals.<br><br>Your dedicated loan officer is {lo_name}. You can reach me directly at {lo_phone} or {lo_email}. I will guide you through every step of the process...</div>
          <div class="actions"><button class="btn btn-primary btn-sm">Quick Send</button><button class="btn btn-outline btn-sm">Edit</button><button class="btn btn-outline btn-sm">Preview</button></div>
        </div>

        <div class="template-card">
          <div class="header"><h4>Document Request</h4><span class="badge green">Active</span></div>
          <div class="preview">Dear {borrower_name},<br><br>To continue processing your loan application, we need the following documents:<br><br>{document_list}<br><br>Please upload these through your secure portal or reply to this email with the attachments. The deadline for submission is {due_date}...</div>
          <div class="actions"><button class="btn btn-primary btn-sm">Quick Send</button><button class="btn btn-outline btn-sm">Edit</button><button class="btn btn-outline btn-sm">Preview</button></div>
        </div>

        <div class="template-card">
          <div class="header"><h4>Status Update</h4><span class="badge green">Active</span></div>
          <div class="preview">Dear {borrower_name},<br><br>I wanted to provide you with an update on your loan application ({loan_id}).<br><br>Current Status: {current_stage}<br>Next Steps: {next_steps}<br><br>Your application is progressing well and we appreciate your patience throughout this process...</div>
          <div class="actions"><button class="btn btn-primary btn-sm">Quick Send</button><button class="btn btn-outline btn-sm">Edit</button><button class="btn btn-outline btn-sm">Preview</button></div>
        </div>

        <div class="template-card">
          <div class="header"><h4>Denial Notification</h4><span class="badge amber">Requires Review</span></div>
          <div class="preview">Dear {borrower_name},<br><br>After careful consideration of your application for {loan_amount}, we regret to inform you that we are unable to approve your request at this time.<br><br>The primary factors in this decision include:<br>{denial_reasons}<br><br>We encourage you to address these factors and reapply in {reapply_period}...</div>
          <div class="actions"><button class="btn btn-primary btn-sm">Quick Send</button><button class="btn btn-outline btn-sm">Edit</button><button class="btn btn-outline btn-sm">Preview</button></div>
        </div>
      </div>
    </div>

    <div>
      <div class="profile-card">
        <div class="profile-avatar">MR</div>
        <div class="profile-name">Marcus Rivera</div>
        <div class="profile-role">Senior Loan Officer &bull; Portland Branch</div>
        <div style="font-size:12px;color:#6C757D;margin-top:8px">marcus.rivera@cremologix.com &bull; (503) 555-0199</div>
        <button class="btn btn-outline btn-sm" style="margin-top:12px">Edit Profile</button>
      </div>

      <div class="setting-section">
        <h3>Notifications</h3>
        <div class="setting-item"><div><div class="label">New Applications</div><div class="desc">Alert for new deals assigned to you</div></div><div class="toggle on"></div></div>
        <div class="setting-item"><div><div class="label">SLA Warnings</div><div class="desc">Alert when deals approach SLA deadline</div></div><div class="toggle on"></div></div>
        <div class="setting-item"><div><div class="label">Broker Submissions</div><div class="desc">Notify on new broker deal submissions</div></div><div class="toggle on"></div></div>
        <div class="setting-item"><div><div class="label">Document Uploads</div><div class="desc">Alert when borrowers upload documents</div></div><div class="toggle on"></div></div>
        <div class="setting-item"><div><div class="label">Daily Summary Email</div><div class="desc">Pipeline summary at 8:00 AM</div></div><div class="toggle"></div></div>
      </div>

      <div class="setting-section">
        <h3>Calendar Integration</h3>
        <div class="cal-status"><div class="cal-dot connected"></div><strong style="color:#2A9D8F">Connected</strong> &mdash; Microsoft Outlook 365</div>
        <div style="font-size:12px;color:#6C757D;margin-top:8px">Last synced: Today at 9:15 AM</div>
        <div style="display:flex;gap:8px;margin-top:12px">
          <button class="btn btn-outline btn-sm">Sync Now</button>
          <button class="btn btn-outline btn-sm">Disconnect</button>
        </div>
      </div>
    </div>
  </div>
</div>
</body></html>`;

const SCREENS = [
  { "name": "Pipeline Dashboard", "icon": "\ud83d\udcca", "html": SCREEN_1_HTML },
  { "name": "Application Pipeline", "icon": "\ud83d\udccb", "html": SCREEN_2_HTML },
  { "name": "Borrower Assist", "icon": "\ud83e\udd1d", "html": SCREEN_3_HTML },
  { "name": "Deal Intake", "icon": "\ud83d\udce5", "html": SCREEN_4_HTML },
  { "name": "Broker Management", "icon": "\ud83c\udfe2", "html": SCREEN_5_HTML },
  { "name": "Reports & Analytics", "icon": "\ud83d\udcc8", "html": SCREEN_6_HTML },
  { "name": "Task Center", "icon": "\u2705", "html": SCREEN_7_HTML },
  { "name": "Settings & Templates", "icon": "\u2699\ufe0f", "html": SCREEN_8_HTML }
];

let currentIndex = 0;
const frame = document.getElementById('app-frame');
const indicator = document.getElementById('screen-indicator');
const btnPrev = document.getElementById('btn-prev');
const btnNext = document.getElementById('btn-next');
const navList = document.getElementById('nav-list');
const navigator_ = document.getElementById('navigator');
const navToggle = document.getElementById('nav-toggle');
const fadeOverlay = document.getElementById('fade-overlay');

function loadScreen(index) {
  fadeOverlay.classList.add('active');
  setTimeout(() => {
    frame.srcdoc = SCREENS[index].html;
    currentIndex = index;
    updateUI();
    setTimeout(() => fadeOverlay.classList.remove('active'), 100);
  }, 180);
}

function updateUI() {
  indicator.textContent = `${currentIndex + 1} / ${SCREENS.length} \u2014 ${SCREENS[currentIndex].name}`;
  btnPrev.disabled = currentIndex === 0;
  btnNext.disabled = currentIndex === SCREENS.length - 1;
  document.querySelectorAll('#nav-list button').forEach((btn, i) => {
    btn.classList.toggle('active', i === currentIndex);
  });
}

SCREENS.forEach((screen, i) => {
  const li = document.createElement('li');
  const btn = document.createElement('button');
  btn.innerHTML = `<span class="icon">${screen.icon}</span>${screen.name}<span class="num">${i + 1}</span>`;
  btn.onclick = () => loadScreen(i);
  li.appendChild(btn);
  navList.appendChild(li);
});

btnPrev.onclick = () => { if (currentIndex > 0) loadScreen(currentIndex - 1); };
btnNext.onclick = () => { if (currentIndex < SCREENS.length - 1) loadScreen(currentIndex + 1); };

navToggle.onclick = () => {
  const isCollapsed = navigator_.classList.toggle('collapsed');
  navToggle.style.display = isCollapsed ? 'flex' : 'none';
};

document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    if (!navigator_.classList.contains('collapsed')) {
      navigator_.classList.add('collapsed');
      navToggle.style.display = 'flex';
    }
  } else if (e.key === 'ArrowLeft' && currentIndex > 0) {
    loadScreen(currentIndex - 1);
  } else if (e.key === 'ArrowRight' && currentIndex < SCREENS.length - 1) {
    loadScreen(currentIndex + 1);
  }
});

loadScreen(0);
</script>
</body>
</html>