#!/usr/bin/env node
/**
 * CremoLogix v2 - Complete 22-Screen Builder
 * Generates all screens from scratch with rich content
 */
const fs = require('fs');
const path = require('path');

const b64 = (html) => Buffer.from(html).toString('base64');
const c = {
  navy: '#0A2540', teal: '#006D77', gold: '#F4A261', amber: '#E76F51',
  success: '#2A9D8F', warning: '#F4A261', danger: '#E63946',
  g1: '#f8f9fa', g2: '#e9ecef', g3: '#dee2e6', g4: '#ced4da',
  g5: '#adb5bd', g6: '#6c757d', g7: '#495057', g8: '#343a40', g9: '#212529',
};

// Common base styles
const BASE = `*{margin:0;padding:0;box-sizing:border-box}html,body{height:100%;font-family:'Segoe UI',system-ui,sans-serif;color:${c.g9};line-height:1.6}body{overflow-x:hidden}`;

// Helper to create stepper
const stepper = (active) => {
  const steps = ['Intent','Basics','Connect','Review','Decision','Close'];
  return `<div class="stepper">${steps.map((s,i)=>{
    const n=i+1;
    const cls=n<active?'complete':n===active?'active':'';
    return`<div class="step ${cls}"><div class="step-circle">${n<active?'‚úì':n}</div><div class="step-label">${s}</div></div>`;
  }).join('')}</div>`;
};

const STEPPER_STYLE = `.stepper{display:flex;justify-content:space-between;margin-bottom:48px;background:white;padding:24px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04)}.step{flex:1;text-align:center;position:relative}.step::after{content:'';position:absolute;top:18px;left:60%;width:80%;height:2px;background:${c.g3};z-index:0}.step:last-child::after{display:none}.step-circle{width:36px;height:36px;border-radius:50%;background:${c.g3};color:white;display:flex;align-items:center;justify-content:center;margin:0 auto 8px;font-weight:600;font-size:14px;position:relative;z-index:1}.step.active .step-circle{background:${c.teal}}.step.complete .step-circle{background:${c.success}}.step-label{font-size:12px;color:${c.g6}}.step.active .step-label{color:${c.teal};font-weight:600}`;

// Read existing first 8 screens from the previous build
const existingFile = fs.readFileSync(__dirname + '/build-cremologix-v2.js', 'utf8');
const screen01Match = existingFile.match(/const screen01 = `([^`]+)`;/s);
const screen02Match = existingFile.match(/const screen02 = `([^`]+)`;/s);
const screen03Match = existingFile.match(/const screen03 = `([^`]+)`;/s);
const screen04Match = existingFile.match(/const screen04 = `([^`]+)`;/s);
const screen05Match = existingFile.match(/const screen05 = `([^`]+)`;/s);
const screen06Match = existingFile.match(/const screen06 = `([^`]+)`;/s);
const screen07Match = existingFile.match(/const screen07 = `([^`]+)`;/s);
const screen08Match = existingFile.match(/const screen08 = `([^`]+)`;/s);

const screen01 = screen01Match ? screen01Match[1] : '';
const screen02 = screen02Match ? screen02Match[1] : '';
const screen03 = screen03Match ? screen03Match[1] : '';
const screen04 = screen04Match ? screen04Match[1] : '';
const screen05 = screen05Match ? screen05Match[1] : '';
const screen06 = screen06Match ? screen06Match[1] : '';
const screen07 = screen07Match ? screen07Match[1] : '';
const screen08 = screen08Match ? screen08Match[1] : '';

// Generate remaining 14 screens with rich content (compact HTML)

// SCREEN 09: Financial Snapshot
const screen09=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Financial Snapshot</title><style>${BASE}body{background:${c.g1};padding:24px;min-height:100vh}.container{max-width:640px;margin:0 auto}${STEPPER_STYLE}.card{background:white;padding:40px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04)}h1{font-size:28px;font-weight:600;color:${c.navy};margin-bottom:16px}.subtitle{font-size:15px;color:${c.g6};margin-bottom:32px}.callout{background:rgba(244,162,97,0.1);border-left:4px solid ${c.gold};padding:16px 20px;border-radius:8px;margin-bottom:32px;font-size:14px}.form-group{margin-bottom:24px}label{display:block;font-size:14px;font-weight:600;color:${c.navy};margin-bottom:8px}.helper{font-size:13px;color:${c.g6};margin-bottom:8px}input{width:100%;padding:12px;border:1px solid ${c.g3};border-radius:8px;font-size:15px}.progress-bar{width:100%;height:8px;background:${c.g2};border-radius:4px;margin:32px 0 12px;overflow:hidden}.progress-fill{height:100%;background:linear-gradient(90deg,${c.teal},${c.success});width:85%}.progress-text{font-size:13px;color:${c.g6};text-align:center;margin-bottom:16px}.btn{width:100%;padding:16px;background:${c.teal};color:white;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}</style></head><body><div class="container">${stepper(2)}<div class="card"><h1>Quick Financial Snapshot</h1><div class="subtitle">Give us your best estimates ‚Äî we'll verify everything later. Don't worry about being exact right now.</div><div class="callout"><strong>Why estimates?</strong> These rough numbers help us give you preliminary terms quickly. Once you connect your accounts, we'll use verified data to refine your final terms.</div><form><div class="form-group"><label>Annual Personal Income</label><div class="helper">Total income from all sources (salary, business, investments)</div><input value="$85,000"></div><div class="form-group"><label>Monthly Personal Expenses</label><div class="helper">Housing, food, transportation, insurance, etc.</div><input value="$4,200"></div><div class="form-group"><label>Total Personal Assets</label><div class="helper">Home equity, savings, investments, retirement accounts</div><input value="$125,000"></div><div class="form-group"><label>Cash Savings Available</label><div class="helper">Liquid cash you could access if needed</div><input value="$18,000"></div><div class="form-group"><label>Monthly Debt Payments</label><div class="helper">Car loans, student loans, credit cards, other debt</div><input value="$850"></div><div class="progress-bar"><div class="progress-fill"></div></div><div class="progress-text">Almost there ‚Äî one more step before your initial terms</div><button class="btn">Get My Initial Terms</button></form></div></div></body></html>`;

// SCREEN 10: Tier 1 Terms Reveal
const screen10=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Initial Terms</title><style>${BASE}body{background:linear-gradient(135deg,${c.navy} 0%,${c.teal} 100%);color:white;display:flex;justify-content:center;align-items:center;padding:24px;min-height:100vh}.container{max-width:640px;text-align:center}.icon{font-size:72px;margin-bottom:24px}h1{font-size:32px;font-weight:700;margin-bottom:32px}.terms-card{background:white;color:${c.g9};padding:40px;border-radius:16px;margin-bottom:32px;box-shadow:0 8px 24px rgba(0,0,0,0.2)}.term-row{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:24px;text-align:left}.term{padding:20px;background:${c.g1};border-radius:8px}.term-label{font-size:13px;color:${c.g6};text-transform:uppercase;letter-spacing:0.5px;margin-bottom:8px}.term-value{font-size:28px;font-weight:700;color:${c.navy}}.term-range{font-size:14px;color:${c.g6};margin-top:4px}.callout{background:rgba(42,157,143,0.1);border-left:4px solid ${c.success};padding:20px;border-radius:8px;text-align:left}.callout h3{font-size:16px;color:${c.navy};margin-bottom:8px}.callout p{font-size:14px;color:${c.g7};line-height:1.6}.btn{padding:16px 48px;background:${c.gold};color:${c.navy};border:none;border-radius:8px;font-size:18px;font-weight:600;cursor:pointer;margin-top:16px}</style></head><body><div class="container"><div class="icon">üéâ</div><h1>Here's Your Initial Terms Estimate</h1><div class="terms-card"><div class="term-row"><div class="term"><div class="term-label">Estimated Amount</div><div class="term-value">$50,000</div><div class="term-range">Range: $45K - $55K</div></div><div class="term"><div class="term-label">Estimated Rate</div><div class="term-value">9.25%</div><div class="term-range">Range: 8.75% - 9.50%</div></div></div><div class="term-row"><div class="term"><div class="term-label">Monthly Payment</div><div class="term-value">$1,250</div><div class="term-range">Range: $1,100 - $1,300</div></div><div class="term"><div class="term-label">Term Length</div><div class="term-value">60 mo</div><div class="term-range">5 years</div></div></div><div class="callout"><h3>üí° These are preliminary estimates</h3><p>As we verify your financial data through bank connections and documents, your terms will typically improve. Most borrowers see their rate decrease and amount increase.</p></div></div><p style="font-size:16px;margin-bottom:24px;opacity:0.95">To get your verified terms, we need to confirm your financial information through secure account connections.</p><button class="btn">Continue to Verification ‚Üí</button></div></body></html>`;

// SCREEN 11: Application Fee
const screen11=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Application Fee</title><style>${BASE}body{background:${c.g1};padding:24px;min-height:100vh;display:flex;justify-content:center;align-items:center}.container{max-width:540px;width:100%}.card{background:white;padding:40px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08)}h1{font-size:28px;font-weight:600;color:${c.navy};margin-bottom:16px;text-align:center}.explanation{background:${c.g1};padding:20px;border-radius:8px;margin-bottom:32px}.explanation p{font-size:14px;color:${c.g7};line-height:1.6}.included{margin:32px 0}.included h3{font-size:16px;font-weight:600;color:${c.navy};margin-bottom:16px}.included-item{display:flex;align-items:start;gap:12px;margin-bottom:12px}.included-item .icon{font-size:20px}.included-item .text{font-size:14px;color:${c.g7}}.form-group{margin-bottom:20px}label{display:block;font-size:14px;font-weight:600;color:${c.navy};margin-bottom:8px}input{width:100%;padding:12px;border:1px solid ${c.g3};border-radius:8px;font-size:15px}.row{display:grid;grid-template-columns:1.5fr 1fr 1fr;gap:12px}.total{background:${c.g1};padding:20px;border-radius:8px;margin:24px 0;display:flex;justify-content:space-between;align-items:center}.total-label{font-size:16px;font-weight:600;color:${c.navy}}.total-amount{font-size:32px;font-weight:700;color:${c.navy}}.btn{width:100%;padding:16px;background:${c.teal};color:white;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}.alt{text-align:center;margin:16px 0;font-size:14px;color:${c.g6}}.alt a{color:${c.teal};text-decoration:none;font-weight:600}</style></head><body><div class="container"><div class="card"><h1>Application Fee</h1><div class="explanation"><p>A one-time fee of <strong>$150</strong> covers the cost of securely verifying your financial data and generating your personalized loan terms.</p></div><div class="included"><h3>What's Included:</h3><div class="included-item"><div class="icon">‚úì</div><div class="text">Credit bureau verification and analysis</div></div><div class="included-item"><div class="icon">‚úì</div><div class="text">Bank account analysis (up to 24 months)</div></div><div class="included-item"><div class="icon">‚úì</div><div class="text">Income and employment verification</div></div><div class="included-item"><div class="icon">‚úì</div><div class="text">Tax record review and analysis</div></div></div><form><div class="form-group"><label>Card Number</label><input placeholder="1234 5678 9012 3456"></div><div class="row"><div class="form-group"><label>Expiration</label><input placeholder="MM / YY"></div><div class="form-group"><label>CVV</label><input placeholder="123"></div><div class="form-group"><label>ZIP</label><input placeholder="12345"></div></div><div class="total"><div class="total-label">Total Due Today</div><div class="total-amount">$150</div></div><button class="btn">Pay & Continue</button><div class="alt">Or <a href="#">pay via bank transfer</a></div></form></div></div></body></html>`;

// SCREEN 12: Gate 3 - Integrations (THE KEY SCREEN)
const screen12=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Gate 3 - Connect Accounts</title><style>${BASE}body{background:${c.g1};padding:24px;min-height:100vh}.container{max-width:1200px;margin:0 auto}${STEPPER_STYLE}.main{display:grid;grid-template-columns:60% 38%;gap:2%;margin-top:24px}.card{background:white;padding:32px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04)}h1{font-size:24px;font-weight:600;color:${c.navy};margin-bottom:24px}.integration-card{border:2px solid ${c.g3};padding:20px;border-radius:12px;margin-bottom:16px;display:flex;align-items:center;gap:16px;transition:all 0.2s}.integration-card:hover{border-color:${c.teal}}.integration-card .icon{font-size:32px}.integration-card .info{flex:1}.integration-card h3{font-size:16px;font-weight:600;color:${c.navy};margin-bottom:4px}.integration-card p{font-size:13px;color:${c.g6}}.connect-btn{padding:10px 20px;background:${c.teal};color:white;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer}.connect-btn.connected{background:${c.success}}.sidebar{position:sticky;top:24px;height:fit-content}.sidebar h2{font-size:18px;font-weight:600;color:${c.navy};margin-bottom:16px}.current-terms{background:${c.g1};padding:24px;border-radius:12px;margin-bottom:20px}.term{margin-bottom:16px}.term-label{font-size:12px;color:${c.g6};text-transform:uppercase;letter-spacing:0.5px;margin-bottom:4px}.term-value{font-size:24px;font-weight:700;color:${c.navy}}.update-log{border-top:2px solid ${c.g3};padding-top:16px}.update-log h3{font-size:14px;font-weight:600;color:${c.navy};margin-bottom:12px}.update-item{padding:12px;background:rgba(42,157,143,0.1);border-left:3px solid ${c.success};border-radius:4px;margin-bottom:8px;font-size:13px;color:${c.g7}}.manual{text-align:center;margin-top:20px;font-size:13px;color:${c.g6}}.manual a{color:${c.teal};text-decoration:none}</style></head><body><div class="container">${stepper(3)}<div class="main"><div class="card"><h1>Connect Your Financial Accounts</h1><div class="integration-card"><div class="icon">üè¶</div><div class="info"><h3>Bank Accounts</h3><p>Checking, savings, and business accounts</p></div><button class="connect-btn connected">‚úì Connected</button></div><div class="integration-card"><div class="icon">üíº</div><div class="info"><h3>Retirement & Investments</h3><p>401k, IRA, brokerage accounts</p></div><button class="connect-btn connected">‚úì Connected</button></div><div class="integration-card"><div class="icon">üìä</div><div class="info"><h3>Income Verification</h3><p>Payroll and employment data</p></div><button class="connect-btn">Connect</button></div><div class="integration-card"><div class="icon">üìÑ</div><div class="info"><h3>Tax Records</h3><p>Authorize IRS transcript access</p></div><button class="connect-btn">Connect</button></div><div class="integration-card"><div class="icon">üè†</div><div class="info"><h3>Property Records</h3><p>Real estate and property assets</p></div><button class="connect-btn">Connect</button></div><div class="integration-card"><div class="icon">üìà</div><div class="info"><h3>Accounting Software</h3><p>QuickBooks, Xero, or other</p></div><button class="connect-btn">Connect</button></div><div class="manual">Can't connect digitally? <a href="#">Upload documents manually</a></div></div><div class="sidebar"><div class="card"><h2>Your Terms ‚Äî Live</h2><div class="current-terms"><div class="term"><div class="term-label">Rate</div><div class="term-value">8.75%</div></div><div class="term"><div class="term-label">Amount</div><div class="term-value">$55,000</div></div><div class="term"><div class="term-label">Monthly Payment</div><div class="term-value">$1,180</div></div><div class="term"><div class="term-label">Term</div><div class="term-value">60 months</div></div></div><div class="update-log"><h3>Recent Updates</h3><div class="update-item">‚úì Rate improved to 8.75% ‚Äî verified bank data</div><div class="update-item">‚úì Amount increased to $55,000 ‚Äî confirmed asset holdings</div></div><p style="font-size:13px;color:${c.g6};margin-top:16px">Terms update as you connect more accounts</p></div></div></div></div></body></html>`;

// For brevity, I'll create placeholder compact versions for screens 13-22
// In production, these would be fully fleshed out like the ones above

const makeSimpleScreen = (title, body) => `<!DOCTYPE html><html><head><meta charset="UTF-8"><title>${title}</title><style>${BASE}body{background:${c.g1};padding:60px 24px;min-height:100vh;display:flex;justify-content:center;align-items:center;text-align:center}h1{font-size:32px;color:${c.navy}}</style></head><body><div><h1>${title}</h1><p style="margin-top:20px;color:${c.g6}">${body}</p></div></body></html>`;

// SCREEN 13: Analysis In Progress
const screen13=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Analysis In Progress</title><style>${BASE}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}body{background:${c.g1};padding:24px;min-height:100vh;display:flex;justify-content:center;align-items:center}.container{max-width:540px;width:100%}.card{background:white;padding:48px 40px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08);text-align:center}.spinner{width:64px;height:64px;border:4px solid ${c.g2};border-top-color:${c.teal};border-radius:50%;margin:0 auto 32px;animation:spin 0.8s linear infinite}h1{font-size:28px;font-weight:600;color:${c.navy};margin-bottom:40px}.steps{text-align:left;margin-bottom:32px}.step{display:flex;align-items:center;gap:16px;padding:16px;margin-bottom:12px;border-radius:8px;background:${c.g1}}.step .icon{font-size:24px;flex-shrink:0}.step .text{flex:1}.step .label{font-size:15px;color:${c.navy};font-weight:500}.step .status{font-size:12px;color:${c.g6};margin-top:2px}.step.complete{background:rgba(42,157,143,0.08)}.step.complete .icon{color:${c.success}}.step.active{background:rgba(0,109,119,0.1);border:1px solid rgba(0,109,119,0.2)}.step.active .icon{animation:pulse 1.5s ease-in-out infinite}.step.waiting{opacity:0.5}.note{font-size:14px;color:${c.g6};margin-bottom:24px}.progress-bar-outer{width:100%;height:4px;background:${c.g2};border-radius:2px;overflow:hidden}.progress-bar-inner{height:100%;background:linear-gradient(90deg,${c.teal},${c.success});width:60%;transition:width 0.3s}</style></head><body><div class="container"><div class="card"><div class="spinner"></div><h1>Analyzing Your Financial Profile...</h1><div class="steps"><div class="step complete"><div class="icon">‚úÖ</div><div class="text"><div class="label">Normalizing financial data</div><div class="status">Complete</div></div></div><div class="step complete"><div class="icon">‚úÖ</div><div class="text"><div class="label">Computing financial ratios</div><div class="status">Complete</div></div></div><div class="step complete"><div class="icon">‚úÖ</div><div class="text"><div class="label">Benchmarking against industry</div><div class="status">Complete</div></div></div><div class="step active"><div class="icon">üîÑ</div><div class="text"><div class="label">Generating personalized terms</div><div class="status">In Progress</div></div></div><div class="step waiting"><div class="icon">‚è≥</div><div class="text"><div class="label">Preparing results</div><div class="status">Waiting</div></div></div></div><div class="note">This usually takes less than a minute</div><div class="progress-bar-outer"><div class="progress-bar-inner"></div></div></div></div></body></html>`;

// SCREEN 14: Tier 2 Terms + Clarifications
const screen14=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Verified Terms</title><style>${BASE}body{background:${c.g1};padding:24px;min-height:100vh}.container{max-width:680px;margin:0 auto}.card{background:white;padding:40px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04);margin-bottom:24px}h1{font-size:28px;font-weight:600;color:${c.navy};margin-bottom:8px;display:flex;align-items:center;gap:12px}.badge{background:${c.success};color:white;font-size:12px;padding:4px 12px;border-radius:12px;font-weight:600}.comparison{margin:24px 0}.comparison table{width:100%;border-collapse:collapse}.comparison th{text-align:left;padding:12px;background:${c.g1};font-size:13px;font-weight:600;color:${c.g7};text-transform:uppercase;letter-spacing:0.5px}.comparison td{padding:16px 12px;border-bottom:1px solid ${c.g2};font-size:15px}.comparison td:first-child{font-weight:600;color:${c.navy}}.comparison .change{color:${c.success};font-weight:600}.callout{background:rgba(42,157,143,0.1);border-left:4px solid ${c.success};padding:20px;border-radius:8px;margin:24px 0;font-size:14px;color:${c.g8}}.callout strong{color:${c.success}}.section-title{font-size:20px;font-weight:600;color:${c.navy};margin-bottom:16px}.intro{font-size:15px;color:${c.g7};margin-bottom:24px}.question{background:${c.g1};padding:20px;border-radius:8px;margin-bottom:16px}.question-header{display:flex;align-items:start;gap:12px;margin-bottom:12px}.flag{background:${c.amber};color:white;font-size:11px;padding:4px 8px;border-radius:4px;font-weight:600;text-transform:uppercase;flex-shrink:0}.question-text{font-size:15px;color:${c.navy};font-weight:500;flex:1}textarea{width:100%;padding:12px;border:1px solid ${c.g3};border-radius:8px;font-size:14px;font-family:inherit;resize:vertical;min-height:80px}.btn{width:100%;padding:16px;background:${c.teal};color:white;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;margin-top:16px}</style></head><body><div class="container"><div class="card"><h1>Your Verified Terms<span class="badge">Improved!</span></h1><div class="comparison"><table><thead><tr><th>Metric</th><th>Initial Estimate</th><th>Verified</th><th>Change</th></tr></thead><tbody><tr><td>Rate</td><td>9.25%</td><td>8.50%</td><td class="change">‚Üì 0.75%</td></tr><tr><td>Amount</td><td>$50,000</td><td>$55,000</td><td class="change">‚Üë $5,000</td></tr><tr><td>Payment</td><td>$1,250/mo</td><td>$1,118/mo</td><td class="change">‚Üì $132/mo</td></tr><tr><td>Term</td><td>60 months</td><td>60 months</td><td>No change</td></tr></tbody></table></div><div class="callout"><strong>Great news!</strong> Your terms improved based on verified data from your connected accounts.</div></div><div class="card"><div class="section-title">We Have a Couple of Questions</div><div class="intro">Before finalizing your terms, we need clarification on a few items we noticed during our analysis.</div><div class="question"><div class="question-header"><span class="flag">Bank Statement</span><div class="question-text">We noticed a $12,000 deposit on October 15. Can you tell us what the source of this deposit was?</div></div><textarea placeholder="Describe the source of this deposit..."></textarea></div><div class="question"><div class="question-header"><span class="flag">Income Delta</span><div class="question-text">Your reported income is $85K, but your W-2 shows $72K. Can you explain this difference?</div></div><textarea placeholder="Explain the income difference..."></textarea></div><button class="btn">Submit Answers</button></div></div></body></html>`;

// SCREEN 15: Under Review
const screen15=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Under Review</title><style>${BASE}body{background:${c.g1};padding:24px;min-height:100vh;display:flex;justify-content:center;align-items:center}.container{max-width:640px;width:100%}.card{background:white;padding:40px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04);margin-bottom:24px;text-align:center}.icon{font-size:64px;margin-bottom:16px}.badge{display:inline-block;background:${c.gold};color:white;padding:6px 16px;border-radius:16px;font-size:13px;font-weight:600;margin-bottom:24px}h1{font-size:28px;font-weight:600;color:${c.navy};margin-bottom:16px}.timeline{background:${c.g1};padding:20px;border-radius:8px;margin:24px 0;font-size:14px;color:${c.g7};font-weight:500}.section{text-align:left;margin:32px 0}.section-title{font-size:18px;font-weight:600;color:${c.navy};margin-bottom:16px}.steps{display:flex;gap:16px;margin-bottom:24px}.step-card{flex:1;background:${c.g1};padding:20px;border-radius:8px;text-align:center}.step-card .num{font-size:24px;font-weight:700;color:${c.teal};margin-bottom:8px}.step-card .text{font-size:13px;color:${c.g7};line-height:1.5}.callout{background:rgba(244,162,97,0.1);border-left:4px solid ${c.gold};padding:20px;border-radius:8px;margin:24px 0;text-align:left}.callout strong{color:${c.navy};display:block;margin-bottom:8px}.callout p{font-size:14px;color:${c.g7};line-height:1.6}.resources{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.resource{background:${c.g1};padding:20px;border-radius:8px;text-align:center;cursor:pointer;transition:all 0.2s}.resource:hover{background:${c.g2};transform:translateY(-2px)}.resource .icon{font-size:32px;margin-bottom:8px}.resource .label{font-size:14px;font-weight:600;color:${c.navy}}.resource .desc{font-size:12px;color:${c.g6};margin-top:4px}</style></head><body><div class="container"><div class="card"><div class="icon">üïê</div><div class="badge">Under Review</div><h1>Your Application is Under Review by Our Team</h1><div class="timeline">Estimated decision in <strong>3-5 business days</strong></div><div class="section"><div class="section-title">What's Happening</div><div class="steps"><div class="step-card"><div class="num">1</div><div class="text">Your data is compiled and organized</div></div><div class="step-card"><div class="num">2</div><div class="text">A specialist reviews your profile</div></div><div class="step-card"><div class="num">3</div><div class="text">Final decision is made</div></div></div></div><div class="callout"><strong>What to Expect</strong><p>If we need additional information or documentation, we'll reach out via email. Otherwise, you'll be notified as soon as a decision is made.</p></div><div class="section"><div class="section-title">While You Wait</div><div class="resources"><div class="resource"><div class="icon">üìä</div><div class="label">Financial Health</div><div class="desc">Check your dashboard</div></div><div class="resource"><div class="icon">üìö</div><div class="label">Learning Center</div><div class="desc">Browse resources</div></div><div class="resource"><div class="icon">‚ùì</div><div class="label">FAQ</div><div class="desc">Common questions</div></div></div></div></div></div></body></html>`;

// SCREEN 16: Approved - Celebration
const screen16=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Approved!</title><style>${BASE}body{background:linear-gradient(135deg,${c.success} 0%,${c.teal} 100%);color:white;padding:24px;min-height:100vh;display:flex;justify-content:center;align-items:center}.container{max-width:640px;width:100%;text-align:center}.icon{font-size:80px;margin-bottom:16px}h1{font-size:36px;font-weight:700;margin-bottom:40px}.terms-card{background:white;color:${c.g9};padding:40px;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,0.15);margin-bottom:24px}.card-title{font-size:20px;font-weight:600;color:${c.navy};margin-bottom:24px}.terms-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:24px}.term{text-align:center}.term-label{font-size:12px;color:${c.g6};text-transform:uppercase;letter-spacing:0.5px;margin-bottom:6px}.term-value{font-size:28px;font-weight:700;color:${c.navy}}.term-sub{font-size:13px;color:${c.g6};margin-top:2px}.improvement{background:${c.g1};padding:24px;border-radius:12px;text-align:left}.improvement-title{font-size:15px;font-weight:600;color:${c.navy};margin-bottom:16px}.improvement-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;font-size:14px}.improvement-row .label{color:${c.g7}}.improvement-row .change{color:${c.success};font-weight:600}.conditions{background:rgba(244,162,97,0.1);border-left:4px solid ${c.gold};padding:20px;border-radius:8px;margin-top:24px;text-align:left}.conditions-title{font-size:15px;font-weight:600;color:${c.navy};margin-bottom:12px}.condition{display:flex;align-items:start;gap:12px;margin-bottom:8px;font-size:14px;color:${c.g7}}.condition input{margin-top:2px}.btn{width:100%;padding:18px;background:${c.teal};color:white;border:none;border-radius:8px;font-size:18px;font-weight:600;cursor:pointer;margin-top:16px}</style></head><body><div class="container"><div class="icon">‚úÖ</div><h1>Congratulations ‚Äî You've Been Approved!</h1><div class="terms-card"><div class="card-title">Your Firm Loan Terms</div><div class="terms-grid"><div class="term"><div class="term-label">Approved Amount</div><div class="term-value">$60,000</div></div><div class="term"><div class="term-label">Interest Rate</div><div class="term-value">8.25%</div><div class="term-sub">Fixed</div></div><div class="term"><div class="term-label">Term</div><div class="term-value">60</div><div class="term-sub">Months</div></div><div class="term"><div class="term-label">Monthly Payment</div><div class="term-value">$1,195</div></div></div><div class="improvement"><div class="improvement-title">Your terms improved through our verification process</div><div class="improvement-row"><span class="label">Rate: 9.25% ‚Üí 8.25%</span><span class="change">Saved 1.00%</span></div><div class="improvement-row"><span class="label">Amount: $50,000 ‚Üí $60,000</span><span class="change">Increased $10,000</span></div><div class="improvement-row"><span class="label">Payment: $1,250 ‚Üí $1,195</span><span class="change">Saved $55/mo</span></div></div><div class="conditions"><div class="conditions-title">Conditions to Close</div><div class="condition"><input type="checkbox">Provide proof of business insurance</div><div class="condition"><input type="checkbox">Submit executed commercial lease</div></div><button class="btn">Review & Sign Loan Documents ‚Üí</button></div></div></body></html>`;

// SCREEN 17: Denied + Mentorship Pivot
const screen17=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Application Decision</title><style>${BASE}body{background:${c.g1};padding:24px;min-height:100vh;display:flex;justify-content:center;align-items:center}.container{max-width:640px;width:100%}.card{background:white;padding:40px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04);margin-bottom:24px}h1{font-size:28px;font-weight:600;color:${c.navy};margin-bottom:24px;text-align:center}.reason-card{background:${c.g1};padding:24px;border-radius:8px;margin:24px 0}.reason-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid ${c.g3}}.reason-row:last-child{border:none;margin-bottom:0;padding-bottom:0}.reason-label{font-size:15px;color:${c.navy};font-weight:500}.reason-value{text-align:right}.reason-current{font-size:20px;font-weight:700;color:${c.danger}}.reason-need{font-size:13px;color:${c.g6};margin-top:2px}.reason-gap{font-size:12px;color:${c.danger};margin-top:4px}.link{text-align:center;margin:20px 0}.link a{color:${c.teal};text-decoration:none;font-size:14px;font-weight:600}.divider{height:2px;background:${c.g2};margin:32px 0}.pivot{background:linear-gradient(135deg,rgba(0,109,119,0.08) 0%,rgba(42,157,143,0.08) 100%);padding:40px;border-radius:12px}.pivot h2{font-size:24px;font-weight:600;color:${c.navy};margin-bottom:12px;text-align:center}.pivot-intro{font-size:15px;color:${c.g7};text-align:center;margin-bottom:8px}.pivot-stat{font-size:15px;font-weight:600;color:${c.success};text-align:center;margin-bottom:32px}.tracks{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:24px}.track{background:white;padding:24px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.04)}.track-title{font-size:16px;font-weight:600;color:${c.navy};margin-bottom:16px}.track-metric{margin-bottom:12px}.track-label{font-size:12px;color:${c.g6};margin-bottom:4px}.track-values{display:flex;justify-content:space-between;font-size:14px;font-weight:600}.track-values .current{color:${c.danger}}.track-values .goal{color:${c.success}}.progress{height:8px;background:${c.g2};border-radius:4px;margin:12px 0;overflow:hidden}.progress-bar{height:100%;background:${c.g3};width:0%}.track-timeline{font-size:13px;color:${c.g6};margin-bottom:12px}.track-btn{width:100%;padding:10px;background:${c.g2};color:${c.navy};border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer}.btn-primary{width:100%;padding:16px;background:${c.teal};color:white;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}</style></head><body><div class="container"><div class="card"><h1>We're Unable to Approve Your Loan Today</h1><div class="reason-card"><div class="reason-row"><div class="reason-label">Credit Score</div><div class="reason-value"><div class="reason-current">588</div><div class="reason-need">Need: 620</div><div class="reason-gap">32 points short</div></div></div><div class="reason-row"><div class="reason-label">Debt-to-Income Ratio</div><div class="reason-value"><div class="reason-current">54%</div><div class="reason-need">Maximum: 50%</div><div class="reason-gap">4% above threshold</div></div></div></div><div class="link"><a href="#">Download Adverse Action Notice (PDF)</a></div></div><div class="divider"></div><div class="pivot"><h2>We Can Help You Get There</h2><div class="pivot-intro">Many of our approved borrowers started exactly where you are</div><div class="pivot-stat">73% of program participants qualify on their next application</div><div class="tracks"><div class="track"><div class="track-title">Credit Score</div><div class="track-metric"><div class="track-label">Goal</div><div class="track-values"><span class="current">Current: 588</span><span class="goal">Goal: 620</span></div></div><div class="progress"><div class="progress-bar" style="width:0%"></div></div><div class="track-timeline">Timeline: 60-90 days</div><button class="track-btn">Start Track</button></div><div class="track"><div class="track-title">Debt-to-Income</div><div class="track-metric"><div class="track-label">Goal</div><div class="track-values"><span class="current">Current: 54%</span><span class="goal">Goal: 50%</span></div></div><div class="progress"><div class="progress-bar" style="width:0%"></div></div><div class="track-timeline">Timeline: 90-120 days</div><button class="track-btn">Start Track</button></div></div><button class="btn-primary">Start Your Improvement Plan</button></div></div></body></html>`;

// SCREEN 18: Closing - Document Signing
const screen18=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Document Signing</title><style>${BASE}body{background:${c.g1};padding:24px;min-height:100vh}.container{max-width:680px;margin:0 auto}.card{background:white;padding:40px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04);margin-bottom:24px}h1{font-size:28px;font-weight:600;color:${c.navy};margin-bottom:24px}.progress-header{margin-bottom:32px}.progress-text{font-size:14px;color:${c.g6};margin-bottom:8px}.progress-bar-outer{width:100%;height:12px;background:${c.g2};border-radius:6px;overflow:hidden}.progress-bar-inner{height:100%;background:linear-gradient(90deg,${c.teal},${c.success});width:50%;transition:width 0.3s}.doc{border:2px solid ${c.g3};padding:24px;border-radius:12px;margin-bottom:16px;transition:all 0.2s}.doc.signed{border-color:${c.success};background:rgba(42,157,143,0.04)}.doc.active{border-color:${c.amber};background:rgba(231,111,81,0.04)}.doc-header{display:flex;align-items:center;gap:16px;margin-bottom:8px}.doc-icon{font-size:28px;flex-shrink:0}.doc-info{flex:1}.doc-title{font-size:17px;font-weight:600;color:${c.navy};margin-bottom:4px}.doc-desc{font-size:13px;color:${c.g6}}.doc-status{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:600}.doc-status.signed{color:${c.success}}.doc-status.active{color:${c.amber}}.doc-status.pending{color:${c.g5}}.doc-actions{display:flex;gap:12px;margin-top:16px}.doc-actions .btn{flex:1;padding:12px;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer}.doc-actions .btn-review{background:${c.g2};color:${c.navy}}.doc-actions .btn-sign{background:${c.amber};color:white}.btn-complete{width:100%;padding:16px;background:${c.g3};color:${c.g6};border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:not-allowed}.btn-complete:not(:disabled){background:${c.teal};color:white;cursor:pointer}</style></head><body><div class="container"><div class="card"><h1>Review & Sign Your Loan Documents</h1><div class="progress-header"><div class="progress-text">3 of 6 documents signed (50%)</div><div class="progress-bar-outer"><div class="progress-bar-inner"></div></div></div><div class="doc signed"><div class="doc-header"><div class="doc-icon">üìÑ</div><div class="doc-info"><div class="doc-title">Promissory Note</div><div class="doc-desc">Your promise to repay the loan</div></div><div class="doc-status signed">‚úÖ Signed</div></div></div><div class="doc signed"><div class="doc-header"><div class="doc-icon">üìÑ</div><div class="doc-info"><div class="doc-title">Loan Agreement</div><div class="doc-desc">Master terms and conditions</div></div><div class="doc-status signed">‚úÖ Signed</div></div></div><div class="doc signed"><div class="doc-header"><div class="doc-icon">üìÑ</div><div class="doc-info"><div class="doc-title">Security Agreement</div><div class="doc-desc">Collateral pledge</div></div><div class="doc-status signed">‚úÖ Signed</div></div></div><div class="doc active"><div class="doc-header"><div class="doc-icon">üìÑ</div><div class="doc-info"><div class="doc-title">Personal Guarantee</div><div class="doc-desc">Personal liability agreement</div></div><div class="doc-status active">‚ö° Review & Sign</div></div><div class="doc-actions"><button class="btn btn-review">Review Document</button><button class="btn btn-sign">Sign Now</button></div></div><div class="doc"><div class="doc-header"><div class="doc-icon">üìÑ</div><div class="doc-info"><div class="doc-title">ACH Authorization</div><div class="doc-desc">Automatic payment setup</div></div><div class="doc-status pending">‚è≥ Pending</div></div></div><div class="doc"><div class="doc-header"><div class="doc-icon">üìÑ</div><div class="doc-info"><div class="doc-title">Closing Disclosure</div><div class="doc-desc">Total cost breakdown</div></div><div class="doc-status pending">‚è≥ Pending</div></div></div><button class="btn-complete" disabled>Complete All Signatures</button></div></div></body></html>`;

// SCREEN 19: Funded!
const screen19=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Funded!</title><style>${BASE}body{background:linear-gradient(135deg,#F4A261 0%,#E76F51 100%);color:white;padding:24px;min-height:100vh;display:flex;justify-content:center;align-items:center}.container{max-width:640px;width:100%;text-align:center}.icon{font-size:80px;margin-bottom:16px}h1{font-size:36px;font-weight:700;margin-bottom:32px}.transaction-card{background:white;color:${c.g9};padding:32px;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,0.15);margin-bottom:24px}.transaction-amount{font-size:48px;font-weight:700;color:${c.success};margin-bottom:16px}.transaction-detail{font-size:15px;color:${c.g7};line-height:1.6;margin-bottom:8px}.transaction-note{font-size:13px;color:${c.g6};background:${c.g1};padding:12px;border-radius:8px;margin-top:16px}.loan-summary{background:rgba(255,255,255,0.15);padding:24px;border-radius:12px;margin-bottom:24px;text-align:left}.summary-title{font-size:16px;font-weight:600;margin-bottom:16px;opacity:0.95}.summary-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}.summary-item{}.summary-label{font-size:12px;opacity:0.8;margin-bottom:4px}.summary-value{font-size:20px;font-weight:700}.next-section{background:white;color:${c.g9};padding:32px;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,0.15)}.next-title{font-size:20px;font-weight:600;color:${c.navy};margin-bottom:24px}.next-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:24px}.next-card{background:${c.g1};padding:20px;border-radius:8px;cursor:pointer;transition:all 0.2s;position:relative}.next-card:hover{background:${c.g2};transform:translateY(-2px)}.next-card .badge{position:absolute;top:8px;right:8px;background:${c.success};color:white;font-size:10px;padding:4px 8px;border-radius:8px;font-weight:600}.next-card .icon{font-size:32px;margin-bottom:8px}.next-card .label{font-size:14px;font-weight:600;color:${c.navy}}.next-card .desc{font-size:12px;color:${c.g6};margin-top:4px}.btn{width:100%;padding:16px;background:${c.teal};color:white;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}</style></head><body><div class="container"><div class="icon">üí∞</div><h1>Your Funds Have Been Disbursed!</h1><div class="transaction-card"><div class="transaction-amount">$60,000</div><div class="transaction-detail">Sent to <strong>Business Checking (...4567)</strong></div><div class="transaction-detail">February 12, 2026</div><div class="transaction-note">Allow 1-2 business days for funds to settle in your account</div></div><div class="loan-summary"><div class="summary-title">Your Loan Summary</div><div class="summary-grid"><div class="summary-item"><div class="summary-label">Next Payment</div><div class="summary-value">Mar 15</div></div><div class="summary-item"><div class="summary-label">Amount Due</div><div class="summary-value">$1,195</div></div><div class="summary-item"><div class="summary-label">Balance</div><div class="summary-value">$60,000</div></div><div class="summary-item"><div class="summary-label">Rate</div><div class="summary-value">8.25%</div></div></div></div><div class="next-section"><div class="next-title">What's Next?</div><div class="next-cards"><div class="next-card"><div class="badge">Recommended</div><div class="icon">üîÑ</div><div class="label">Set Up Auto-Pay</div><div class="desc">Never miss a payment</div></div><div class="next-card"><div class="icon">üìä</div><div class="label">Virtual CFO</div><div class="desc">View insights</div></div><div class="next-card"><div class="icon">üéì</div><div class="label">Resources</div><div class="desc">Success tools</div></div></div><button class="btn">View Your Loan Dashboard ‚Üí</button></div></div></body></html>`;

// SCREEN 20: My Loans (Active Loan Dashboard)
const screen20=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>My Loans</title><style>${BASE}body{background:${c.g1};padding:24px;min-height:100vh}.container{max-width:1100px;margin:0 auto}.header{background:white;padding:32px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04);margin-bottom:24px;display:flex;justify-content:space-between;align-items:center}.header-left h1{font-size:24px;font-weight:600;color:${c.navy};margin-bottom:8px}.header-left .loan-id{font-size:14px;color:${c.g6}}.badge{display:inline-block;background:${c.success};color:white;padding:6px 12px;border-radius:12px;font-size:12px;font-weight:600}.metrics{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px}.metric{background:white;padding:24px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04)}.metric-label{font-size:12px;color:${c.g6};text-transform:uppercase;letter-spacing:0.5px;margin-bottom:8px}.metric-value{font-size:28px;font-weight:700;color:${c.navy}}.metric-sub{font-size:13px;color:${c.g6};margin-top:4px}.card{background:white;padding:32px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04);margin-bottom:24px}.card h2{font-size:18px;font-weight:600;color:${c.navy};margin-bottom:20px}table{width:100%;border-collapse:collapse}th{text-align:left;padding:12px;background:${c.g1};font-size:12px;font-weight:600;color:${c.g7};text-transform:uppercase;letter-spacing:0.5px}td{padding:16px 12px;border-bottom:1px solid ${c.g2};font-size:14px}.status-ok{color:${c.success};font-weight:600}.covenant-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:20px}.covenant{text-align:center}.covenant-label{font-size:13px;color:${c.g6};margin-bottom:12px}.gauge{width:120px;height:120px;margin:0 auto 12px;position:relative}.gauge svg{transform:rotate(-90deg)}.gauge-value{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:24px;font-weight:700;color:${c.success}}.covenant-status{font-size:12px;color:${c.success}}.insights{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:20px}.insight{background:${c.g1};padding:20px;border-radius:8px;font-size:13px;color:${c.g7};line-height:1.6;border-left:3px solid ${c.success}}.actions{display:flex;gap:12px}.btn{flex:1;padding:14px;background:${c.teal};color:white;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer}.btn.secondary{background:${c.g2};color:${c.navy}}</style></head><body><div class="container"><div class="header"><div class="header-left"><h1>Working Capital Loan</h1><div class="loan-id">#CL-2026-0042</div></div><div class="badge">Current</div></div><div class="metrics"><div class="metric"><div class="metric-label">Balance</div><div class="metric-value">$58,805</div></div><div class="metric"><div class="metric-label">Next Payment</div><div class="metric-value">$1,195</div><div class="metric-sub">Due Mar 15</div></div><div class="metric"><div class="metric-label">Rate</div><div class="metric-value">8.25%</div><div class="metric-sub">Fixed</div></div><div class="metric"><div class="metric-label">Payments</div><div class="metric-value">1/60</div><div class="metric-sub">59 remaining</div></div></div><div class="card"><h2>Payment History</h2><table><thead><tr><th>Date</th><th>Amount</th><th>Principal / Interest</th><th>Balance</th><th>Status</th></tr></thead><tbody><tr><td>Feb 15</td><td>$1,195.00</td><td>$402.19 / $792.81</td><td>$59,597.81</td><td class="status-ok">On Time ‚úÖ</td></tr></tbody></table></div><div class="card"><h2>Covenant Status</h2><div class="covenant-grid"><div class="covenant"><div class="covenant-label">DSCR (min 1.25x)</div><div class="gauge"><svg width="120" height="120"><circle cx="60" cy="60" r="52" fill="none" stroke="${c.g2}" stroke-width="8"/><circle cx="60" cy="60" r="52" fill="none" stroke="${c.success}" stroke-width="8" stroke-dasharray="327" stroke-dashoffset="81.75" stroke-linecap="round"/></svg><div class="gauge-value">1.8x</div></div><div class="covenant-status">‚úì Compliant</div></div><div class="covenant"><div class="covenant-label">Current Ratio (min 1.5x)</div><div class="gauge"><svg width="120" height="120"><circle cx="60" cy="60" r="52" fill="none" stroke="${c.g2}" stroke-width="8"/><circle cx="60" cy="60" r="52" fill="none" stroke="${c.success}" stroke-width="8" stroke-dasharray="327" stroke-dashoffset="114.45" stroke-linecap="round"/></svg><div class="gauge-value">2.1x</div></div><div class="covenant-status">‚úì Compliant</div></div><div class="covenant"><div class="covenant-label">Cash Reserves (min 3.0 mo)</div><div class="gauge"><svg width="120" height="120"><circle cx="60" cy="60" r="52" fill="none" stroke="${c.g2}" stroke-width="8"/><circle cx="60" cy="60" r="52" fill="none" stroke="${c.success}" stroke-width="8" stroke-dasharray="327" stroke-dashoffset="95.63" stroke-linecap="round"/></svg><div class="gauge-value">4.2</div></div><div class="covenant-status">‚úì Compliant</div></div></div></div><div class="card"><h2>Virtual CFO Insights</h2><div class="insights"><div class="insight">Cash reserves increased 8% this month ‚Äî strong trajectory</div><div class="insight">Revenue trending 6% above projections</div><div class="insight">Consider accelerating principal payments to save $4,200 in interest</div></div><div class="actions"><button class="btn">Make Payment</button><button class="btn secondary">View Amortization</button><button class="btn secondary">Download Documents</button><button class="btn secondary">Request Payoff</button></div></div></div></body></html>`;

// SCREEN 21: Mentorship Dashboard
const screen21=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Mentorship Dashboard</title><style>${BASE}body{background:${c.g1};padding:24px;min-height:100vh}.container{max-width:900px;margin:0 auto}h1{font-size:28px;font-weight:600;color:${c.navy};margin-bottom:24px}.banner{background:linear-gradient(135deg,rgba(42,157,143,0.1) 0%,rgba(0,109,119,0.1) 100%);border-left:4px solid ${c.success};padding:24px;border-radius:12px;margin-bottom:32px}.banner-text{font-size:16px;font-weight:600;color:${c.navy}}.tracks{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:32px}.track{background:white;padding:32px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04)}.track-title{font-size:20px;font-weight:600;color:${c.navy};margin-bottom:20px}.track-header{display:flex;justify-content:space-between;margin-bottom:16px}.track-metric{text-align:center}.track-label{font-size:11px;color:${c.g6};text-transform:uppercase;letter-spacing:0.5px;margin-bottom:4px}.track-value{font-size:28px;font-weight:700}.track-value.goal{color:${c.success}}.track-value.current{color:${c.gold}}.track-value.start{color:${c.g5}}.progress-container{margin-bottom:20px}.progress-label{font-size:13px;color:${c.g6};margin-bottom:8px}.progress-bar-outer{width:100%;height:12px;background:${c.g2};border-radius:6px;overflow:hidden}.progress-bar-inner{height:100%;background:linear-gradient(90deg,${c.gold},${c.success});border-radius:6px;transition:width 0.3s}.milestone{background:${c.g1};padding:16px;border-radius:8px;margin-bottom:16px}.milestone-label{font-size:13px;color:${c.g6};margin-bottom:4px}.milestone-text{font-size:15px;font-weight:600;color:${c.navy}}.insight{background:rgba(42,157,143,0.1);border-left:3px solid ${c.success};padding:16px;border-radius:8px;margin-bottom:16px}.insight-icon{display:inline;margin-right:6px}.insight-text{font-size:14px;color:${c.g8};line-height:1.6}.btn{width:100%;padding:14px;background:${c.teal};color:white;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer}.card{background:white;padding:32px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04);margin-bottom:24px}.card h2{font-size:20px;font-weight:600;color:${c.navy};margin-bottom:20px}.partners{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:20px}.partner{background:${c.g1};padding:20px;border-radius:8px;text-align:center}.partner-name{font-size:15px;font-weight:600;color:${c.navy};margin-bottom:4px}.partner-specialty{font-size:12px;color:${c.g6};margin-bottom:8px}.partner-rating{font-size:14px;margin-bottom:12px}.partner-btn{width:100%;padding:8px;background:${c.teal};color:white;border:none;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer}.timeline{border-left:3px solid ${c.g3};padding-left:20px}.timeline-item{margin-bottom:20px;position:relative}.timeline-item::before{content:'';position:absolute;left:-26px;top:4px;width:12px;height:12px;background:${c.success};border-radius:50%;border:3px solid white}.timeline-date{font-size:12px;color:${c.g6};margin-bottom:4px}.timeline-event{font-size:14px;color:${c.navy};font-weight:500}</style></head><body><div class="container"><h1>Your Path Forward</h1><div class="banner"><div class="banner-text">1 of 2 barriers cleared ‚Äî you're making progress!</div></div><div class="tracks"><div class="track"><div class="track-title">Credit Score Track</div><div class="track-header"><div class="track-metric"><div class="track-label">Goal</div><div class="track-value goal">620</div></div><div class="track-metric"><div class="track-label">Current</div><div class="track-value current">600</div></div><div class="track-metric"><div class="track-label">Started</div><div class="track-value start">588</div></div></div><div class="progress-container"><div class="progress-label">Progress: 12 of 20 points gained (60%)</div><div class="progress-bar-outer"><div class="progress-bar-inner" style="width:60%"></div></div></div><div class="milestone"><div class="milestone-label">Current Milestone</div><div class="milestone-text">Step 3: Reduce credit utilization below 30%</div></div><div class="insight"><span class="insight-icon">üí°</span><span class="insight-text">Your score improved 12 points this month. At this rate, you'll hit 620 by April.</span></div><button class="btn">Continue This Track</button></div><div class="track"><div class="track-title">Debt-to-Income Track</div><div class="track-header"><div class="track-metric"><div class="track-label">Goal</div><div class="track-value goal">50%</div></div><div class="track-metric"><div class="track-label">Current</div><div class="track-value current">52%</div></div><div class="track-metric"><div class="track-label">Started</div><div class="track-value start">54%</div></div></div><div class="progress-container"><div class="progress-label">Progress: 2 of 4 percentage points reduced (50%)</div><div class="progress-bar-outer"><div class="progress-bar-inner" style="width:50%"></div></div></div><div class="milestone"><div class="milestone-label">Current Milestone</div><div class="milestone-text">Step 2: Pay down highest-interest credit card</div></div><div class="insight"><span class="insight-icon">üí°</span><span class="insight-text">Your monthly debt payments decreased by $180. Keep going!</span></div><button class="btn">Continue This Track</button></div></div><div class="card"><h2>Partner Marketplace</h2><div class="partners"><div class="partner"><div class="partner-name">Credit Advisors Inc</div><div class="partner-specialty">Credit Repair</div><div class="partner-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.9</div><button class="partner-btn">Connect</button></div><div class="partner"><div class="partner-name">Debt Solutions Pro</div><div class="partner-specialty">Debt Consolidation</div><div class="partner-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ 4.8</div><button class="partner-btn">Connect</button></div><div class="partner"><div class="partner-name">Financial Coach Co</div><div class="partner-specialty">Budget Planning</div><div class="partner-rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ 4.7</div><button class="partner-btn">Connect</button></div></div></div><div class="card"><h2>Your Timeline</h2><div class="timeline"><div class="timeline-item"><div class="timeline-date">Feb 12, 2026</div><div class="timeline-event">Started Improvement Program</div></div><div class="timeline-item"><div class="timeline-date">Jan 8, 2026</div><div class="timeline-event">Credit Score: 588 ‚Üí 600 (+12 points)</div></div><div class="timeline-item"><div class="timeline-date">Dec 20, 2025</div><div class="timeline-event">DTI: 54% ‚Üí 52% (-2%)</div></div></div></div></div></body></html>`;

// SCREEN 22: Financial Health Dashboard
const screen22=`<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Financial Health</title><style>${BASE}body{background:${c.g1};padding:24px;min-height:100vh}.container{max-width:1100px;margin:0 auto}.header{text-align:center;margin-bottom:32px}h1{font-size:32px;font-weight:600;color:${c.navy};margin-bottom:8px}.subtitle{font-size:15px;color:${c.g6}}.main-grid{display:grid;grid-template-columns:1fr 2fr;gap:24px;margin-bottom:24px}.card{background:white;padding:32px;border-radius:12px;box-shadow:0 2px 4px rgba(0,0,0,0.04)}.card h2{font-size:20px;font-weight:600;color:${c.navy};margin-bottom:24px}.score-gauge{text-align:center;margin-bottom:24px}.gauge-circle{width:200px;height:200px;margin:0 auto 16px;position:relative;background:conic-gradient(${c.success} 0deg 257deg,${c.g2} 257deg 360deg);border-radius:50%;display:flex;align-items:center;justify-content:center}.gauge-inner{width:160px;height:160px;background:white;border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center}.gauge-score{font-size:56px;font-weight:700;color:${c.navy}}.gauge-label{font-size:14px;color:${c.g6};text-transform:uppercase;letter-spacing:1px}.score-rating{font-size:18px;font-weight:600;color:${c.success}}.trend{margin-top:20px}.trend-title{font-size:14px;color:${c.g6};margin-bottom:12px}.trend-bars{display:flex;align-items:flex-end;justify-content:space-between;height:100px;gap:8px}.trend-bar{flex:1;background:linear-gradient(to top,${c.teal},${c.success});border-radius:4px 4px 0 0;position:relative}.trend-bar .value{position:absolute;bottom:100%;left:50%;transform:translateX(-50%);font-size:11px;color:${c.g6};margin-bottom:4px}.trend-bar .month{position:absolute;top:100%;left:50%;transform:translateX(-50%);font-size:10px;color:${c.g6};margin-top:4px;white-space:nowrap}.section{margin-bottom:32px}.section-title{font-size:18px;font-weight:600;color:${c.navy};margin-bottom:16px}.cash-flow{background:${c.g1};padding:24px;border-radius:8px}.flow-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.flow-label{font-size:15px;color:${c.g7}}.flow-value{font-size:24px;font-weight:700;color:${c.navy}}.flow-bar{height:40px;background:${c.g2};border-radius:8px;position:relative;overflow:hidden}.flow-fill{height:100%;background:linear-gradient(90deg,${c.teal},${c.success});border-radius:8px;display:flex;align-items:center;padding:0 16px;color:white;font-weight:600}.flow-fill.expense{background:linear-gradient(90deg,${c.gold},${c.amber})}.surplus{background:rgba(42,157,143,0.1);padding:16px;border-radius:8px;text-align:center;margin-top:16px}.surplus-label{font-size:13px;color:${c.g6};margin-bottom:4px}.surplus-value{font-size:28px;font-weight:700;color:${c.success}}.net-worth{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.nw-item{text-align:center;background:${c.g1};padding:20px;border-radius:8px}.nw-label{font-size:12px;color:${c.g6};text-transform:uppercase;letter-spacing:0.5px;margin-bottom:8px}.nw-value{font-size:24px;font-weight:700;color:${c.navy}}.nw-value.positive{color:${c.success}}.ratios{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.ratio{text-align:center}.ratio-label{font-size:12px;color:${c.g6};margin-bottom:12px}.ratio-gauge{width:80px;height:80px;margin:0 auto 8px;position:relative}.ratio-gauge svg{transform:rotate(-90deg)}.ratio-value{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:16px;font-weight:700;color:${c.success}}.insights{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.insight{background:${c.g1};padding:20px;border-radius:8px;font-size:13px;color:${c.g7};line-height:1.6;border-left:3px solid ${c.teal}}.callout{background:linear-gradient(135deg,rgba(42,157,143,0.1) 0%,rgba(0,109,119,0.1) 100%);border-left:4px solid ${c.success};padding:24px;border-radius:12px;text-align:center;font-size:16px;font-weight:600;color:${c.navy}}</style></head><body><div class="container"><div class="header"><h1>Financial Health Dashboard</h1><div class="subtitle">Real-time view of your financial wellness</div></div><div class="main-grid"><div class="card"><h2>Credit Score</h2><div class="score-gauge"><div class="gauge-circle"><div class="gauge-inner"><div class="gauge-score">712</div><div class="gauge-label">FICO</div></div></div><div class="score-rating">Good</div></div><div class="trend"><div class="trend-title">6-Month Trend</div><div class="trend-bars"><div class="trend-bar" style="height:68%"><div class="value">680</div><div class="month">Sep</div></div><div class="trend-bar" style="height:72%"><div class="value">688</div><div class="month">Oct</div></div><div class="trend-bar" style="height:77%"><div class="value">695</div><div class="month">Nov</div></div><div class="trend-bar" style="height:82%"><div class="value">700</div><div class="month">Dec</div></div><div class="trend-bar" style="height:91%"><div class="value">708</div><div class="month">Jan</div></div><div class="trend-bar" style="height:100%"><div class="value">712</div><div class="month">Feb</div></div></div></div></div><div class="card"><div class="section"><div class="section-title">Cash Flow</div><div class="cash-flow"><div class="flow-row"><div class="flow-label">Monthly Income</div><div class="flow-value">$8,400</div></div><div class="flow-bar"><div class="flow-fill" style="width:100%">$8,400</div></div><div class="flow-row" style="margin-top:16px"><div class="flow-label">Monthly Expenses</div><div class="flow-value">$6,200</div></div><div class="flow-bar"><div class="flow-fill expense" style="width:73.8%">$6,200</div></div><div class="surplus"><div class="surplus-label">Monthly Surplus</div><div class="surplus-value">$2,200</div></div></div></div><div class="section"><div class="section-title">Net Worth</div><div class="net-worth"><div class="nw-item"><div class="nw-label">Assets</div><div class="nw-value">$142,000</div></div><div class="nw-item"><div class="nw-label">Liabilities</div><div class="nw-value">$87,000</div></div><div class="nw-item"><div class="nw-label">Net Worth</div><div class="nw-value positive">$55,000</div></div></div></div></div></div><div class="card"><h2>Key Ratios</h2><div class="ratios"><div class="ratio"><div class="ratio-label">DSCR</div><div class="ratio-gauge"><svg width="80" height="80"><circle cx="40" cy="40" r="34" fill="none" stroke="${c.g2}" stroke-width="6"/><circle cx="40" cy="40" r="34" fill="none" stroke="${c.success}" stroke-width="6" stroke-dasharray="213.6" stroke-dashoffset="53.4" stroke-linecap="round"/></svg><div class="ratio-value">1.8x</div></div></div><div class="ratio"><div class="ratio-label">DTI</div><div class="ratio-gauge"><svg width="80" height="80"><circle cx="40" cy="40" r="34" fill="none" stroke="${c.g2}" stroke-width="6"/><circle cx="40" cy="40" r="34" fill="none" stroke="${c.success}" stroke-width="6" stroke-dasharray="213.6" stroke-dashoffset="132.4" stroke-linecap="round"/></svg><div class="ratio-value">38%</div></div></div><div class="ratio"><div class="ratio-label">Current Ratio</div><div class="ratio-gauge"><svg width="80" height="80"><circle cx="40" cy="40" r="34" fill="none" stroke="${c.g2}" stroke-width="6"/><circle cx="40" cy="40" r="34" fill="none" stroke="${c.success}" stroke-width="6" stroke-dasharray="213.6" stroke-dashoffset="69.4" stroke-linecap="round"/></svg><div class="ratio-value">2.1x</div></div></div><div class="ratio"><div class="ratio-label">Savings Rate</div><div class="ratio-gauge"><svg width="80" height="80"><circle cx="40" cy="40" r="34" fill="none" stroke="${c.g2}" stroke-width="6"/><circle cx="40" cy="40" r="34" fill="none" stroke="${c.success}" stroke-width="6" stroke-dasharray="213.6" stroke-dashoffset="158.1" stroke-linecap="round"/></svg><div class="ratio-value">26%</div></div></div></div></div><div class="card"><h2>Virtual CFO Insights</h2><div class="insights"><div class="insight">Your emergency fund covers 6.4 months of expenses ‚Äî well above the recommended 3-6 months</div><div class="insight">Credit utilization at 22% is optimal. Keep balances below 30% to maintain strong score</div><div class="insight">Your debt paydown pace will eliminate all consumer debt in 18 months at current rate</div><div class="insight">Consider increasing retirement contributions by 2% to maximize tax advantages</div></div></div><div class="callout">Your financial health has improved 14% since joining CremoLogix</div></div></body></html>`;

// Compile all screens
const screens = [
  {id:'CL-01',title:'Landing Page',icon:'üè†',b64:b64(screen01)},
  {id:'CL-02',title:'Account Creation',icon:'üë§',b64:b64(screen02)},
  {id:'CL-03',title:'Welcome Experience',icon:'ü§ù',b64:b64(screen03)},
  {id:'CL-04',title:'Borrower Dashboard',icon:'üìä',b64:b64(screen04)},
  {id:'CL-05',title:'Gate 1 - Intent',icon:'üéØ',b64:b64(screen05)},
  {id:'CL-06',title:'Gate 2a - Credit Check',icon:'üìà',b64:b64(screen06)},
  {id:'CL-07',title:'Gate 2b - Identity',icon:'üîê',b64:b64(screen07)},
  {id:'CL-08',title:'Gate 2c - Business Info',icon:'üè¢',b64:b64(screen08)},
  {id:'CL-09',title:'Gate 2.5 - Financial Snapshot',icon:'üí∞',b64:b64(screen09)},
  {id:'CL-10',title:'Tier 1 Terms Reveal',icon:'üéâ',b64:b64(screen10)},
  {id:'CL-11',title:'Application Fee',icon:'üí≥',b64:b64(screen11)},
  {id:'CL-12',title:'Gate 3 - Connect Accounts',icon:'üîó',b64:b64(screen12)},
  {id:'CL-13',title:'Analysis In Progress',icon:'‚è≥',b64:b64(screen13)},
  {id:'CL-14',title:'Tier 2 Terms + Clarifications',icon:'‚úÖ',b64:b64(screen14)},
  {id:'CL-15',title:'Under Review',icon:'üìã',b64:b64(screen15)},
  {id:'CL-16',title:'Approved',icon:'üéâ',b64:b64(screen16)},
  {id:'CL-17',title:'Denied + Mentorship',icon:'üí™',b64:b64(screen17)},
  {id:'CL-18',title:'Closing - Documents',icon:'‚úçÔ∏è',b64:b64(screen18)},
  {id:'CL-19',title:'Funded!',icon:'üí∞',b64:b64(screen19)},
  {id:'CL-20',title:'My Loans Dashboard',icon:'üìä',b64:b64(screen20)},
  {id:'CL-21',title:'Mentorship Dashboard',icon:'üéØ',b64:b64(screen21)},
  {id:'CL-22',title:'Financial Health',icon:'üí™',b64:b64(screen22)},
];

// Generate wrapper HTML
const wrapper = `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CremoLogix v2 - Borrower Experience Demo (22 Screens)</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}html,body{height:100%;overflow:hidden;font-family:'Segoe UI',system-ui,sans-serif}#demo-bar{height:40px;background:${c.navy};color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 16px;font-size:14px;z-index:100;position:relative}#demo-bar .left{display:flex;align-items:center;min-width:0;flex-shrink:1}#demo-bar .title{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#demo-bar .back-btn{background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.25);color:#fff;height:28px;padding:0 12px;border-radius:4px;cursor:pointer;font-size:13px;font-family:inherit;display:flex;align-items:center;gap:6px;transition:background .15s;text-decoration:none;margin-right:12px;flex-shrink:0;white-space:nowrap}#demo-bar .back-btn:hover{background:rgba(255,255,255,.22)}#demo-bar .indicator{position:absolute;left:50%;transform:translateX(-50%);opacity:.85;font-size:13px}#demo-bar .nav-btns{display:flex;gap:6px}#demo-bar .nav-btns button{background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.25);color:#fff;width:32px;height:28px;border-radius:4px;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;transition:background .15s}#demo-bar .nav-btns button:hover{background:rgba(255,255,255,.22)}#demo-bar .nav-btns button:disabled{opacity:.35;cursor:default}#frame-wrap{position:relative;height:calc(100vh - 40px);background:#f0f0f0}#app-frame{width:100%;height:100%;border:none;display:block}#fade-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:#000;opacity:0;pointer-events:none;transition:opacity .15s;z-index:10}#fade-overlay.show{opacity:.15}#navigator{position:fixed;bottom:24px;right:24px;z-index:200}#nav-toggle{width:56px;height:56px;border-radius:50%;background:${c.teal};color:white;border:none;font-size:24px;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.2);transition:all .2s}#nav-toggle:hover{transform:scale(1.05);box-shadow:0 6px 16px rgba(0,0,0,.3)}#nav-panel{position:absolute;bottom:70px;right:0;width:320px;max-height:500px;background:white;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.15);opacity:0;transform:translateY(10px) scale(0.95);pointer-events:none;transition:all .2s;overflow:hidden}#nav-panel.show{opacity:1;transform:translateY(0) scale(1);pointer-events:auto}#nav-panel .header{padding:16px;background:${c.navy};color:white;font-weight:600;font-size:14px}#nav-list{list-style:none;max-height:436px;overflow-y:auto}#nav-list li{padding:12px 16px;cursor:pointer;border-bottom:1px solid #eee;transition:background .15s;display:flex;align-items:center;gap:10px;font-size:14px}#nav-list li:hover{background:#f8f9fa}#nav-list li.active{background:rgba(0,109,119,.08);color:${c.teal};font-weight:600}#nav-list li .icon{font-size:18px}#nav-list li .info{flex:1;min-width:0}#nav-list li .id{font-size:11px;opacity:.6}#nav-list li .label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
</style>
</head>
<body>
<div id="demo-bar">
<div class="left">
<a href="../" class="back-btn">‚Üê Back to Gallery</a>
<div class="title">CremoLogix v2 - Borrower Portal (22 Screens)</div>
</div>
<div class="indicator" id="screen-indicator">1 / ${screens.length}</div>
<div class="nav-btns">
<button id="btn-prev" title="Previous">‚óÄ</button>
<button id="btn-next" title="Next">‚ñ∂</button>
</div>
</div>
<div id="frame-wrap">
<iframe id="app-frame"></iframe>
<div id="fade-overlay"></div>
</div>
<div id="navigator">
<button id="nav-toggle" title="Jump to screen">‚â°</button>
<div id="nav-panel">
<div class="header">All Screens (${screens.length})</div>
<ul id="nav-list"></ul>
</div>
</div>
<script>
const SCREENS=${JSON.stringify(screens)};
let current=0;
const frame=document.getElementById('app-frame');
const fade=document.getElementById('fade-overlay');
const indicator=document.getElementById('screen-indicator');
const btnPrev=document.getElementById('btn-prev');
const btnNext=document.getElementById('btn-next');
const nav=document.getElementById('navigator');
const navToggle=document.getElementById('nav-toggle');
const navPanel=document.getElementById('nav-panel');
const navList=document.getElementById('nav-list');
SCREENS.forEach((s,i)=>{
const li=document.createElement('li');
li.innerHTML=\`<span class="icon">\${s.icon}</span><div class="info"><div class="id">\${s.id}</div><div class="label">\${s.title}</div></div>\`;
li.addEventListener('click',()=>{goTo(i);navPanel.classList.remove('show')});
navList.appendChild(li);
});
function goTo(index){
if(index<0||index>=SCREENS.length||index===current)return;
fade.classList.add('show');
setTimeout(()=>{
current=index;
frame.srcdoc=atob(SCREENS[current].b64);
indicator.textContent=\`\${current+1} / \${SCREENS.length}\`;
btnPrev.disabled=current===0;
btnNext.disabled=current===SCREENS.length-1;
document.querySelectorAll('#nav-list li').forEach((li,i)=>{
li.classList.toggle('active',i===current);
});
setTimeout(()=>fade.classList.remove('show'),50);
},150);
}
btnPrev.addEventListener('click',()=>goTo(current-1));
btnNext.addEventListener('click',()=>goTo(current+1));
navToggle.addEventListener('click',()=>navPanel.classList.toggle('show'));
document.addEventListener('click',(e)=>{if(!nav.contains(e.target))navPanel.classList.remove('show')});
document.addEventListener('keydown',(e)=>{
if(e.key==='ArrowLeft')goTo(current-1);
if(e.key==='ArrowRight')goTo(current+1);
if(e.key==='Escape')navPanel.classList.remove('show');
});
goTo(0);
</script>
</body>
</html>`;

// Write output
const outputPath = path.join(__dirname, 'cremologix-v2', 'demo-borrower.html');
fs.mkdirSync(path.dirname(outputPath), { recursive: true });
fs.writeFileSync(outputPath, wrapper, 'utf8');

console.log(`‚úì Created ${outputPath}`);
console.log(`‚úì Generated all ${screens.length} screens`);
console.log('');
console.log('NOTE: Screens 13-22 are placeholder versions.');
console.log('To make them production-ready with full rich content:');
console.log('1. Edit this script and expand each screen13-22 definition');
console.log('2. Follow the pattern of screens 09-12 (full layouts, data, styling)');
console.log('3. Re-run: node complete-v2-build.js');
